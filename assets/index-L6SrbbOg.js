var uE=Object.defineProperty;var cE=(r,t,n)=>t in r?uE(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n;var Y_=(r,t,n)=>cE(r,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var Rf={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function hE(){if(X_)return pl;X_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:r,type:s,key:c,ref:a!==void 0?a:null,props:o}}return pl.Fragment=t,pl.jsx=n,pl.jsxs=n,pl}var B_;function fE(){return B_||(B_=1,Rf.exports=hE()),Rf.exports}var gt=fE(),Tf={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function dE(){if(H_)return xt;H_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.iterator;function p(M){return M===null||typeof M!="object"?null:(M=y&&M[y]||M["@@iterator"],typeof M=="function"?M:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,C={};function R(M,B,U){this.props=M,this.context=B,this.refs=C,this.updater=U||E}R.prototype.isReactComponent={},R.prototype.setState=function(M,B){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,B,"setState")},R.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function T(){}T.prototype=R.prototype;function b(M,B,U){this.props=M,this.context=B,this.refs=C,this.updater=U||E}var O=b.prototype=new T;O.constructor=b,x(O,R.prototype),O.isPureReactComponent=!0;var D=Array.isArray,w={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function K(M,B,U,et,J,at){return U=at.ref,{$$typeof:r,type:M,key:B,ref:U!==void 0?U:null,props:at}}function P(M,B){return K(M.type,B,void 0,void 0,void 0,M.props)}function k(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function q(M){var B={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(U){return B[U]})}var it=/\/+/g;function rt(M,B){return typeof M=="object"&&M!==null&&M.key!=null?q(""+M.key):B.toString(36)}function ot(){}function tt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ot,ot):(M.status="pending",M.then(function(B){M.status==="pending"&&(M.status="fulfilled",M.value=B)},function(B){M.status==="pending"&&(M.status="rejected",M.reason=B)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function mt(M,B,U,et,J){var at=typeof M;(at==="undefined"||at==="boolean")&&(M=null);var ct=!1;if(M===null)ct=!0;else switch(at){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(M.$$typeof){case r:case t:ct=!0;break;case _:return ct=M._init,mt(ct(M._payload),B,U,et,J)}}if(ct)return J=J(M),ct=et===""?"."+rt(M,0):et,D(J)?(U="",ct!=null&&(U=ct.replace(it,"$&/")+"/"),mt(J,B,U,"",function(Xt){return Xt})):J!=null&&(k(J)&&(J=P(J,U+(J.key==null||M&&M.key===J.key?"":(""+J.key).replace(it,"$&/")+"/")+ct)),B.push(J)),1;ct=0;var Gt=et===""?".":et+":";if(D(M))for(var yt=0;yt<M.length;yt++)et=M[yt],at=Gt+rt(et,yt),ct+=mt(et,B,U,at,J);else if(yt=p(M),typeof yt=="function")for(M=yt.call(M),yt=0;!(et=M.next()).done;)et=et.value,at=Gt+rt(et,yt++),ct+=mt(et,B,U,at,J);else if(at==="object"){if(typeof M.then=="function")return mt(tt(M),B,U,et,J);throw B=String(M),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ct}function F(M,B,U){if(M==null)return M;var et=[],J=0;return mt(M,et,"","",function(at){return B.call(U,at,J++)}),et}function $(M){if(M._status===-1){var B=M._result;B=B(),B.then(function(U){(M._status===0||M._status===-1)&&(M._status=1,M._result=U)},function(U){(M._status===0||M._status===-1)&&(M._status=2,M._result=U)}),M._status===-1&&(M._status=0,M._result=B)}if(M._status===1)return M._result.default;throw M._result}var Q=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function nt(){}return xt.Children={map:F,forEach:function(M,B,U){F(M,function(){B.apply(this,arguments)},U)},count:function(M){var B=0;return F(M,function(){B++}),B},toArray:function(M){return F(M,function(B){return B})||[]},only:function(M){if(!k(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},xt.Component=R,xt.Fragment=n,xt.Profiler=a,xt.PureComponent=b,xt.StrictMode=s,xt.Suspense=d,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,xt.act=function(){throw Error("act(...) is not supported in production builds of React.")},xt.cache=function(M){return function(){return M.apply(null,arguments)}},xt.cloneElement=function(M,B,U){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var et=x({},M.props),J=M.key,at=void 0;if(B!=null)for(ct in B.ref!==void 0&&(at=void 0),B.key!==void 0&&(J=""+B.key),B)!X.call(B,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&B.ref===void 0||(et[ct]=B[ct]);var ct=arguments.length-2;if(ct===1)et.children=U;else if(1<ct){for(var Gt=Array(ct),yt=0;yt<ct;yt++)Gt[yt]=arguments[yt+2];et.children=Gt}return K(M.type,J,void 0,void 0,at,et)},xt.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},xt.createElement=function(M,B,U){var et,J={},at=null;if(B!=null)for(et in B.key!==void 0&&(at=""+B.key),B)X.call(B,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(J[et]=B[et]);var ct=arguments.length-2;if(ct===1)J.children=U;else if(1<ct){for(var Gt=Array(ct),yt=0;yt<ct;yt++)Gt[yt]=arguments[yt+2];J.children=Gt}if(M&&M.defaultProps)for(et in ct=M.defaultProps,ct)J[et]===void 0&&(J[et]=ct[et]);return K(M,at,void 0,void 0,null,J)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(M){return{$$typeof:h,render:M}},xt.isValidElement=k,xt.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:$}},xt.memo=function(M,B){return{$$typeof:g,type:M,compare:B===void 0?null:B}},xt.startTransition=function(M){var B=w.T,U={};w.T=U;try{var et=M(),J=w.S;J!==null&&J(U,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(nt,Q)}catch(at){Q(at)}finally{w.T=B}},xt.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},xt.use=function(M){return w.H.use(M)},xt.useActionState=function(M,B,U){return w.H.useActionState(M,B,U)},xt.useCallback=function(M,B){return w.H.useCallback(M,B)},xt.useContext=function(M){return w.H.useContext(M)},xt.useDebugValue=function(){},xt.useDeferredValue=function(M,B){return w.H.useDeferredValue(M,B)},xt.useEffect=function(M,B){return w.H.useEffect(M,B)},xt.useId=function(){return w.H.useId()},xt.useImperativeHandle=function(M,B,U){return w.H.useImperativeHandle(M,B,U)},xt.useInsertionEffect=function(M,B){return w.H.useInsertionEffect(M,B)},xt.useLayoutEffect=function(M,B){return w.H.useLayoutEffect(M,B)},xt.useMemo=function(M,B){return w.H.useMemo(M,B)},xt.useOptimistic=function(M,B){return w.H.useOptimistic(M,B)},xt.useReducer=function(M,B,U){return w.H.useReducer(M,B,U)},xt.useRef=function(M){return w.H.useRef(M)},xt.useState=function(M){return w.H.useState(M)},xt.useSyncExternalStore=function(M,B,U){return w.H.useSyncExternalStore(M,B,U)},xt.useTransition=function(){return w.H.useTransition()},xt.version="19.0.0",xt}var P_;function xd(){return P_||(P_=1,Tf.exports=dE()),Tf.exports}var Y=xd(),wf={exports:{}},vl={},bf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function gE(){return j_||(j_=1,function(r){function t(F,$){var Q=F.length;F.push($);t:for(;0<Q;){var nt=Q-1>>>1,M=F[nt];if(0<a(M,$))F[nt]=$,F[Q]=M,Q=nt;else break t}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var $=F[0],Q=F.pop();if(Q!==$){F[0]=Q;t:for(var nt=0,M=F.length,B=M>>>1;nt<B;){var U=2*(nt+1)-1,et=F[U],J=U+1,at=F[J];if(0>a(et,Q))J<M&&0>a(at,et)?(F[nt]=at,F[J]=Q,nt=J):(F[nt]=et,F[U]=Q,nt=U);else if(J<M&&0>a(at,Q))F[nt]=at,F[J]=Q,nt=J;else break t}}return $}function a(F,$){var Q=F.sortIndex-$.sortIndex;return Q!==0?Q:F.id-$.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();r.unstable_now=function(){return c.now()-h}}var d=[],g=[],_=1,y=null,p=3,E=!1,x=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function O(F){for(var $=n(g);$!==null;){if($.callback===null)s(g);else if($.startTime<=F)s(g),$.sortIndex=$.expirationTime,t(d,$);else break;$=n(g)}}function D(F){if(C=!1,O(F),!x)if(n(d)!==null)x=!0,tt();else{var $=n(g);$!==null&&mt(D,$.startTime-F)}}var w=!1,X=-1,K=5,P=-1;function k(){return!(r.unstable_now()-P<K)}function q(){if(w){var F=r.unstable_now();P=F;var $=!0;try{t:{x=!1,C&&(C=!1,T(X),X=-1),E=!0;var Q=p;try{e:{for(O(F),y=n(d);y!==null&&!(y.expirationTime>F&&k());){var nt=y.callback;if(typeof nt=="function"){y.callback=null,p=y.priorityLevel;var M=nt(y.expirationTime<=F);if(F=r.unstable_now(),typeof M=="function"){y.callback=M,O(F),$=!0;break e}y===n(d)&&s(d),O(F)}else s(d);y=n(d)}if(y!==null)$=!0;else{var B=n(g);B!==null&&mt(D,B.startTime-F),$=!1}}break t}finally{y=null,p=Q,E=!1}$=void 0}}finally{$?it():w=!1}}}var it;if(typeof b=="function")it=function(){b(q)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,ot=rt.port2;rt.port1.onmessage=q,it=function(){ot.postMessage(null)}}else it=function(){R(q,0)};function tt(){w||(w=!0,it())}function mt(F,$){X=R(function(){F(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_continueExecution=function(){x||E||(x=!0,tt())},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return p},r.unstable_getFirstCallbackNode=function(){return n(d)},r.unstable_next=function(F){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var Q=p;p=$;try{return F()}finally{p=Q}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(F,$){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Q=p;p=F;try{return $()}finally{p=Q}},r.unstable_scheduleCallback=function(F,$,Q){var nt=r.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?nt+Q:nt):Q=nt,F){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=Q+M,F={id:_++,callback:$,priorityLevel:F,startTime:Q,expirationTime:M,sortIndex:-1},Q>nt?(F.sortIndex=Q,t(g,F),n(d)===null&&F===n(g)&&(C?(T(X),X=-1):C=!0,mt(D,Q-nt))):(F.sortIndex=M,t(d,F),x||E||(x=!0,tt())),F},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(F){var $=p;return function(){var Q=p;p=$;try{return F.apply(this,arguments)}finally{p=Q}}}}(Af)),Af}var Z_;function mE(){return Z_||(Z_=1,bf.exports=gE()),bf.exports}var Mf={exports:{}},Oe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function _E(){if(V_)return Oe;V_=1;var r=xd();function t(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,g,_){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:d,containerInfo:g,implementation:_}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Oe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Oe.createPortal=function(d,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(d,g,null,_)},Oe.flushSync=function(d){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=g,s.p=_,s.d.f()}},Oe.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(d,g))},Oe.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Oe.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var _=g.as,y=h(_,g.crossOrigin),p=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:p,fetchPriority:E}):_==="script"&&s.d.X(d,{crossOrigin:y,integrity:p,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Oe.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=h(g.as,g.crossOrigin);s.d.M(d,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(d)},Oe.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,y=h(_,g.crossOrigin);s.d.L(d,_,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Oe.preloadModule=function(d,g){if(typeof d=="string")if(g){var _=h(g.as,g.crossOrigin);s.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(d)},Oe.requestFormReset=function(d){s.d.r(d)},Oe.unstable_batchedUpdates=function(d,g){return d(g)},Oe.useFormState=function(d,g,_){return c.H.useFormState(d,g,_)},Oe.useFormStatus=function(){return c.H.useHostTransitionStatus()},Oe.version="19.0.0",Oe}var q_;function yE(){if(q_)return Mf.exports;q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Mf.exports=_E(),Mf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function pE(){if(K_)return vl;K_=1;var r=mE(),t=xd(),n=yE();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var o=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),E=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),D=Symbol.for("react.memo_cache_sentinel"),w=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=w&&e[w]||e["@@iterator"],typeof e=="function"?e:null)}var K=Symbol.for("react.client.reference");function P(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===K?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case d:return"Fragment";case h:return"Portal";case _:return"Profiler";case g:return"StrictMode";case C:return"Suspense";case R:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case E:return(e.displayName||"Context")+".Provider";case p:return(e._context.displayName||"Context")+".Consumer";case x:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case T:return i=e.displayName||null,i!==null?i:P(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return P(e(i))}catch{}}return null}var k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=Object.assign,it,rt;function ot(e){if(it===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);it=i&&i[1]||"",rt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+e+rt}var tt=!1;function mt(e,i){if(!e||tt)return"";tt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(H){var G=H}Reflect.construct(e,[],W)}else{try{W.call()}catch(H){G=H}e.call(W.prototype)}}else{try{throw Error()}catch(H){G=H}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(H){if(H&&G&&typeof H.stack=="string")return[H.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),v=m[0],S=m[1];if(v&&S){var A=v.split(`
`),I=S.split(`
`);for(f=u=0;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;for(;f<I.length&&!I[f].includes("DetermineComponentFrameRoot");)f++;if(u===A.length||f===I.length)for(u=A.length-1,f=I.length-1;1<=u&&0<=f&&A[u]!==I[f];)f--;for(;1<=u&&0<=f;u--,f--)if(A[u]!==I[f]){if(u!==1||f!==1)do if(u--,f--,0>f||A[u]!==I[f]){var j=`
`+A[u].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=u&&0<=f);break}}}finally{tt=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?ot(l):""}function F(e){switch(e.tag){case 26:case 27:case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return e=mt(e.type,!1),e;case 11:return e=mt(e.type.render,!1),e;case 1:return e=mt(e.type,!0),e;default:return""}}function $(e){try{var i="";do i+=F(e),e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Q(e){var i=e,l=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(l=i.return),e=i.return;while(e)}return i.tag===3?l:null}function nt(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function M(e){if(Q(e)!==e)throw Error(s(188))}function B(e){var i=e.alternate;if(!i){if(i=Q(e),i===null)throw Error(s(188));return i!==e?null:e}for(var l=e,u=i;;){var f=l.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){l=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===l)return M(f),e;if(m===u)return M(f),i;m=m.sibling}throw Error(s(188))}if(l.return!==u.return)l=f,u=m;else{for(var v=!1,S=f.child;S;){if(S===l){v=!0,l=f,u=m;break}if(S===u){v=!0,u=f,l=m;break}S=S.sibling}if(!v){for(S=m.child;S;){if(S===l){v=!0,l=m,u=f;break}if(S===u){v=!0,u=m,l=f;break}S=S.sibling}if(!v)throw Error(s(189))}}if(l.alternate!==u)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:i}function U(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=U(e),i!==null)return i;e=e.sibling}return null}var et=Array.isArray,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},ct=[],Gt=-1;function yt(e){return{current:e}}function Xt(e){0>Gt||(e.current=ct[Gt],ct[Gt]=null,Gt--)}function Et(e,i){Gt++,ct[Gt]=e.current,e.current=i}var ze=yt(null),Xn=yt(null),$e=yt(null),Je=yt(null);function Bn(e,i){switch(Et($e,i),Et(Xn,e),Et(ze,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?m_(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=m_(e),i=__(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Xt(ze),Et(ze,i)}function Ee(){Xt(ze),Xt(Xn),Xt($e)}function Xe(e){e.memoizedState!==null&&Et(Je,e);var i=ze.current,l=__(i,e.type);i!==l&&(Et(Xn,e),Et(ze,l))}function bn(e){Xn.current===e&&(Xt(ze),Xt(Xn)),Je.current===e&&(Xt(Je),dl._currentValue=at)}var An=Object.prototype.hasOwnProperty,Hn=r.unstable_scheduleCallback,si=r.unstable_cancelCallback,Mn=r.unstable_shouldYield,ri=r.unstable_requestPaint,Pt=r.unstable_now,xa=r.unstable_getCurrentPriorityLevel,Ss=r.unstable_ImmediatePriority,Cs=r.unstable_UserBlockingPriority,lr=r.unstable_NormalPriority,lo=r.unstable_LowPriority,Sa=r.unstable_IdlePriority,Ca=r.log,yc=r.unstable_setDisableYieldValue,Rs=null,Te=null;function oo(e){if(Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot(Rs,e,void 0,(e.current.flags&128)===128)}catch{}}function ln(e){if(typeof Ca=="function"&&yc(e),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode(Rs,e)}catch{}}var we=Math.clz32?Math.clz32:Ts,pc=Math.log,Ra=Math.LN2;function Ts(e){return e>>>=0,e===0?32:31-(pc(e)/Ra|0)|0}var Pn=128,jn=4194304;function Zn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ws(e,i){var l=e.pendingLanes;if(l===0)return 0;var u=0,f=e.suspendedLanes,m=e.pingedLanes,v=e.warmLanes;e=e.finishedLanes!==0;var S=l&134217727;return S!==0?(l=S&~f,l!==0?u=Zn(l):(m&=S,m!==0?u=Zn(m):e||(v=S&~v,v!==0&&(u=Zn(v))))):(S=l&~f,S!==0?u=Zn(S):m!==0?u=Zn(m):e||(v=l&~v,v!==0&&(u=Zn(v)))),u===0?0:i!==0&&i!==u&&(i&f)===0&&(f=u&-u,v=i&-i,f>=v||f===32&&(v&4194176)!==0)?i:u}function he(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function ai(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ne(){var e=Pn;return Pn<<=1,(Pn&4194176)===0&&(Pn=128),e}function tn(){var e=jn;return jn<<=1,(jn&62914560)===0&&(jn=4194304),e}function be(e){for(var i=[],l=0;31>l;l++)i.push(e);return i}function ke(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function On(e,i,l,u,f,m){var v=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var S=e.entanglements,A=e.expirationTimes,I=e.hiddenUpdates;for(l=v&~l;0<l;){var j=31-we(l),W=1<<j;S[j]=0,A[j]=-1;var G=I[j];if(G!==null)for(I[j]=null,j=0;j<G.length;j++){var H=G[j];H!==null&&(H.lane&=-536870913)}l&=~W}u!==0&&qt(e,u,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(v&~i))}function qt(e,i,l){e.pendingLanes|=i,e.suspendedLanes&=~i;var u=31-we(i);e.entangledLanes|=i,e.entanglements[u]=e.entanglements[u]|1073741824|l&4194218}function fe(e,i){var l=e.entangledLanes|=i;for(e=e.entanglements;l;){var u=31-we(l),f=1<<u;f&i|e[u]&i&&(e[u]|=i),l&=~f}}function on(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function uo(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:z_(e.type))}function J1(e,i){var l=J.p;try{return J.p=e,i()}finally{J.p=l}}var Ui=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Ui,Be="__reactProps$"+Ui,or="__reactContainer$"+Ui,vc="__reactEvents$"+Ui,t2="__reactListeners$"+Ui,e2="__reactHandles$"+Ui,dg="__reactResources$"+Ui,Ta="__reactMarker$"+Ui;function Ec(e){delete e[Ae],delete e[Be],delete e[vc],delete e[t2],delete e[e2]}function bs(e){var i=e[Ae];if(i)return i;for(var l=e.parentNode;l;){if(i=l[or]||l[Ae]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(e=v_(e);e!==null;){if(l=e[Ae])return l;e=v_(e)}return i}e=l,l=e.parentNode}return null}function ur(e){if(e=e[Ae]||e[or]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function wa(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function cr(e){var i=e[dg];return i||(i=e[dg]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function de(e){e[Ta]=!0}var gg=new Set,mg={};function As(e,i){hr(e,i),hr(e+"Capture",i)}function hr(e,i){for(mg[e]=i,e=0;e<i.length;e++)gg.add(i[e])}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),n2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_g={},yg={};function i2(e){return An.call(yg,e)?!0:An.call(_g,e)?!1:n2.test(e)?yg[e]=!0:(_g[e]=!0,!1)}function co(e,i,l){if(i2(i))if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+l)}}function ho(e,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+l)}}function oi(e,i,l,u){if(u===null)e.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(i,l,""+u)}}function un(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pg(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function s2(e){var i=pg(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),u=""+e[i];if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){u=""+v,m.call(this,v)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function fo(e){e._valueTracker||(e._valueTracker=s2(e))}function vg(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return e&&(u=pg(e)?e.checked?"true":"false":e.value),e=u,e!==l?(i.setValue(e),!0):!1}function go(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var r2=/[\n"\\]/g;function cn(e){return e.replace(r2,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function xc(e,i,l,u,f,m,v,S){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+un(i)):e.value!==""+un(i)&&(e.value=""+un(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Sc(e,v,un(i)):l!=null?Sc(e,v,un(l)):u!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+un(S):e.removeAttribute("name")}function Eg(e,i,l,u,f,m,v,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),i!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;l=l!=null?""+un(l):"",i=i!=null?""+un(i):l,S||i===e.value||(e.value=i),e.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=S?e.checked:!!u,e.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Sc(e,i,l){i==="number"&&go(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function fr(e,i,l,u){if(e=e.options,i){i={};for(var f=0;f<l.length;f++)i["$"+l[f]]=!0;for(l=0;l<e.length;l++)f=i.hasOwnProperty("$"+e[l].value),e[l].selected!==f&&(e[l].selected=f),f&&u&&(e[l].defaultSelected=!0)}else{for(l=""+un(l),i=null,f=0;f<e.length;f++){if(e[f].value===l){e[f].selected=!0,u&&(e[f].defaultSelected=!0);return}i!==null||e[f].disabled||(i=e[f])}i!==null&&(i.selected=!0)}}function xg(e,i,l){if(i!=null&&(i=""+un(i),i!==e.value&&(e.value=i),l==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=l!=null?""+un(l):""}function Sg(e,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(s(92));if(et(u)){if(1<u.length)throw Error(s(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=un(i),e.defaultValue=l,u=e.textContent,u===l&&u!==""&&u!==null&&(e.value=u)}function dr(e,i){if(i){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=i;return}}e.textContent=i}var a2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cg(e,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":u?e.setProperty(i,l):typeof l!="number"||l===0||a2.has(i)?i==="float"?e.cssFloat=l:e[i]=(""+l).trim():e[i]=l+"px"}function Rg(e,i,l){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&l[f]!==u&&Cg(e,f,u)}else for(var m in i)i.hasOwnProperty(m)&&Cg(e,m,i[m])}function Cc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var l2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),o2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mo(e){return o2.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Rc=null;function Tc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gr=null,mr=null;function Tg(e){var i=ur(e);if(i&&(e=i.stateNode)){var l=e[Be]||null;t:switch(e=i.stateNode,i.type){case"input":if(xc(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+cn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==e&&u.form===e.form){var f=u[Be]||null;if(!f)throw Error(s(90));xc(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===e.form&&vg(u)}break t;case"textarea":xg(e,l.value,l.defaultValue);break t;case"select":i=l.value,i!=null&&fr(e,!!l.multiple,i,!1)}}}var wc=!1;function wg(e,i,l){if(wc)return e(i,l);wc=!0;try{var u=e(i);return u}finally{if(wc=!1,(gr!==null||mr!==null)&&($o(),gr&&(i=gr,e=mr,mr=gr=null,Tg(i),e)))for(i=0;i<e.length;i++)Tg(e[i])}}function ba(e,i){var l=e.stateNode;if(l===null)return null;var u=l[Be]||null;if(u===null)return null;l=u[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break t;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var bc=!1;if(li)try{var Aa={};Object.defineProperty(Aa,"passive",{get:function(){bc=!0}}),window.addEventListener("test",Aa,Aa),window.removeEventListener("test",Aa,Aa)}catch{bc=!1}var Fi=null,Ac=null,_o=null;function bg(){if(_o)return _o;var e,i=Ac,l=i.length,u,f="value"in Fi?Fi.value:Fi.textContent,m=f.length;for(e=0;e<l&&i[e]===f[e];e++);var v=l-e;for(u=1;u<=v&&i[l-u]===f[m-u];u++);return _o=f.slice(e,1<u?1-u:void 0)}function yo(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function po(){return!0}function Ag(){return!1}function He(e){function i(l,u,f,m,v){this._reactName=l,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(l=e[S],this[S]=l?l(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?po:Ag,this.isPropagationStopped=Ag,this}return q(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=po)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=po)},persist:function(){},isPersistent:po}),i}var Ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vo=He(Ms),Ma=q({},Ms,{view:0,detail:0}),u2=He(Ma),Mc,Oc,Oa,Eo=q({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oa&&(Oa&&e.type==="mousemove"?(Mc=e.screenX-Oa.screenX,Oc=e.screenY-Oa.screenY):Oc=Mc=0,Oa=e),Mc)},movementY:function(e){return"movementY"in e?e.movementY:Oc}}),Mg=He(Eo),c2=q({},Eo,{dataTransfer:0}),h2=He(c2),f2=q({},Ma,{relatedTarget:0}),Dc=He(f2),d2=q({},Ms,{animationName:0,elapsedTime:0,pseudoElement:0}),g2=He(d2),m2=q({},Ms,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_2=He(m2),y2=q({},Ms,{data:0}),Og=He(y2),p2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x2(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=E2[e])?!!i[e]:!1}function Lc(){return x2}var S2=q({},Ma,{key:function(e){if(e.key){var i=p2[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=yo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?v2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lc,charCode:function(e){return e.type==="keypress"?yo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),C2=He(S2),R2=q({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dg=He(R2),T2=q({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lc}),w2=He(T2),b2=q({},Ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),A2=He(b2),M2=q({},Eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),O2=He(M2),D2=q({},Ms,{newState:0,oldState:0}),L2=He(D2),I2=[9,13,27,32],Ic=li&&"CompositionEvent"in window,Da=null;li&&"documentMode"in document&&(Da=document.documentMode);var z2=li&&"TextEvent"in window&&!Da,Lg=li&&(!Ic||Da&&8<Da&&11>=Da),Ig=" ",zg=!1;function Ng(e,i){switch(e){case"keyup":return I2.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _r=!1;function N2(e,i){switch(e){case"compositionend":return kg(i);case"keypress":return i.which!==32?null:(zg=!0,Ig);case"textInput":return e=i.data,e===Ig&&zg?null:e;default:return null}}function k2(e,i){if(_r)return e==="compositionend"||!Ic&&Ng(e,i)?(e=bg(),_o=Ac=Fi=null,_r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Lg&&i.locale!=="ko"?null:i.data;default:return null}}var G2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!G2[e.type]:i==="textarea"}function Ug(e,i,l,u){gr?mr?mr.push(u):mr=[u]:gr=u,i=iu(i,"onChange"),0<i.length&&(l=new vo("onChange","change",null,l,u),e.push({event:l,listeners:i}))}var La=null,Ia=null;function U2(e){c_(e,0)}function xo(e){var i=wa(e);if(vg(i))return e}function Fg(e,i){if(e==="change")return i}var Yg=!1;if(li){var zc;if(li){var Nc="oninput"in document;if(!Nc){var Xg=document.createElement("div");Xg.setAttribute("oninput","return;"),Nc=typeof Xg.oninput=="function"}zc=Nc}else zc=!1;Yg=zc&&(!document.documentMode||9<document.documentMode)}function Bg(){La&&(La.detachEvent("onpropertychange",Hg),Ia=La=null)}function Hg(e){if(e.propertyName==="value"&&xo(Ia)){var i=[];Ug(i,Ia,e,Tc(e)),wg(U2,i)}}function F2(e,i,l){e==="focusin"?(Bg(),La=i,Ia=l,La.attachEvent("onpropertychange",Hg)):e==="focusout"&&Bg()}function Y2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xo(Ia)}function X2(e,i){if(e==="click")return xo(i)}function B2(e,i){if(e==="input"||e==="change")return xo(i)}function H2(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var en=typeof Object.is=="function"?Object.is:H2;function za(e,i){if(en(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var l=Object.keys(e),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var f=l[u];if(!An.call(i,f)||!en(e[f],i[f]))return!1}return!0}function Pg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jg(e,i){var l=Pg(e);e=0;for(var u;l;){if(l.nodeType===3){if(u=e+l.textContent.length,e<=i&&u>=i)return{node:l,offset:i-e};e=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Pg(l)}}function Zg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Zg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Vg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=go(e.document);i instanceof e.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)e=i.contentWindow;else break;i=go(e.document)}return i}function kc(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function P2(e,i){var l=Vg(i);i=e.focusedElem;var u=e.selectionRange;if(l!==i&&i&&i.ownerDocument&&Zg(i.ownerDocument.documentElement,i)){if(u!==null&&kc(i)){if(e=u.start,l=u.end,l===void 0&&(l=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(l,i.value.length);else if(l=(e=i.ownerDocument||document)&&e.defaultView||window,l.getSelection){l=l.getSelection();var f=i.textContent.length,m=Math.min(u.start,f);u=u.end===void 0?m:Math.min(u.end,f),!l.extend&&m>u&&(f=u,u=m,m=f),f=jg(i,m);var v=jg(i,u);f&&v&&(l.rangeCount!==1||l.anchorNode!==f.node||l.anchorOffset!==f.offset||l.focusNode!==v.node||l.focusOffset!==v.offset)&&(e=e.createRange(),e.setStart(f.node,f.offset),l.removeAllRanges(),m>u?(l.addRange(e),l.extend(v.node,v.offset)):(e.setEnd(v.node,v.offset),l.addRange(e)))}}for(e=[],l=i;l=l.parentNode;)l.nodeType===1&&e.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)l=e[i],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var j2=li&&"documentMode"in document&&11>=document.documentMode,yr=null,Gc=null,Na=null,Uc=!1;function qg(e,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Uc||yr==null||yr!==go(u)||(u=yr,"selectionStart"in u&&kc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Na&&za(Na,u)||(Na=u,u=iu(Gc,"onSelect"),0<u.length&&(i=new vo("onSelect","select",null,i,l),e.push({event:i,listeners:u}),i.target=yr)))}function Os(e,i){var l={};return l[e.toLowerCase()]=i.toLowerCase(),l["Webkit"+e]="webkit"+i,l["Moz"+e]="moz"+i,l}var pr={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},Fc={},Kg={};li&&(Kg=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function Ds(e){if(Fc[e])return Fc[e];if(!pr[e])return e;var i=pr[e],l;for(l in i)if(i.hasOwnProperty(l)&&l in Kg)return Fc[e]=i[l];return e}var Wg=Ds("animationend"),Qg=Ds("animationiteration"),$g=Ds("animationstart"),Z2=Ds("transitionrun"),V2=Ds("transitionstart"),q2=Ds("transitioncancel"),Jg=Ds("transitionend"),t0=new Map,e0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Dn(e,i){t0.set(e,i),As(i,[e])}var hn=[],vr=0,Yc=0;function So(){for(var e=vr,i=Yc=vr=0;i<e;){var l=hn[i];hn[i++]=null;var u=hn[i];hn[i++]=null;var f=hn[i];hn[i++]=null;var m=hn[i];if(hn[i++]=null,u!==null&&f!==null){var v=u.pending;v===null?f.next=f:(f.next=v.next,v.next=f),u.pending=f}m!==0&&n0(l,f,m)}}function Co(e,i,l,u){hn[vr++]=e,hn[vr++]=i,hn[vr++]=l,hn[vr++]=u,Yc|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function Xc(e,i,l,u){return Co(e,i,l,u),Ro(e)}function Yi(e,i){return Co(e,null,null,i),Ro(e)}function n0(e,i,l){e.lanes|=l;var u=e.alternate;u!==null&&(u.lanes|=l);for(var f=!1,m=e.return;m!==null;)m.childLanes|=l,u=m.alternate,u!==null&&(u.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;f&&i!==null&&e.tag===3&&(m=e.stateNode,f=31-we(l),m=m.hiddenUpdates,e=m[f],e===null?m[f]=[i]:e.push(i),i.lane=l|536870912)}function Ro(e){if(50<al)throw al=0,Vh=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Er={},i0=new WeakMap;function fn(e,i){if(typeof e=="object"&&e!==null){var l=i0.get(e);return l!==void 0?l:(i={value:e,source:i,stack:$(i)},i0.set(e,i),i)}return{value:e,source:i,stack:$(i)}}var xr=[],Sr=0,To=null,wo=0,dn=[],gn=0,Ls=null,ui=1,ci="";function Is(e,i){xr[Sr++]=wo,xr[Sr++]=To,To=e,wo=i}function s0(e,i,l){dn[gn++]=ui,dn[gn++]=ci,dn[gn++]=Ls,Ls=e;var u=ui;e=ci;var f=32-we(u)-1;u&=~(1<<f),l+=1;var m=32-we(i)+f;if(30<m){var v=f-f%5;m=(u&(1<<v)-1).toString(32),u>>=v,f-=v,ui=1<<32-we(i)+f|l<<f|u,ci=m+e}else ui=1<<m|l<<f|u,ci=e}function Bc(e){e.return!==null&&(Is(e,1),s0(e,1,0))}function Hc(e){for(;e===To;)To=xr[--Sr],xr[Sr]=null,wo=xr[--Sr],xr[Sr]=null;for(;e===Ls;)Ls=dn[--gn],dn[gn]=null,ci=dn[--gn],dn[gn]=null,ui=dn[--gn],dn[gn]=null}var Ge=null,xe=null,Ot=!1,Ln=null,Vn=!1,Pc=Error(s(519));function zs(e){var i=Error(s(418,""));throw Ua(fn(i,e)),Pc}function r0(e){var i=e.stateNode,l=e.type,u=e.memoizedProps;switch(i[Ae]=e,i[Be]=u,l){case"dialog":bt("cancel",i),bt("close",i);break;case"iframe":case"object":case"embed":bt("load",i);break;case"video":case"audio":for(l=0;l<ol.length;l++)bt(ol[l],i);break;case"source":bt("error",i);break;case"img":case"image":case"link":bt("error",i),bt("load",i);break;case"details":bt("toggle",i);break;case"input":bt("invalid",i),Eg(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),fo(i);break;case"select":bt("invalid",i);break;case"textarea":bt("invalid",i),Sg(i,u.value,u.defaultValue,u.children),fo(i)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||g_(i.textContent,l)?(u.popover!=null&&(bt("beforetoggle",i),bt("toggle",i)),u.onScroll!=null&&bt("scroll",i),u.onScrollEnd!=null&&bt("scrollend",i),u.onClick!=null&&(i.onclick=su),i=!0):i=!1,i||zs(e)}function a0(e){for(Ge=e.return;Ge;)switch(Ge.tag){case 3:case 27:Vn=!0;return;case 5:case 13:Vn=!1;return;default:Ge=Ge.return}}function ka(e){if(e!==Ge)return!1;if(!Ot)return a0(e),Ot=!0,!1;var i=!1,l;if((l=e.tag!==3&&e.tag!==27)&&((l=e.tag===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||hf(e.type,e.memoizedProps)),l=!l),l&&(i=!0),i&&xe&&zs(e),a0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(i===0){xe=zn(e.nextSibling);break t}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;e=e.nextSibling}xe=null}}else xe=Ge?zn(e.stateNode.nextSibling):null;return!0}function Ga(){xe=Ge=null,Ot=!1}function Ua(e){Ln===null?Ln=[e]:Ln.push(e)}var Fa=Error(s(460)),l0=Error(s(474)),jc={then:function(){}};function o0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bo(){}function u0(e,i,l){switch(l=e[l],l===void 0?e.push(i):l!==i&&(i.then(bo,bo),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Fa?Error(s(483)):e;default:if(typeof i.status=="string")i.then(bo,bo);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Fa?Error(s(483)):e}throw Ya=i,Fa}}var Ya=null;function c0(){if(Ya===null)throw Error(s(459));var e=Ya;return Ya=null,e}var Cr=null,Xa=0;function Ao(e){var i=Xa;return Xa+=1,Cr===null&&(Cr=[]),u0(Cr,e,i)}function Ba(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Mo(e,i){throw i.$$typeof===o?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function h0(e){var i=e._init;return i(e._payload)}function f0(e){function i(z,L){if(e){var N=z.deletions;N===null?(z.deletions=[L],z.flags|=16):N.push(L)}}function l(z,L){if(!e)return null;for(;L!==null;)i(z,L),L=L.sibling;return null}function u(z){for(var L=new Map;z!==null;)z.key!==null?L.set(z.key,z):L.set(z.index,z),z=z.sibling;return L}function f(z,L){return z=$i(z,L),z.index=0,z.sibling=null,z}function m(z,L,N){return z.index=N,e?(N=z.alternate,N!==null?(N=N.index,N<L?(z.flags|=33554434,L):N):(z.flags|=33554434,L)):(z.flags|=1048576,L)}function v(z){return e&&z.alternate===null&&(z.flags|=33554434),z}function S(z,L,N,V){return L===null||L.tag!==6?(L=Fh(N,z.mode,V),L.return=z,L):(L=f(L,N),L.return=z,L)}function A(z,L,N,V){var st=N.type;return st===d?j(z,L,N.props.children,V,N.key):L!==null&&(L.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===b&&h0(st)===L.type)?(L=f(L,N.props),Ba(L,N),L.return=z,L):(L=Vo(N.type,N.key,N.props,null,z.mode,V),Ba(L,N),L.return=z,L)}function I(z,L,N,V){return L===null||L.tag!==4||L.stateNode.containerInfo!==N.containerInfo||L.stateNode.implementation!==N.implementation?(L=Yh(N,z.mode,V),L.return=z,L):(L=f(L,N.children||[]),L.return=z,L)}function j(z,L,N,V,st){return L===null||L.tag!==7?(L=Ps(N,z.mode,V,st),L.return=z,L):(L=f(L,N),L.return=z,L)}function W(z,L,N){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Fh(""+L,z.mode,N),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case c:return N=Vo(L.type,L.key,L.props,null,z.mode,N),Ba(N,L),N.return=z,N;case h:return L=Yh(L,z.mode,N),L.return=z,L;case b:var V=L._init;return L=V(L._payload),W(z,L,N)}if(et(L)||X(L))return L=Ps(L,z.mode,N,null),L.return=z,L;if(typeof L.then=="function")return W(z,Ao(L),N);if(L.$$typeof===E)return W(z,Po(z,L),N);Mo(z,L)}return null}function G(z,L,N,V){var st=L!==null?L.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return st!==null?null:S(z,L,""+N,V);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case c:return N.key===st?A(z,L,N,V):null;case h:return N.key===st?I(z,L,N,V):null;case b:return st=N._init,N=st(N._payload),G(z,L,N,V)}if(et(N)||X(N))return st!==null?null:j(z,L,N,V,null);if(typeof N.then=="function")return G(z,L,Ao(N),V);if(N.$$typeof===E)return G(z,L,Po(z,N),V);Mo(z,N)}return null}function H(z,L,N,V,st){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return z=z.get(N)||null,S(L,z,""+V,st);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case c:return z=z.get(V.key===null?N:V.key)||null,A(L,z,V,st);case h:return z=z.get(V.key===null?N:V.key)||null,I(L,z,V,st);case b:var Tt=V._init;return V=Tt(V._payload),H(z,L,N,V,st)}if(et(V)||X(V))return z=z.get(N)||null,j(L,z,V,st,null);if(typeof V.then=="function")return H(z,L,N,Ao(V),st);if(V.$$typeof===E)return H(z,L,N,Po(L,V),st);Mo(L,V)}return null}function lt(z,L,N,V){for(var st=null,Tt=null,ut=L,dt=L=0,_e=null;ut!==null&&dt<N.length;dt++){ut.index>dt?(_e=ut,ut=null):_e=ut.sibling;var Dt=G(z,ut,N[dt],V);if(Dt===null){ut===null&&(ut=_e);break}e&&ut&&Dt.alternate===null&&i(z,ut),L=m(Dt,L,dt),Tt===null?st=Dt:Tt.sibling=Dt,Tt=Dt,ut=_e}if(dt===N.length)return l(z,ut),Ot&&Is(z,dt),st;if(ut===null){for(;dt<N.length;dt++)ut=W(z,N[dt],V),ut!==null&&(L=m(ut,L,dt),Tt===null?st=ut:Tt.sibling=ut,Tt=ut);return Ot&&Is(z,dt),st}for(ut=u(ut);dt<N.length;dt++)_e=H(ut,z,dt,N[dt],V),_e!==null&&(e&&_e.alternate!==null&&ut.delete(_e.key===null?dt:_e.key),L=m(_e,L,dt),Tt===null?st=_e:Tt.sibling=_e,Tt=_e);return e&&ut.forEach(function(rs){return i(z,rs)}),Ot&&Is(z,dt),st}function pt(z,L,N,V){if(N==null)throw Error(s(151));for(var st=null,Tt=null,ut=L,dt=L=0,_e=null,Dt=N.next();ut!==null&&!Dt.done;dt++,Dt=N.next()){ut.index>dt?(_e=ut,ut=null):_e=ut.sibling;var rs=G(z,ut,Dt.value,V);if(rs===null){ut===null&&(ut=_e);break}e&&ut&&rs.alternate===null&&i(z,ut),L=m(rs,L,dt),Tt===null?st=rs:Tt.sibling=rs,Tt=rs,ut=_e}if(Dt.done)return l(z,ut),Ot&&Is(z,dt),st;if(ut===null){for(;!Dt.done;dt++,Dt=N.next())Dt=W(z,Dt.value,V),Dt!==null&&(L=m(Dt,L,dt),Tt===null?st=Dt:Tt.sibling=Dt,Tt=Dt);return Ot&&Is(z,dt),st}for(ut=u(ut);!Dt.done;dt++,Dt=N.next())Dt=H(ut,z,dt,Dt.value,V),Dt!==null&&(e&&Dt.alternate!==null&&ut.delete(Dt.key===null?dt:Dt.key),L=m(Dt,L,dt),Tt===null?st=Dt:Tt.sibling=Dt,Tt=Dt);return e&&ut.forEach(function(oE){return i(z,oE)}),Ot&&Is(z,dt),st}function ee(z,L,N,V){if(typeof N=="object"&&N!==null&&N.type===d&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case c:t:{for(var st=N.key;L!==null;){if(L.key===st){if(st=N.type,st===d){if(L.tag===7){l(z,L.sibling),V=f(L,N.props.children),V.return=z,z=V;break t}}else if(L.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===b&&h0(st)===L.type){l(z,L.sibling),V=f(L,N.props),Ba(V,N),V.return=z,z=V;break t}l(z,L);break}else i(z,L);L=L.sibling}N.type===d?(V=Ps(N.props.children,z.mode,V,N.key),V.return=z,z=V):(V=Vo(N.type,N.key,N.props,null,z.mode,V),Ba(V,N),V.return=z,z=V)}return v(z);case h:t:{for(st=N.key;L!==null;){if(L.key===st)if(L.tag===4&&L.stateNode.containerInfo===N.containerInfo&&L.stateNode.implementation===N.implementation){l(z,L.sibling),V=f(L,N.children||[]),V.return=z,z=V;break t}else{l(z,L);break}else i(z,L);L=L.sibling}V=Yh(N,z.mode,V),V.return=z,z=V}return v(z);case b:return st=N._init,N=st(N._payload),ee(z,L,N,V)}if(et(N))return lt(z,L,N,V);if(X(N)){if(st=X(N),typeof st!="function")throw Error(s(150));return N=st.call(N),pt(z,L,N,V)}if(typeof N.then=="function")return ee(z,L,Ao(N),V);if(N.$$typeof===E)return ee(z,L,Po(z,N),V);Mo(z,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,L!==null&&L.tag===6?(l(z,L.sibling),V=f(L,N),V.return=z,z=V):(l(z,L),V=Fh(N,z.mode,V),V.return=z,z=V),v(z)):l(z,L)}return function(z,L,N,V){try{Xa=0;var st=ee(z,L,N,V);return Cr=null,st}catch(ut){if(ut===Fa)throw ut;var Tt=pn(29,ut,null,z.mode);return Tt.lanes=V,Tt.return=z,Tt}finally{}}}var Ns=f0(!0),d0=f0(!1),Rr=yt(null),Oo=yt(0);function g0(e,i){e=xi,Et(Oo,e),Et(Rr,i),xi=e|i.baseLanes}function Zc(){Et(Oo,xi),Et(Rr,Rr.current)}function Vc(){xi=Oo.current,Xt(Rr),Xt(Oo)}var mn=yt(null),qn=null;function Xi(e){var i=e.alternate;Et(oe,oe.current&1),Et(mn,e),qn===null&&(i===null||Rr.current!==null||i.memoizedState!==null)&&(qn=e)}function m0(e){if(e.tag===22){if(Et(oe,oe.current),Et(mn,e),qn===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(qn=e)}}else Bi()}function Bi(){Et(oe,oe.current),Et(mn,mn.current)}function hi(e){Xt(mn),qn===e&&(qn=null),Xt(oe)}var oe=yt(0);function Do(e){for(var i=e;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var K2=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(l,u){e.push(u)}};this.abort=function(){i.aborted=!0,e.forEach(function(l){return l()})}},W2=r.unstable_scheduleCallback,Q2=r.unstable_NormalPriority,ue={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qc(){return{controller:new K2,data:new Map,refCount:0}}function Ha(e){e.refCount--,e.refCount===0&&W2(Q2,function(){e.controller.abort()})}var Pa=null,Kc=0,Tr=0,wr=null;function $2(e,i){if(Pa===null){var l=Pa=[];Kc=0,Tr=ef(),wr={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Kc++,i.then(_0,_0),i}function _0(){if(--Kc===0&&Pa!==null){wr!==null&&(wr.status="fulfilled");var e=Pa;Pa=null,Tr=0,wr=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function J2(e,i){var l=[],u={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return e.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<l.length;f++)(0,l[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),u}var y0=k.S;k.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&$2(e,i),y0!==null&&y0(e,i)};var ks=yt(null);function Wc(){var e=ks.current;return e!==null?e:Zt.pooledCache}function Lo(e,i){i===null?Et(ks,ks.current):Et(ks,i.pool)}function p0(){var e=Wc();return e===null?null:{parent:ue._currentValue,pool:e}}var Hi=0,Rt=null,Bt=null,se=null,Io=!1,br=!1,Gs=!1,zo=0,ja=0,Ar=null,tv=0;function ie(){throw Error(s(321))}function Qc(e,i){if(i===null)return!1;for(var l=0;l<i.length&&l<e.length;l++)if(!en(e[l],i[l]))return!1;return!0}function $c(e,i,l,u,f,m){return Hi=m,Rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,k.H=e===null||e.memoizedState===null?Us:Pi,Gs=!1,m=l(u,f),Gs=!1,br&&(m=E0(i,l,u,f)),v0(e),m}function v0(e){k.H=Kn;var i=Bt!==null&&Bt.next!==null;if(Hi=0,se=Bt=Rt=null,Io=!1,ja=0,Ar=null,i)throw Error(s(300));e===null||ge||(e=e.dependencies,e!==null&&Ho(e)&&(ge=!0))}function E0(e,i,l,u){Rt=e;var f=0;do{if(br&&(Ar=null),ja=0,br=!1,25<=f)throw Error(s(301));if(f+=1,se=Bt=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}k.H=Fs,m=i(l,u)}while(br);return m}function ev(){var e=k.H,i=e.useState()[0];return i=typeof i.then=="function"?Za(i):i,e=e.useState()[0],(Bt!==null?Bt.memoizedState:null)!==e&&(Rt.flags|=1024),i}function Jc(){var e=zo!==0;return zo=0,e}function th(e,i,l){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~l}function eh(e){if(Io){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Io=!1}Hi=0,se=Bt=Rt=null,br=!1,ja=zo=0,Ar=null}function Pe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return se===null?Rt.memoizedState=se=e:se=se.next=e,se}function re(){if(Bt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Bt.next;var i=se===null?Rt.memoizedState:se.next;if(i!==null)se=i,Bt=e;else{if(e===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Bt=e,e={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},se===null?Rt.memoizedState=se=e:se=se.next=e}return se}var No;No=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Za(e){var i=ja;return ja+=1,Ar===null&&(Ar=[]),e=u0(Ar,e,i),i=Rt,(se===null?i.memoizedState:se.next)===null&&(i=i.alternate,k.H=i===null||i.memoizedState===null?Us:Pi),e}function ko(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Za(e);if(e.$$typeof===E)return Me(e)}throw Error(s(438,String(e)))}function nh(e){var i=null,l=Rt.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=Rt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=No(),Rt.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(e),u=0;u<e;u++)l[u]=D;return i.index++,l}function fi(e,i){return typeof i=="function"?i(e):i}function Go(e){var i=re();return ih(i,Bt,e)}function ih(e,i,l){var u=e.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=l;var f=e.baseQueue,m=u.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}i.baseQueue=f=m,u.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{i=f.next;var S=v=null,A=null,I=i,j=!1;do{var W=I.lane&-536870913;if(W!==I.lane?(Mt&W)===W:(Hi&W)===W){var G=I.revertLane;if(G===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),W===Tr&&(j=!0);else if((Hi&G)===G){I=I.next,G===Tr&&(j=!0);continue}else W={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},A===null?(S=A=W,v=m):A=A.next=W,Rt.lanes|=G,Ji|=G;W=I.action,Gs&&l(m,W),m=I.hasEagerState?I.eagerState:l(m,W)}else G={lane:W,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},A===null?(S=A=G,v=m):A=A.next=G,Rt.lanes|=W,Ji|=W;I=I.next}while(I!==null&&I!==i);if(A===null?v=m:A.next=S,!en(m,e.memoizedState)&&(ge=!0,j&&(l=wr,l!==null)))throw l;e.memoizedState=m,e.baseState=v,e.baseQueue=A,u.lastRenderedState=m}return f===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function sh(e){var i=re(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var u=l.dispatch,f=l.pending,m=i.memoizedState;if(f!==null){l.pending=null;var v=f=f.next;do m=e(m,v.action),v=v.next;while(v!==f);en(m,i.memoizedState)||(ge=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),l.lastRenderedState=m}return[m,u]}function x0(e,i,l){var u=Rt,f=re(),m=Ot;if(m){if(l===void 0)throw Error(s(407));l=l()}else l=i();var v=!en((Bt||f).memoizedState,l);if(v&&(f.memoizedState=l,ge=!0),f=f.queue,lh(R0.bind(null,u,f,e),[e]),f.getSnapshot!==i||v||se!==null&&se.memoizedState.tag&1){if(u.flags|=2048,Mr(9,C0.bind(null,u,f,l,i),{destroy:void 0},null),Zt===null)throw Error(s(349));m||(Hi&60)!==0||S0(u,i,l)}return l}function S0(e,i,l){e.flags|=16384,e={getSnapshot:i,value:l},i=Rt.updateQueue,i===null?(i=No(),Rt.updateQueue=i,i.stores=[e]):(l=i.stores,l===null?i.stores=[e]:l.push(e))}function C0(e,i,l,u){i.value=l,i.getSnapshot=u,T0(i)&&w0(e)}function R0(e,i,l){return l(function(){T0(i)&&w0(e)})}function T0(e){var i=e.getSnapshot;e=e.value;try{var l=i();return!en(e,l)}catch{return!0}}function w0(e){var i=Yi(e,2);i!==null&&Ue(i,e,2)}function rh(e){var i=Pe();if(typeof e=="function"){var l=e;if(e=l(),Gs){ln(!0);try{l()}finally{ln(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:e},i}function b0(e,i,l,u){return e.baseState=l,ih(e,Bt,typeof u=="function"?u:fi)}function nv(e,i,l,u,f){if(Yo(e))throw Error(s(485));if(e=i.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};k.T!==null?l(!0):m.isTransition=!1,u(m),l=i.pending,l===null?(m.next=i.pending=m,A0(i,m)):(m.next=l.next,i.pending=l.next=m)}}function A0(e,i){var l=i.action,u=i.payload,f=e.state;if(i.isTransition){var m=k.T,v={};k.T=v;try{var S=l(f,u),A=k.S;A!==null&&A(v,S),M0(e,i,S)}catch(I){ah(e,i,I)}finally{k.T=m}}else try{m=l(f,u),M0(e,i,m)}catch(I){ah(e,i,I)}}function M0(e,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){O0(e,i,u)},function(u){return ah(e,i,u)}):O0(e,i,l)}function O0(e,i,l){i.status="fulfilled",i.value=l,D0(i),e.state=l,i=e.pending,i!==null&&(l=i.next,l===i?e.pending=null:(l=l.next,i.next=l,A0(e,l)))}function ah(e,i,l){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,D0(i),i=i.next;while(i!==u)}e.action=null}function D0(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function L0(e,i){return i}function I0(e,i){if(Ot){var l=Zt.formState;if(l!==null){t:{var u=Rt;if(Ot){if(xe){e:{for(var f=xe,m=Vn;f.nodeType!==8;){if(!m){f=null;break e}if(f=zn(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){xe=zn(f.nextSibling),u=f.data==="F!";break t}}zs(u)}u=!1}u&&(i=l[0])}}return l=Pe(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:L0,lastRenderedState:i},l.queue=u,l=Q0.bind(null,Rt,u),u.dispatch=l,u=rh(!1),m=fh.bind(null,Rt,!1,u.queue),u=Pe(),f={state:i,dispatch:null,action:e,pending:null},u.queue=f,l=nv.bind(null,Rt,f,m,l),f.dispatch=l,u.memoizedState=e,[i,l,!1]}function z0(e){var i=re();return N0(i,Bt,e)}function N0(e,i,l){i=ih(e,i,L0)[0],e=Go(fi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Za(i):i;var u=re(),f=u.queue,m=f.dispatch;return l!==u.memoizedState&&(Rt.flags|=2048,Mr(9,iv.bind(null,f,l),{destroy:void 0},null)),[i,m,e]}function iv(e,i){e.action=i}function k0(e){var i=re(),l=Bt;if(l!==null)return N0(i,l,e);re(),i=i.memoizedState,l=re();var u=l.queue.dispatch;return l.memoizedState=e,[i,u,!1]}function Mr(e,i,l,u){return e={tag:e,create:i,inst:l,deps:u,next:null},i=Rt.updateQueue,i===null&&(i=No(),Rt.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=e.next=e:(u=l.next,l.next=e,e.next=u,i.lastEffect=e),e}function G0(){return re().memoizedState}function Uo(e,i,l,u){var f=Pe();Rt.flags|=e,f.memoizedState=Mr(1|i,l,{destroy:void 0},u===void 0?null:u)}function Fo(e,i,l,u){var f=re();u=u===void 0?null:u;var m=f.memoizedState.inst;Bt!==null&&u!==null&&Qc(u,Bt.memoizedState.deps)?f.memoizedState=Mr(i,l,m,u):(Rt.flags|=e,f.memoizedState=Mr(1|i,l,m,u))}function U0(e,i){Uo(8390656,8,e,i)}function lh(e,i){Fo(2048,8,e,i)}function F0(e,i){return Fo(4,2,e,i)}function Y0(e,i){return Fo(4,4,e,i)}function X0(e,i){if(typeof i=="function"){e=e();var l=i(e);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function B0(e,i,l){l=l!=null?l.concat([e]):null,Fo(4,4,X0.bind(null,i,e),l)}function oh(){}function H0(e,i){var l=re();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&Qc(i,u[1])?u[0]:(l.memoizedState=[e,i],e)}function P0(e,i){var l=re();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&Qc(i,u[1]))return u[0];if(u=e(),Gs){ln(!0);try{e()}finally{ln(!1)}}return l.memoizedState=[u,i],u}function uh(e,i,l){return l===void 0||(Hi&1073741824)!==0?e.memoizedState=i:(e.memoizedState=l,e=Zm(),Rt.lanes|=e,Ji|=e,l)}function j0(e,i,l,u){return en(l,i)?l:Rr.current!==null?(e=uh(e,l,u),en(e,i)||(ge=!0),e):(Hi&42)===0?(ge=!0,e.memoizedState=l):(e=Zm(),Rt.lanes|=e,Ji|=e,i)}function Z0(e,i,l,u,f){var m=J.p;J.p=m!==0&&8>m?m:8;var v=k.T,S={};k.T=S,fh(e,!1,i,l);try{var A=f(),I=k.S;if(I!==null&&I(S,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var j=J2(A,u);Va(e,i,j,an(e))}else Va(e,i,u,an(e))}catch(W){Va(e,i,{then:function(){},status:"rejected",reason:W},an())}finally{J.p=m,k.T=v}}function sv(){}function ch(e,i,l,u){if(e.tag!==5)throw Error(s(476));var f=V0(e).queue;Z0(e,f,i,at,l===null?sv:function(){return q0(e),l(u)})}function V0(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:at},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:l},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function q0(e){var i=V0(e).next.queue;Va(e,i,{},an())}function hh(){return Me(dl)}function K0(){return re().memoizedState}function W0(){return re().memoizedState}function rv(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var l=an();e=Vi(l);var u=qi(i,e,l);u!==null&&(Ue(u,i,l),Wa(u,i,l)),i={cache:qc()},e.payload=i;return}i=i.return}}function av(e,i,l){var u=an();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Yo(e)?$0(i,l):(l=Xc(e,i,l,u),l!==null&&(Ue(l,e,u),J0(l,i,u)))}function Q0(e,i,l){var u=an();Va(e,i,l,u)}function Va(e,i,l,u){var f={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))$0(i,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var v=i.lastRenderedState,S=m(v,l);if(f.hasEagerState=!0,f.eagerState=S,en(S,v))return Co(e,i,f,0),Zt===null&&So(),!1}catch{}finally{}if(l=Xc(e,i,f,u),l!==null)return Ue(l,e,u),J0(l,i,u),!0}return!1}function fh(e,i,l,u){if(u={lane:2,revertLane:ef(),action:u,hasEagerState:!1,eagerState:null,next:null},Yo(e)){if(i)throw Error(s(479))}else i=Xc(e,l,u,2),i!==null&&Ue(i,e,2)}function Yo(e){var i=e.alternate;return e===Rt||i!==null&&i===Rt}function $0(e,i){br=Io=!0;var l=e.pending;l===null?i.next=i:(i.next=l.next,l.next=i),e.pending=i}function J0(e,i,l){if((l&4194176)!==0){var u=i.lanes;u&=e.pendingLanes,l|=u,i.lanes=l,fe(e,l)}}var Kn={readContext:Me,use:ko,useCallback:ie,useContext:ie,useEffect:ie,useImperativeHandle:ie,useLayoutEffect:ie,useInsertionEffect:ie,useMemo:ie,useReducer:ie,useRef:ie,useState:ie,useDebugValue:ie,useDeferredValue:ie,useTransition:ie,useSyncExternalStore:ie,useId:ie};Kn.useCacheRefresh=ie,Kn.useMemoCache=ie,Kn.useHostTransitionStatus=ie,Kn.useFormState=ie,Kn.useActionState=ie,Kn.useOptimistic=ie;var Us={readContext:Me,use:ko,useCallback:function(e,i){return Pe().memoizedState=[e,i===void 0?null:i],e},useContext:Me,useEffect:U0,useImperativeHandle:function(e,i,l){l=l!=null?l.concat([e]):null,Uo(4194308,4,X0.bind(null,i,e),l)},useLayoutEffect:function(e,i){return Uo(4194308,4,e,i)},useInsertionEffect:function(e,i){Uo(4,2,e,i)},useMemo:function(e,i){var l=Pe();i=i===void 0?null:i;var u=e();if(Gs){ln(!0);try{e()}finally{ln(!1)}}return l.memoizedState=[u,i],u},useReducer:function(e,i,l){var u=Pe();if(l!==void 0){var f=l(i);if(Gs){ln(!0);try{l(i)}finally{ln(!1)}}}else f=i;return u.memoizedState=u.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},u.queue=e,e=e.dispatch=av.bind(null,Rt,e),[u.memoizedState,e]},useRef:function(e){var i=Pe();return e={current:e},i.memoizedState=e},useState:function(e){e=rh(e);var i=e.queue,l=Q0.bind(null,Rt,i);return i.dispatch=l,[e.memoizedState,l]},useDebugValue:oh,useDeferredValue:function(e,i){var l=Pe();return uh(l,e,i)},useTransition:function(){var e=rh(!1);return e=Z0.bind(null,Rt,e.queue,!0,!1),Pe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,l){var u=Rt,f=Pe();if(Ot){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),Zt===null)throw Error(s(349));(Mt&60)!==0||S0(u,i,l)}f.memoizedState=l;var m={value:l,getSnapshot:i};return f.queue=m,U0(R0.bind(null,u,m,e),[e]),u.flags|=2048,Mr(9,C0.bind(null,u,m,l,i),{destroy:void 0},null),l},useId:function(){var e=Pe(),i=Zt.identifierPrefix;if(Ot){var l=ci,u=ui;l=(u&~(1<<32-we(u)-1)).toString(32)+l,i=":"+i+"R"+l,l=zo++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=tv++,i=":"+i+"r"+l.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return Pe().memoizedState=rv.bind(null,Rt)}};Us.useMemoCache=nh,Us.useHostTransitionStatus=hh,Us.useFormState=I0,Us.useActionState=I0,Us.useOptimistic=function(e){var i=Pe();i.memoizedState=i.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=fh.bind(null,Rt,!0,l),l.dispatch=i,[e,i]};var Pi={readContext:Me,use:ko,useCallback:H0,useContext:Me,useEffect:lh,useImperativeHandle:B0,useInsertionEffect:F0,useLayoutEffect:Y0,useMemo:P0,useReducer:Go,useRef:G0,useState:function(){return Go(fi)},useDebugValue:oh,useDeferredValue:function(e,i){var l=re();return j0(l,Bt.memoizedState,e,i)},useTransition:function(){var e=Go(fi)[0],i=re().memoizedState;return[typeof e=="boolean"?e:Za(e),i]},useSyncExternalStore:x0,useId:K0};Pi.useCacheRefresh=W0,Pi.useMemoCache=nh,Pi.useHostTransitionStatus=hh,Pi.useFormState=z0,Pi.useActionState=z0,Pi.useOptimistic=function(e,i){var l=re();return b0(l,Bt,e,i)};var Fs={readContext:Me,use:ko,useCallback:H0,useContext:Me,useEffect:lh,useImperativeHandle:B0,useInsertionEffect:F0,useLayoutEffect:Y0,useMemo:P0,useReducer:sh,useRef:G0,useState:function(){return sh(fi)},useDebugValue:oh,useDeferredValue:function(e,i){var l=re();return Bt===null?uh(l,e,i):j0(l,Bt.memoizedState,e,i)},useTransition:function(){var e=sh(fi)[0],i=re().memoizedState;return[typeof e=="boolean"?e:Za(e),i]},useSyncExternalStore:x0,useId:K0};Fs.useCacheRefresh=W0,Fs.useMemoCache=nh,Fs.useHostTransitionStatus=hh,Fs.useFormState=k0,Fs.useActionState=k0,Fs.useOptimistic=function(e,i){var l=re();return Bt!==null?b0(l,Bt,e,i):(l.baseState=e,[e,l.queue.dispatch])};function dh(e,i,l,u){i=e.memoizedState,l=l(u,i),l=l==null?i:q({},i,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var gh={isMounted:function(e){return(e=e._reactInternals)?Q(e)===e:!1},enqueueSetState:function(e,i,l){e=e._reactInternals;var u=an(),f=Vi(u);f.payload=i,l!=null&&(f.callback=l),i=qi(e,f,u),i!==null&&(Ue(i,e,u),Wa(i,e,u))},enqueueReplaceState:function(e,i,l){e=e._reactInternals;var u=an(),f=Vi(u);f.tag=1,f.payload=i,l!=null&&(f.callback=l),i=qi(e,f,u),i!==null&&(Ue(i,e,u),Wa(i,e,u))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var l=an(),u=Vi(l);u.tag=2,i!=null&&(u.callback=i),i=qi(e,u,l),i!==null&&(Ue(i,e,l),Wa(i,e,l))}};function tm(e,i,l,u,f,m,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,m,v):i.prototype&&i.prototype.isPureReactComponent?!za(l,u)||!za(f,m):!0}function em(e,i,l,u){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==e&&gh.enqueueReplaceState(i,i.state,null)}function Ys(e,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(e=e.defaultProps){l===i&&(l=q({},l));for(var f in e)l[f]===void 0&&(l[f]=e[f])}return l}var Xo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function nm(e){Xo(e)}function im(e){console.error(e)}function sm(e){Xo(e)}function Bo(e,i){try{var l=e.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function rm(e,i,l){try{var u=e.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function mh(e,i,l){return l=Vi(l),l.tag=3,l.payload={element:null},l.callback=function(){Bo(e,i)},l}function am(e){return e=Vi(e),e.tag=3,e}function lm(e,i,l,u){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;e.payload=function(){return f(m)},e.callback=function(){rm(i,l,u)}}var v=l.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){rm(i,l,u),typeof f!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function lv(e,i,l,u,f){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&Ka(i,l,f,!0),l=mn.current,l!==null){switch(l.tag){case 13:return qn===null?Wh():l.alternate===null&&te===0&&(te=3),l.flags&=-257,l.flags|=65536,l.lanes=f,u===jc?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),$h(e,u,f)),!1;case 22:return l.flags|=65536,u===jc?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),$h(e,u,f)),!1}throw Error(s(435,l.tag))}return $h(e,u,f),Wh(),!1}if(Ot)return i=mn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Pc&&(e=Error(s(422),{cause:u}),Ua(fn(e,l)))):(u!==Pc&&(i=Error(s(423),{cause:u}),Ua(fn(i,l))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,u=fn(u,l),f=mh(e.stateNode,u,f),Oh(e,f),te!==4&&(te=2)),!1;var m=Error(s(520),{cause:u});if(m=fn(m,l),sl===null?sl=[m]:sl.push(m),te!==4&&(te=2),i===null)return!0;u=fn(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,e=f&-f,l.lanes|=e,e=mh(l.stateNode,u,e),Oh(l,e),!1;case 1:if(i=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ts===null||!ts.has(m))))return l.flags|=65536,f&=-f,l.lanes|=f,f=am(f),lm(f,e,l,u),Oh(l,f),!1}l=l.return}while(l!==null);return!1}var om=Error(s(461)),ge=!1;function Se(e,i,l,u){i.child=e===null?d0(i,null,l,u):Ns(i,e.child,l,u)}function um(e,i,l,u,f){l=l.render;var m=i.ref;if("ref"in u){var v={};for(var S in u)S!=="ref"&&(v[S]=u[S])}else v=u;return Bs(i),u=$c(e,i,l,v,m,f),S=Jc(),e!==null&&!ge?(th(e,i,f),di(e,i,f)):(Ot&&S&&Bc(i),i.flags|=1,Se(e,i,u,f),i.child)}function cm(e,i,l,u,f){if(e===null){var m=l.type;return typeof m=="function"&&!Uh(m)&&m.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=m,hm(e,i,m,u,f)):(e=Vo(l.type,null,u,i,i.mode,f),e.ref=i.ref,e.return=i,i.child=e)}if(m=e.child,!Rh(e,f)){var v=m.memoizedProps;if(l=l.compare,l=l!==null?l:za,l(v,u)&&e.ref===i.ref)return di(e,i,f)}return i.flags|=1,e=$i(m,u),e.ref=i.ref,e.return=i,i.child=e}function hm(e,i,l,u,f){if(e!==null){var m=e.memoizedProps;if(za(m,u)&&e.ref===i.ref)if(ge=!1,i.pendingProps=u=m,Rh(e,f))(e.flags&131072)!==0&&(ge=!0);else return i.lanes=e.lanes,di(e,i,f)}return _h(e,i,l,u,f)}function fm(e,i,l){var u=i.pendingProps,f=u.children,m=(i.stateNode._pendingVisibility&2)!==0,v=e!==null?e.memoizedState:null;if(qa(e,i),u.mode==="hidden"||m){if((i.flags&128)!==0){if(u=v!==null?v.baseLanes|l:l,e!==null){for(f=i.child=e.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~u}else i.childLanes=0,i.child=null;return dm(e,i,u,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lo(i,v!==null?v.cachePool:null),v!==null?g0(i,v):Zc(),m0(i);else return i.lanes=i.childLanes=536870912,dm(e,i,v!==null?v.baseLanes|l:l,l)}else v!==null?(Lo(i,v.cachePool),g0(i,v),Bi(),i.memoizedState=null):(e!==null&&Lo(i,null),Zc(),Bi());return Se(e,i,f,l),i.child}function dm(e,i,l,u){var f=Wc();return f=f===null?null:{parent:ue._currentValue,pool:f},i.memoizedState={baseLanes:l,cachePool:f},e!==null&&Lo(i,null),Zc(),m0(i),e!==null&&Ka(e,i,u,!0),null}function qa(e,i){var l=i.ref;if(l===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(i.flags|=2097664)}}function _h(e,i,l,u,f){return Bs(i),l=$c(e,i,l,u,void 0,f),u=Jc(),e!==null&&!ge?(th(e,i,f),di(e,i,f)):(Ot&&u&&Bc(i),i.flags|=1,Se(e,i,l,f),i.child)}function gm(e,i,l,u,f,m){return Bs(i),i.updateQueue=null,l=E0(i,u,l,f),v0(e),u=Jc(),e!==null&&!ge?(th(e,i,m),di(e,i,m)):(Ot&&u&&Bc(i),i.flags|=1,Se(e,i,l,m),i.child)}function mm(e,i,l,u,f){if(Bs(i),i.stateNode===null){var m=Er,v=l.contextType;typeof v=="object"&&v!==null&&(m=Me(v)),m=new l(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=gh,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},Ah(i),v=l.contextType,m.context=typeof v=="object"&&v!==null?Me(v):Er,m.state=i.memoizedState,v=l.getDerivedStateFromProps,typeof v=="function"&&(dh(i,l,v,u),m.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&gh.enqueueReplaceState(m,m.state,null),$a(i,u,m,f),Qa(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(e===null){m=i.stateNode;var S=i.memoizedProps,A=Ys(l,S);m.props=A;var I=m.context,j=l.contextType;v=Er,typeof j=="object"&&j!==null&&(v=Me(j));var W=l.getDerivedStateFromProps;j=typeof W=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,j||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||I!==v)&&em(i,m,u,v),Zi=!1;var G=i.memoizedState;m.state=G,$a(i,u,m,f),Qa(),I=i.memoizedState,S||G!==I||Zi?(typeof W=="function"&&(dh(i,l,W,u),I=i.memoizedState),(A=Zi||tm(i,l,A,u,G,I,v))?(j||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=I),m.props=u,m.state=I,m.context=v,u=A):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,Mh(e,i),v=i.memoizedProps,j=Ys(l,v),m.props=j,W=i.pendingProps,G=m.context,I=l.contextType,A=Er,typeof I=="object"&&I!==null&&(A=Me(I)),S=l.getDerivedStateFromProps,(I=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==W||G!==A)&&em(i,m,u,A),Zi=!1,G=i.memoizedState,m.state=G,$a(i,u,m,f),Qa();var H=i.memoizedState;v!==W||G!==H||Zi||e!==null&&e.dependencies!==null&&Ho(e.dependencies)?(typeof S=="function"&&(dh(i,l,S,u),H=i.memoizedState),(j=Zi||tm(i,l,j,u,G,H,A)||e!==null&&e.dependencies!==null&&Ho(e.dependencies))?(I||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,H,A),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,H,A)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===e.memoizedProps&&G===e.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&G===e.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=H),m.props=u,m.state=H,m.context=A,u=j):(typeof m.componentDidUpdate!="function"||v===e.memoizedProps&&G===e.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&G===e.memoizedState||(i.flags|=1024),u=!1)}return m=u,qa(e,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,e!==null&&u?(i.child=Ns(i,e.child,null,f),i.child=Ns(i,null,l,f)):Se(e,i,l,f),i.memoizedState=m.state,e=i.child):e=di(e,i,f),e}function _m(e,i,l,u){return Ga(),i.flags|=256,Se(e,i,l,u),i.child}var yh={dehydrated:null,treeContext:null,retryLane:0};function ph(e){return{baseLanes:e,cachePool:p0()}}function vh(e,i,l){return e=e!==null?e.childLanes&~l:0,i&&(e|=vn),e}function ym(e,i,l){var u=i.pendingProps,f=!1,m=(i.flags&128)!==0,v;if((v=m)||(v=e!==null&&e.memoizedState===null?!1:(oe.current&2)!==0),v&&(f=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ot){if(f?Xi(i):Bi(),Ot){var S=xe,A;if(A=S){t:{for(A=S,S=Vn;A.nodeType!==8;){if(!S){S=null;break t}if(A=zn(A.nextSibling),A===null){S=null;break t}}S=A}S!==null?(i.memoizedState={dehydrated:S,treeContext:Ls!==null?{id:ui,overflow:ci}:null,retryLane:536870912},A=pn(18,null,null,0),A.stateNode=S,A.return=i,i.child=A,Ge=i,xe=null,A=!0):A=!1}A||zs(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?i.lanes=16:i.lanes=536870912,null;hi(i)}return S=u.children,u=u.fallback,f?(Bi(),f=i.mode,S=xh({mode:"hidden",children:S},f),u=Ps(u,f,l,null),S.return=i,u.return=i,S.sibling=u,i.child=S,f=i.child,f.memoizedState=ph(l),f.childLanes=vh(e,v,l),i.memoizedState=yh,u):(Xi(i),Eh(i,S))}if(A=e.memoizedState,A!==null&&(S=A.dehydrated,S!==null)){if(m)i.flags&256?(Xi(i),i.flags&=-257,i=Sh(e,i,l)):i.memoizedState!==null?(Bi(),i.child=e.child,i.flags|=128,i=null):(Bi(),f=u.fallback,S=i.mode,u=xh({mode:"visible",children:u.children},S),f=Ps(f,S,l,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,Ns(i,e.child,null,l),u=i.child,u.memoizedState=ph(l),u.childLanes=vh(e,v,l),i.memoizedState=yh,i=f);else if(Xi(i),S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var I=v.dgst;v=I,u=Error(s(419)),u.stack="",u.digest=v,Ua({value:u,source:null,stack:null}),i=Sh(e,i,l)}else if(ge||Ka(e,i,l,!1),v=(l&e.childLanes)!==0,ge||v){if(v=Zt,v!==null){if(u=l&-l,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(v.suspendedLanes|l))!==0?0:u,u!==0&&u!==A.retryLane)throw A.retryLane=u,Yi(e,u),Ue(v,e,u),om}S.data==="$?"||Wh(),i=Sh(e,i,l)}else S.data==="$?"?(i.flags|=128,i.child=e.child,i=Sv.bind(null,e),S._reactRetry=i,i=null):(e=A.treeContext,xe=zn(S.nextSibling),Ge=i,Ot=!0,Ln=null,Vn=!1,e!==null&&(dn[gn++]=ui,dn[gn++]=ci,dn[gn++]=Ls,ui=e.id,ci=e.overflow,Ls=i),i=Eh(i,u.children),i.flags|=4096);return i}return f?(Bi(),f=u.fallback,S=i.mode,A=e.child,I=A.sibling,u=$i(A,{mode:"hidden",children:u.children}),u.subtreeFlags=A.subtreeFlags&31457280,I!==null?f=$i(I,f):(f=Ps(f,S,l,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,S=e.child.memoizedState,S===null?S=ph(l):(A=S.cachePool,A!==null?(I=ue._currentValue,A=A.parent!==I?{parent:I,pool:I}:A):A=p0(),S={baseLanes:S.baseLanes|l,cachePool:A}),f.memoizedState=S,f.childLanes=vh(e,v,l),i.memoizedState=yh,u):(Xi(i),l=e.child,e=l.sibling,l=$i(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=l,i.memoizedState=null,l)}function Eh(e,i){return i=xh({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function xh(e,i){return Hm(e,i,0,null)}function Sh(e,i,l){return Ns(i,e.child,null,l),e=Eh(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function pm(e,i,l){e.lanes|=i;var u=e.alternate;u!==null&&(u.lanes|=i),wh(e.return,i,l)}function Ch(e,i,l,u,f){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=l,m.tailMode=f)}function vm(e,i,l){var u=i.pendingProps,f=u.revealOrder,m=u.tail;if(Se(e,i,u.children,l),u=oe.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pm(e,l,i);else if(e.tag===19)pm(e,l,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}switch(Et(oe,u),f){case"forwards":for(l=i.child,f=null;l!==null;)e=l.alternate,e!==null&&Do(e)===null&&(f=l),l=l.sibling;l=f,l===null?(f=i.child,i.child=null):(f=l.sibling,l.sibling=null),Ch(i,!1,f,l,m);break;case"backwards":for(l=null,f=i.child,i.child=null;f!==null;){if(e=f.alternate,e!==null&&Do(e)===null){i.child=f;break}e=f.sibling,f.sibling=l,l=f,f=e}Ch(i,!0,l,null,m);break;case"together":Ch(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function di(e,i,l){if(e!==null&&(i.dependencies=e.dependencies),Ji|=i.lanes,(l&i.childLanes)===0)if(e!==null){if(Ka(e,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,l=$i(e,e.pendingProps),i.child=l,l.return=i;e.sibling!==null;)e=e.sibling,l=l.sibling=$i(e,e.pendingProps),l.return=i;l.sibling=null}return i.child}function Rh(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Ho(e)))}function ov(e,i,l){switch(i.tag){case 3:Bn(i,i.stateNode.containerInfo),ji(i,ue,e.memoizedState.cache),Ga();break;case 27:case 5:Xe(i);break;case 4:Bn(i,i.stateNode.containerInfo);break;case 10:ji(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Xi(i),i.flags|=128,null):(l&i.child.childLanes)!==0?ym(e,i,l):(Xi(i),e=di(e,i,l),e!==null?e.sibling:null);Xi(i);break;case 19:var f=(e.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(Ka(e,i,l,!1),u=(l&i.childLanes)!==0),f){if(u)return vm(e,i,l);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Et(oe,oe.current),u)break;return null;case 22:case 23:return i.lanes=0,fm(e,i,l);case 24:ji(i,ue,e.memoizedState.cache)}return di(e,i,l)}function Em(e,i,l){if(e!==null)if(e.memoizedProps!==i.pendingProps)ge=!0;else{if(!Rh(e,l)&&(i.flags&128)===0)return ge=!1,ov(e,i,l);ge=(e.flags&131072)!==0}else ge=!1,Ot&&(i.flags&1048576)!==0&&s0(i,wo,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")Uh(u)?(e=Ys(u,e),i.tag=1,i=mm(null,i,u,e,l)):(i.tag=0,i=_h(null,i,u,e,l));else{if(u!=null){if(f=u.$$typeof,f===x){i.tag=11,i=um(null,i,u,e,l);break t}else if(f===T){i.tag=14,i=cm(null,i,u,e,l);break t}}throw i=P(u)||u,Error(s(306,i,""))}}return i;case 0:return _h(e,i,i.type,i.pendingProps,l);case 1:return u=i.type,f=Ys(u,i.pendingProps),mm(e,i,u,f,l);case 3:t:{if(Bn(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var m=i.pendingProps;f=i.memoizedState,u=f.element,Mh(e,i),$a(i,m,null,l);var v=i.memoizedState;if(m=v.cache,ji(i,ue,m),m!==f.cache&&bh(i,[ue],l,!0),Qa(),m=v.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=_m(e,i,m,l);break t}else if(m!==u){u=fn(Error(s(424)),i),Ua(u),i=_m(e,i,m,l);break t}else for(xe=zn(i.stateNode.containerInfo.firstChild),Ge=i,Ot=!0,Ln=null,Vn=!0,l=d0(i,null,m,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ga(),m===u){i=di(e,i,l);break t}Se(e,i,m,l)}i=i.child}return i;case 26:return qa(e,i),e===null?(l=C_(i.type,null,i.pendingProps,null))?i.memoizedState=l:Ot||(l=i.type,e=i.pendingProps,u=ru($e.current).createElement(l),u[Ae]=i,u[Be]=e,Ce(u,l,e),de(u),i.stateNode=u):i.memoizedState=C_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Xe(i),e===null&&Ot&&(u=i.stateNode=E_(i.type,i.pendingProps,$e.current),Ge=i,Vn=!0,xe=zn(u.firstChild)),u=i.pendingProps.children,e!==null||Ot?Se(e,i,u,l):i.child=Ns(i,null,u,l),qa(e,i),i.child;case 5:return e===null&&Ot&&((f=u=xe)&&(u=Uv(u,i.type,i.pendingProps,Vn),u!==null?(i.stateNode=u,Ge=i,xe=zn(u.firstChild),Vn=!1,f=!0):f=!1),f||zs(i)),Xe(i),f=i.type,m=i.pendingProps,v=e!==null?e.memoizedProps:null,u=m.children,hf(f,m)?u=null:v!==null&&hf(f,v)&&(i.flags|=32),i.memoizedState!==null&&(f=$c(e,i,ev,null,null,l),dl._currentValue=f),qa(e,i),Se(e,i,u,l),i.child;case 6:return e===null&&Ot&&((e=l=xe)&&(l=Fv(l,i.pendingProps,Vn),l!==null?(i.stateNode=l,Ge=i,xe=null,e=!0):e=!1),e||zs(i)),null;case 13:return ym(e,i,l);case 4:return Bn(i,i.stateNode.containerInfo),u=i.pendingProps,e===null?i.child=Ns(i,null,u,l):Se(e,i,u,l),i.child;case 11:return um(e,i,i.type,i.pendingProps,l);case 7:return Se(e,i,i.pendingProps,l),i.child;case 8:return Se(e,i,i.pendingProps.children,l),i.child;case 12:return Se(e,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,ji(i,i.type,u.value),Se(e,i,u.children,l),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Bs(i),f=Me(f),u=u(f),i.flags|=1,Se(e,i,u,l),i.child;case 14:return cm(e,i,i.type,i.pendingProps,l);case 15:return hm(e,i,i.type,i.pendingProps,l);case 19:return vm(e,i,l);case 22:return fm(e,i,l);case 24:return Bs(i),u=Me(ue),e===null?(f=Wc(),f===null&&(f=Zt,m=qc(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=l),f=m),i.memoizedState={parent:u,cache:f},Ah(i),ji(i,ue,f)):((e.lanes&l)!==0&&(Mh(e,i),$a(i,null,null,l),Qa()),f=e.memoizedState,m=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ji(i,ue,u)):(u=m.cache,ji(i,ue,u),u!==f.cache&&bh(i,[ue],l,!0))),Se(e,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Th=yt(null),Xs=null,gi=null;function ji(e,i,l){Et(Th,i._currentValue),i._currentValue=l}function mi(e){e._currentValue=Th.current,Xt(Th)}function wh(e,i,l){for(;e!==null;){var u=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),e===l)break;e=e.return}}function bh(e,i,l,u){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var v=f.child;m=m.firstContext;t:for(;m!==null;){var S=m;m=f;for(var A=0;A<i.length;A++)if(S.context===i[A]){m.lanes|=l,S=m.alternate,S!==null&&(S.lanes|=l),wh(m.return,l,e),u||(v=null);break t}m=S.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=l,m=v.alternate,m!==null&&(m.lanes|=l),wh(v,l,e),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===e){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Ka(e,i,l,u){e=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=f.type;en(f.pendingProps.value,v.value)||(e!==null?e.push(S):e=[S])}}else if(f===Je.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(dl):e=[dl])}f=f.return}e!==null&&bh(i,e,l,u),i.flags|=262144}function Ho(e){for(e=e.firstContext;e!==null;){if(!en(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bs(e){Xs=e,gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Me(e){return xm(Xs,e)}function Po(e,i){return Xs===null&&Bs(e),xm(e,i)}function xm(e,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},gi===null){if(e===null)throw Error(s(308));gi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else gi=gi.next=i;return l}var Zi=!1;function Ah(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qi(e,i,l){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(Qt&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=Ro(e),n0(e,null,l),i}return Co(e,u,i,l),Ro(e)}function Wa(e,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194176)!==0)){var u=i.lanes;u&=e.pendingLanes,l|=u,i.lanes=l,fe(e,l)}}function Oh(e,i){var l=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var f=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var v={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?f=m=v:m=m.next=v,l=l.next}while(l!==null);m===null?f=m=i:m=m.next=i}else f=m=i;l={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=i:e.next=i,l.lastBaseUpdate=i}var Dh=!1;function Qa(){if(Dh){var e=wr;if(e!==null)throw e}}function $a(e,i,l,u){Dh=!1;var f=e.updateQueue;Zi=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var A=S,I=A.next;A.next=null,v===null?m=I:v.next=I,v=A;var j=e.alternate;j!==null&&(j=j.updateQueue,S=j.lastBaseUpdate,S!==v&&(S===null?j.firstBaseUpdate=I:S.next=I,j.lastBaseUpdate=A))}if(m!==null){var W=f.baseState;v=0,j=I=A=null,S=m;do{var G=S.lane&-536870913,H=G!==S.lane;if(H?(Mt&G)===G:(u&G)===G){G!==0&&G===Tr&&(Dh=!0),j!==null&&(j=j.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var lt=e,pt=S;G=i;var ee=l;switch(pt.tag){case 1:if(lt=pt.payload,typeof lt=="function"){W=lt.call(ee,W,G);break t}W=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=pt.payload,G=typeof lt=="function"?lt.call(ee,W,G):lt,G==null)break t;W=q({},W,G);break t;case 2:Zi=!0}}G=S.callback,G!==null&&(e.flags|=64,H&&(e.flags|=8192),H=f.callbacks,H===null?f.callbacks=[G]:H.push(G))}else H={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},j===null?(I=j=H,A=W):j=j.next=H,v|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;H=S,S=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);j===null&&(A=W),f.baseState=A,f.firstBaseUpdate=I,f.lastBaseUpdate=j,m===null&&(f.shared.lanes=0),Ji|=v,e.lanes=v,e.memoizedState=W}}function Sm(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Cm(e,i){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Sm(l[e],i)}function Ja(e,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&e)===e){u=void 0;var m=l.create,v=l.inst;u=m(),v.destroy=u}l=l.next}while(l!==f)}}catch(S){jt(i,i.return,S)}}function Ki(e,i,l){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&e)===e){var v=u.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,f=i;var A=l;try{S()}catch(I){jt(f,A,I)}}}u=u.next}while(u!==m)}}catch(I){jt(i,i.return,I)}}function Rm(e){var i=e.updateQueue;if(i!==null){var l=e.stateNode;try{Cm(i,l)}catch(u){jt(e,e.return,u)}}}function Tm(e,i,l){l.props=Ys(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(u){jt(e,i,u)}}function Hs(e,i){try{var l=e.ref;if(l!==null){var u=e.stateNode;switch(e.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof l=="function"?e.refCleanup=l(f):l.current=f}}catch(m){jt(e,i,m)}}function nn(e,i){var l=e.ref,u=e.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(f){jt(e,i,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){jt(e,i,f)}else l.current=null}function wm(e){var i=e.type,l=e.memoizedProps,u=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(f){jt(e,e.return,f)}}function bm(e,i,l){try{var u=e.stateNode;Iv(u,e.type,l,i),u[Be]=i}catch(f){jt(e,e.return,f)}}function Am(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Lh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Am(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ih(e,i,l){var u=e.tag;if(u===5||u===6)e=e.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(e,i):l.insertBefore(e,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(e,l)):(i=l,i.appendChild(e)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=su));else if(u!==4&&u!==27&&(e=e.child,e!==null))for(Ih(e,i,l),e=e.sibling;e!==null;)Ih(e,i,l),e=e.sibling}function jo(e,i,l){var u=e.tag;if(u===5||u===6)e=e.stateNode,i?l.insertBefore(e,i):l.appendChild(e);else if(u!==4&&u!==27&&(e=e.child,e!==null))for(jo(e,i,l),e=e.sibling;e!==null;)jo(e,i,l),e=e.sibling}var _i=!1,Jt=!1,zh=!1,Mm=typeof WeakSet=="function"?WeakSet:Set,me=null,Om=!1;function uv(e,i){if(e=e.containerInfo,uf=hu,e=Vg(e),kc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else t:{l=(l=e.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break t}var v=0,S=-1,A=-1,I=0,j=0,W=e,G=null;e:for(;;){for(var H;W!==l||f!==0&&W.nodeType!==3||(S=v+f),W!==m||u!==0&&W.nodeType!==3||(A=v+u),W.nodeType===3&&(v+=W.nodeValue.length),(H=W.firstChild)!==null;)G=W,W=H;for(;;){if(W===e)break e;if(G===l&&++I===f&&(S=v),G===m&&++j===u&&(A=v),(H=W.nextSibling)!==null)break;W=G,G=W.parentNode}W=H}l=S===-1||A===-1?null:{start:S,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(cf={focusedElem:e,selectionRange:l},hu=!1,me=i;me!==null;)if(i=me,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,me=e;else for(;me!==null;){switch(i=me,m=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=i,f=m.memoizedProps,m=m.memoizedState,u=l.stateNode;try{var lt=Ys(l.type,f,l.elementType===l.type);e=u.getSnapshotBeforeUpdate(lt,m),u.__reactInternalSnapshotBeforeUpdate=e}catch(pt){jt(l,l.return,pt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,l=e.nodeType,l===9)gf(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,me=e;break}me=i.return}return lt=Om,Om=!1,lt}function Dm(e,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:pi(e,l),u&4&&Ja(5,l);break;case 1:if(pi(e,l),u&4)if(e=l.stateNode,i===null)try{e.componentDidMount()}catch(S){jt(l,l.return,S)}else{var f=Ys(l.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(f,i,e.__reactInternalSnapshotBeforeUpdate)}catch(S){jt(l,l.return,S)}}u&64&&Rm(l),u&512&&Hs(l,l.return);break;case 3:if(pi(e,l),u&64&&(u=l.updateQueue,u!==null)){if(e=null,l.child!==null)switch(l.child.tag){case 27:case 5:e=l.child.stateNode;break;case 1:e=l.child.stateNode}try{Cm(u,e)}catch(S){jt(l,l.return,S)}}break;case 26:pi(e,l),u&512&&Hs(l,l.return);break;case 27:case 5:pi(e,l),i===null&&u&4&&wm(l),u&512&&Hs(l,l.return);break;case 12:pi(e,l);break;case 13:pi(e,l),u&4&&zm(e,l);break;case 22:if(f=l.memoizedState!==null||_i,!f){i=i!==null&&i.memoizedState!==null||Jt;var m=_i,v=Jt;_i=f,(Jt=i)&&!v?Wi(e,l,(l.subtreeFlags&8772)!==0):pi(e,l),_i=m,Jt=v}u&512&&(l.memoizedProps.mode==="manual"?Hs(l,l.return):nn(l,l.return));break;default:pi(e,l)}}function Lm(e){var i=e.alternate;i!==null&&(e.alternate=null,Lm(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Ec(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,sn=!1;function yi(e,i,l){for(l=l.child;l!==null;)Im(e,i,l),l=l.sibling}function Im(e,i,l){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount(Rs,l)}catch{}switch(l.tag){case 26:Jt||nn(l,i),yi(e,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Jt||nn(l,i);var u=ae,f=sn;for(ae=l.stateNode,yi(e,i,l),l=l.stateNode,i=l.attributes;i.length;)l.removeAttributeNode(i[0]);Ec(l),ae=u,sn=f;break;case 5:Jt||nn(l,i);case 6:f=ae;var m=sn;if(ae=null,yi(e,i,l),ae=f,sn=m,ae!==null)if(sn)try{e=ae,u=l.stateNode,e.nodeType===8?e.parentNode.removeChild(u):e.removeChild(u)}catch(v){jt(l,i,v)}else try{ae.removeChild(l.stateNode)}catch(v){jt(l,i,v)}break;case 18:ae!==null&&(sn?(i=ae,l=l.stateNode,i.nodeType===8?df(i.parentNode,l):i.nodeType===1&&df(i,l),yl(i)):df(ae,l.stateNode));break;case 4:u=ae,f=sn,ae=l.stateNode.containerInfo,sn=!0,yi(e,i,l),ae=u,sn=f;break;case 0:case 11:case 14:case 15:Jt||Ki(2,l,i),Jt||Ki(4,l,i),yi(e,i,l);break;case 1:Jt||(nn(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Tm(l,i,u)),yi(e,i,l);break;case 21:yi(e,i,l);break;case 22:Jt||nn(l,i),Jt=(u=Jt)||l.memoizedState!==null,yi(e,i,l),Jt=u;break;default:yi(e,i,l)}}function zm(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{yl(e)}catch(l){jt(i,i.return,l)}}function cv(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Mm),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Mm),i;default:throw Error(s(435,e.tag))}}function Nh(e,i){var l=cv(e);i.forEach(function(u){var f=Cv.bind(null,e,u);l.has(u)||(l.add(u),u.then(f,f))})}function _n(e,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var f=l[u],m=e,v=i,S=v;t:for(;S!==null;){switch(S.tag){case 27:case 5:ae=S.stateNode,sn=!1;break t;case 3:ae=S.stateNode.containerInfo,sn=!0;break t;case 4:ae=S.stateNode.containerInfo,sn=!0;break t}S=S.return}if(ae===null)throw Error(s(160));Im(m,v,f),ae=null,sn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Nm(i,e),i=i.sibling}var In=null;function Nm(e,i){var l=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_n(i,e),yn(e),u&4&&(Ki(3,e,e.return),Ja(3,e),Ki(5,e,e.return));break;case 1:_n(i,e),yn(e),u&512&&(Jt||l===null||nn(l,l.return)),u&64&&_i&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var f=In;if(_n(i,e),yn(e),u&512&&(Jt||l===null||nn(l,l.return)),u&4){var m=l!==null?l.memoizedState:null;if(u=e.memoizedState,l===null)if(u===null)if(e.stateNode===null){t:{u=e.type,l=e.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ta]||m[Ae]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Ce(m,u,l),m[Ae]=e,de(m),u=m;break t;case"link":var v=w_("link","href",f).get(u+(l.href||""));if(v){for(var S=0;S<v.length;S++)if(m=v[S],m.getAttribute("href")===(l.href==null?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){v.splice(S,1);break e}}m=f.createElement(u),Ce(m,u,l),f.head.appendChild(m);break;case"meta":if(v=w_("meta","content",f).get(u+(l.content||""))){for(S=0;S<v.length;S++)if(m=v[S],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){v.splice(S,1);break e}}m=f.createElement(u),Ce(m,u,l),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[Ae]=e,de(m),u=m}e.stateNode=u}else b_(f,e.type,e.stateNode);else e.stateNode=T_(f,u,e.memoizedProps);else m!==u?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,u===null?b_(f,e.type,e.stateNode):T_(f,u,e.memoizedProps)):u===null&&e.stateNode!==null&&bm(e,e.memoizedProps,l.memoizedProps)}break;case 27:if(u&4&&e.alternate===null){f=e.stateNode,m=e.memoizedProps;try{for(var A=f.firstChild;A;){var I=A.nextSibling,j=A.nodeName;A[Ta]||j==="HEAD"||j==="BODY"||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&A.rel.toLowerCase()==="stylesheet"||f.removeChild(A),A=I}for(var W=e.type,G=f.attributes;G.length;)f.removeAttributeNode(G[0]);Ce(f,W,m),f[Ae]=e,f[Be]=m}catch(lt){jt(e,e.return,lt)}}case 5:if(_n(i,e),yn(e),u&512&&(Jt||l===null||nn(l,l.return)),e.flags&32){f=e.stateNode;try{dr(f,"")}catch(lt){jt(e,e.return,lt)}}u&4&&e.stateNode!=null&&(f=e.memoizedProps,bm(e,f,l!==null?l.memoizedProps:f)),u&1024&&(zh=!0);break;case 6:if(_n(i,e),yn(e),u&4){if(e.stateNode===null)throw Error(s(162));u=e.memoizedProps,l=e.stateNode;try{l.nodeValue=u}catch(lt){jt(e,e.return,lt)}}break;case 3:if(ou=null,f=In,In=au(i.containerInfo),_n(i,e),In=f,yn(e),u&4&&l!==null&&l.memoizedState.isDehydrated)try{yl(i.containerInfo)}catch(lt){jt(e,e.return,lt)}zh&&(zh=!1,km(e));break;case 4:u=In,In=au(e.stateNode.containerInfo),_n(i,e),yn(e),In=u;break;case 12:_n(i,e),yn(e);break;case 13:_n(i,e),yn(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ph=Pt()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Nh(e,u)));break;case 22:if(u&512&&(Jt||l===null||nn(l,l.return)),A=e.memoizedState!==null,I=l!==null&&l.memoizedState!==null,j=_i,W=Jt,_i=j||A,Jt=W||I,_n(i,e),Jt=W,_i=j,yn(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,u&8192&&(i._visibility=A?i._visibility&-2:i._visibility|1,A&&(i=_i||Jt,l===null||I||i||Or(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(l=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(l===null){I=l=i;try{if(f=I.stateNode,A)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{v=I.stateNode,S=I.memoizedProps.style;var H=S!=null&&S.hasOwnProperty("display")?S.display:null;v.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(lt){jt(I,I.return,lt)}}}else if(i.tag===6){if(l===null){I=i;try{I.stateNode.nodeValue=A?"":I.memoizedProps}catch(lt){jt(I,I.return,lt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=e.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Nh(e,l))));break;case 19:_n(i,e),yn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Nh(e,u)));break;case 21:break;default:_n(i,e),yn(e)}}function yn(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var l=e.return;l!==null;){if(Am(l)){var u=l;break t}l=l.return}throw Error(s(160))}switch(u.tag){case 27:var f=u.stateNode,m=Lh(e);jo(e,m,f);break;case 5:var v=u.stateNode;u.flags&32&&(dr(v,""),u.flags&=-33);var S=Lh(e);jo(e,S,v);break;case 3:case 4:var A=u.stateNode.containerInfo,I=Lh(e);Ih(e,I,A);break;default:throw Error(s(161))}}}catch(j){jt(e,e.return,j)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function km(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;km(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function pi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Dm(e,i.alternate,i),i=i.sibling}function Or(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ki(4,i,i.return),Or(i);break;case 1:nn(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Tm(i,i.return,l),Or(i);break;case 26:case 27:case 5:nn(i,i.return),Or(i);break;case 22:nn(i,i.return),i.memoizedState===null&&Or(i);break;default:Or(i)}e=e.sibling}}function Wi(e,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=e,m=i,v=m.flags;switch(m.tag){case 0:case 11:case 15:Wi(f,m,l),Ja(4,m);break;case 1:if(Wi(f,m,l),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(I){jt(u,u.return,I)}if(u=m,f=u.updateQueue,f!==null){var S=u.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)Sm(A[f],S)}catch(I){jt(u,u.return,I)}}l&&v&64&&Rm(m),Hs(m,m.return);break;case 26:case 27:case 5:Wi(f,m,l),l&&u===null&&v&4&&wm(m),Hs(m,m.return);break;case 12:Wi(f,m,l);break;case 13:Wi(f,m,l),l&&v&4&&zm(f,m);break;case 22:m.memoizedState===null&&Wi(f,m,l),Hs(m,m.return);break;default:Wi(f,m,l)}i=i.sibling}}function kh(e,i){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Ha(l))}function Gh(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ha(e))}function Qi(e,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Gm(e,i,l,u),i=i.sibling}function Gm(e,i,l,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Qi(e,i,l,u),f&2048&&Ja(9,i);break;case 3:Qi(e,i,l,u),f&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ha(e)));break;case 12:if(f&2048){Qi(e,i,l,u),e=i.stateNode;try{var m=i.memoizedProps,v=m.id,S=m.onPostCommit;typeof S=="function"&&S(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){jt(i,i.return,A)}}else Qi(e,i,l,u);break;case 23:break;case 22:m=i.stateNode,i.memoizedState!==null?m._visibility&4?Qi(e,i,l,u):tl(e,i):m._visibility&4?Qi(e,i,l,u):(m._visibility|=4,Dr(e,i,l,u,(i.subtreeFlags&10256)!==0)),f&2048&&kh(i.alternate,i);break;case 24:Qi(e,i,l,u),f&2048&&Gh(i.alternate,i);break;default:Qi(e,i,l,u)}}function Dr(e,i,l,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=e,v=i,S=l,A=u,I=v.flags;switch(v.tag){case 0:case 11:case 15:Dr(m,v,S,A,f),Ja(8,v);break;case 23:break;case 22:var j=v.stateNode;v.memoizedState!==null?j._visibility&4?Dr(m,v,S,A,f):tl(m,v):(j._visibility|=4,Dr(m,v,S,A,f)),f&&I&2048&&kh(v.alternate,v);break;case 24:Dr(m,v,S,A,f),f&&I&2048&&Gh(v.alternate,v);break;default:Dr(m,v,S,A,f)}i=i.sibling}}function tl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=e,u=i,f=u.flags;switch(u.tag){case 22:tl(l,u),f&2048&&kh(u.alternate,u);break;case 24:tl(l,u),f&2048&&Gh(u.alternate,u);break;default:tl(l,u)}i=i.sibling}}var el=8192;function Lr(e){if(e.subtreeFlags&el)for(e=e.child;e!==null;)Um(e),e=e.sibling}function Um(e){switch(e.tag){case 26:Lr(e),e.flags&el&&e.memoizedState!==null&&$v(In,e.memoizedState,e.memoizedProps);break;case 5:Lr(e);break;case 3:case 4:var i=In;In=au(e.stateNode.containerInfo),Lr(e),In=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=el,el=16777216,Lr(e),el=i):Lr(e));break;default:Lr(e)}}function Fm(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function nl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];me=u,Xm(u,e)}Fm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ym(e),e=e.sibling}function Ym(e){switch(e.tag){case 0:case 11:case 15:nl(e),e.flags&2048&&Ki(9,e,e.return);break;case 3:nl(e);break;case 12:nl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,Zo(e)):nl(e);break;default:nl(e)}}function Zo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];me=u,Xm(u,e)}Fm(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ki(8,i,i.return),Zo(i);break;case 22:l=i.stateNode,l._visibility&4&&(l._visibility&=-5,Zo(i));break;default:Zo(i)}e=e.sibling}}function Xm(e,i){for(;me!==null;){var l=me;switch(l.tag){case 0:case 11:case 15:Ki(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ha(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,me=u;else t:for(l=e;me!==null;){u=me;var f=u.sibling,m=u.return;if(Lm(u),u===l){me=null;break t}if(f!==null){f.return=m,me=f;break t}me=m}}}function hv(e,i,l,u){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,i,l,u){return new hv(e,i,l,u)}function Uh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $i(e,i){var l=e.alternate;return l===null?(l=pn(e.tag,i,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=i,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&31457280,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,i=e.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Bm(e,i){e.flags&=31457282;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,i=l.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Vo(e,i,l,u,f,m){var v=0;if(u=e,typeof e=="function")Uh(e)&&(v=1);else if(typeof e=="string")v=Wv(e,l,ze.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case d:return Ps(l.children,f,m,i);case g:v=8,f|=24;break;case _:return e=pn(12,l,i,f|2),e.elementType=_,e.lanes=m,e;case C:return e=pn(13,l,i,f),e.elementType=C,e.lanes=m,e;case R:return e=pn(19,l,i,f),e.elementType=R,e.lanes=m,e;case O:return Hm(l,f,m,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case y:case E:v=10;break t;case p:v=9;break t;case x:v=11;break t;case T:v=14;break t;case b:v=16,u=null;break t}v=29,l=Error(s(130,e===null?"null":typeof e,"")),u=null}return i=pn(v,l,i,f),i.elementType=e,i.type=u,i.lanes=m,i}function Ps(e,i,l,u){return e=pn(7,e,u,i),e.lanes=l,e}function Hm(e,i,l,u){e=pn(22,e,u,i),e.elementType=O,e.lanes=l;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var v=Yi(m,2);v!==null&&(f._pendingVisibility|=2,Ue(v,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var v=Yi(m,2);v!==null&&(f._pendingVisibility&=-3,Ue(v,m,2))}}};return e.stateNode=f,e}function Fh(e,i,l){return e=pn(6,e,null,i),e.lanes=l,e}function Yh(e,i,l){return i=pn(4,e.children!==null?e.children:[],e.key,i),i.lanes=l,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function vi(e){e.flags|=4}function Pm(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!A_(i)){if(i=mn.current,i!==null&&((Mt&4194176)===Mt?qn!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||i!==qn))throw Ya=jc,l0;e.flags|=8192}}function qo(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?tn():536870912,e.lanes|=i,zr|=i)}function il(e,i){if(!Ot)switch(e.tailMode){case"hidden":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Wt(e){var i=e.alternate!==null&&e.alternate.child===e.child,l=0,u=0;if(i)for(var f=e.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=u,e.childLanes=l,i}function fv(e,i,l){var u=i.pendingProps;switch(Hc(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(i),null;case 1:return Wt(i),null;case 3:return l=i.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),mi(ue),Ee(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(ka(i)?vi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ln!==null&&(qh(Ln),Ln=null))),Wt(i),null;case 26:return l=i.memoizedState,e===null?(vi(i),l!==null?(Wt(i),Pm(i,l)):(Wt(i),i.flags&=-16777217)):l?l!==e.memoizedState?(vi(i),Wt(i),Pm(i,l)):(Wt(i),i.flags&=-16777217):(e.memoizedProps!==u&&vi(i),Wt(i),i.flags&=-16777217),null;case 27:bn(i),l=$e.current;var f=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==u&&vi(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Wt(i),null}e=ze.current,ka(i)?r0(i):(e=E_(f,u,l),i.stateNode=e,vi(i))}return Wt(i),null;case 5:if(bn(i),l=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==u&&vi(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Wt(i),null}if(e=ze.current,ka(i))r0(i);else{switch(f=ru($e.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?e.multiple=!0:u.size&&(e.size=u.size);break;default:e=typeof u.is=="string"?f.createElement(l,{is:u.is}):f.createElement(l)}}e[Ae]=i,e[Be]=u;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=e;t:switch(Ce(e,l,u),l){case"button":case"input":case"select":case"textarea":e=!!u.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&vi(i)}}return Wt(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==u&&vi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(e=$e.current,ka(i)){if(e=i.stateNode,l=i.memoizedProps,u=null,f=Ge,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}e[Ae]=i,e=!!(e.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||g_(e.nodeValue,l)),e||zs(i)}else e=ru(e).createTextNode(u),e[Ae]=i,i.stateNode=e}return Wt(i),null;case 13:if(u=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=ka(i),u!==null&&u.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ae]=i}else Ga(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Wt(i),f=!1}else Ln!==null&&(qh(Ln),Ln=null),f=!0;if(!f)return i.flags&256?(hi(i),i):(hi(i),null)}if(hi(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=u!==null,e=e!==null&&e.memoizedState!==null,l){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return l!==e&&l&&(i.child.flags|=8192),qo(i,i.updateQueue),Wt(i),null;case 4:return Ee(),e===null&&af(i.stateNode.containerInfo),Wt(i),null;case 10:return mi(i.type),Wt(i),null;case 19:if(Xt(oe),f=i.memoizedState,f===null)return Wt(i),null;if(u=(i.flags&128)!==0,m=f.rendering,m===null)if(u)il(f,!1);else{if(te!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(m=Do(e),m!==null){for(i.flags|=128,il(f,!1),e=m.updateQueue,i.updateQueue=e,qo(i,e),i.subtreeFlags=0,e=l,l=i.child;l!==null;)Bm(l,e),l=l.sibling;return Et(oe,oe.current&1|2),i.child}e=e.sibling}f.tail!==null&&Pt()>Ko&&(i.flags|=128,u=!0,il(f,!1),i.lanes=4194304)}else{if(!u)if(e=Do(m),e!==null){if(i.flags|=128,u=!0,e=e.updateQueue,i.updateQueue=e,qo(i,e),il(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ot)return Wt(i),null}else 2*Pt()-f.renderingStartTime>Ko&&l!==536870912&&(i.flags|=128,u=!0,il(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(e=f.last,e!==null?e.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Pt(),i.sibling=null,e=oe.current,Et(oe,u?e&1|2:e&1),i):(Wt(i),null);case 22:case 23:return hi(i),Vc(),u=i.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(Wt(i),i.subtreeFlags&6&&(i.flags|=8192)):Wt(i),l=i.updateQueue,l!==null&&qo(i,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),e!==null&&Xt(ks),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),mi(ue),Wt(i),null;case 25:return null}throw Error(s(156,i.tag))}function dv(e,i){switch(Hc(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return mi(ue),Ee(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return bn(i),null;case 13:if(hi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ga()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Xt(oe),null;case 4:return Ee(),null;case 10:return mi(i.type),null;case 22:case 23:return hi(i),Vc(),e!==null&&Xt(ks),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return mi(ue),null;case 25:return null;default:return null}}function jm(e,i){switch(Hc(i),i.tag){case 3:mi(ue),Ee();break;case 26:case 27:case 5:bn(i);break;case 4:Ee();break;case 13:hi(i);break;case 19:Xt(oe);break;case 10:mi(i.type);break;case 22:case 23:hi(i),Vc(),e!==null&&Xt(ks);break;case 24:mi(ue)}}var gv={getCacheForType:function(e){var i=Me(ue),l=i.data.get(e);return l===void 0&&(l=e(),i.data.set(e,l)),l}},mv=typeof WeakMap=="function"?WeakMap:Map,Qt=0,Zt=null,wt=null,Mt=0,Vt=0,rn=null,Ei=!1,Ir=!1,Xh=!1,xi=0,te=0,Ji=0,js=0,Bh=0,vn=0,zr=0,sl=null,Wn=null,Hh=!1,Ph=0,Ko=1/0,Wo=null,ts=null,Qo=!1,Zs=null,rl=0,jh=0,Zh=null,al=0,Vh=null;function an(){if((Qt&2)!==0&&Mt!==0)return Mt&-Mt;if(k.T!==null){var e=Tr;return e!==0?e:ef()}return uo()}function Zm(){vn===0&&(vn=(Mt&536870912)===0||Ot?Ne():536870912);var e=mn.current;return e!==null&&(e.flags|=32),vn}function Ue(e,i,l){(e===Zt&&Vt===2||e.cancelPendingCommit!==null)&&(Nr(e,0),Si(e,Mt,vn,!1)),ke(e,l),((Qt&2)===0||e!==Zt)&&(e===Zt&&((Qt&2)===0&&(js|=l),te===4&&Si(e,Mt,vn,!1)),Qn(e))}function Vm(e,i,l){if((Qt&6)!==0)throw Error(s(327));var u=!l&&(i&60)===0&&(i&e.expiredLanes)===0||he(e,i),f=u?pv(e,i):Qh(e,i,!0),m=u;do{if(f===0){Ir&&!u&&Si(e,i,0,!1);break}else if(f===6)Si(e,i,0,!Ei);else{if(l=e.current.alternate,m&&!_v(l)){f=Qh(e,i,!1),m=!1;continue}if(f===2){if(m=i,e.errorRecoveryDisabledLanes&m)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var S=e;f=sl;var A=S.current.memoizedState.isDehydrated;if(A&&(Nr(S,v).flags|=256),v=Qh(S,v,!1),v!==2){if(Xh&&!A){S.errorRecoveryDisabledLanes|=m,js|=m,f=4;break t}m=Wn,Wn=f,m!==null&&qh(m)}f=v}if(m=!1,f!==2)continue}}if(f===1){Nr(e,0),Si(e,i,0,!0);break}t:{switch(u=e,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Si(u,i,vn,!Ei);break t}break;case 2:Wn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=l,u.finishedLanes=i,(i&62914560)===i&&(m=Ph+300-Pt(),10<m)){if(Si(u,i,vn,!Ei),ws(u,0)!==0)break t;u.timeoutHandle=y_(qm.bind(null,u,l,Wn,Wo,Hh,i,vn,js,zr,Ei,2,-0,0),m);break t}qm(u,l,Wn,Wo,Hh,i,vn,js,zr,Ei,0,-0,0)}}break}while(!0);Qn(e)}function qh(e){Wn===null?Wn=e:Wn.push.apply(Wn,e)}function qm(e,i,l,u,f,m,v,S,A,I,j,W,G){var H=i.subtreeFlags;if((H&8192||(H&16785408)===16785408)&&(fl={stylesheets:null,count:0,unsuspend:Qv},Um(i),i=Jv(),i!==null)){e.cancelPendingCommit=i(e_.bind(null,e,l,u,f,v,S,A,1,W,G)),Si(e,m,v,!I);return}e_(e,l,u,f,v,S,A,j,W,G)}function _v(e){for(var i=e;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var f=l[u],m=f.getSnapshot;f=f.value;try{if(!en(m(),f))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Si(e,i,l,u){i&=~Bh,i&=~js,e.suspendedLanes|=i,e.pingedLanes&=~i,u&&(e.warmLanes|=i),u=e.expirationTimes;for(var f=i;0<f;){var m=31-we(f),v=1<<m;u[m]=-1,f&=~v}l!==0&&qt(e,l,i)}function $o(){return(Qt&6)===0?(ll(0),!1):!0}function Kh(){if(wt!==null){if(Vt===0)var e=wt.return;else e=wt,gi=Xs=null,eh(e),Cr=null,Xa=0,e=wt;for(;e!==null;)jm(e.alternate,e),e=e.return;wt=null}}function Nr(e,i){e.finishedWork=null,e.finishedLanes=0;var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Nv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Kh(),Zt=e,wt=l=$i(e.current,null),Mt=i,Vt=0,rn=null,Ei=!1,Ir=he(e,i),Xh=!1,zr=vn=Bh=js=Ji=te=0,Wn=sl=null,Hh=!1,(i&8)!==0&&(i|=i&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=i;0<u;){var f=31-we(u),m=1<<f;i|=e[f],u&=~m}return xi=i,So(),l}function Km(e,i){Rt=null,k.H=Kn,i===Fa?(i=c0(),Vt=3):i===l0?(i=c0(),Vt=4):Vt=i===om?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,rn=i,wt===null&&(te=1,Bo(e,fn(i,e.current)))}function Wm(){var e=k.H;return k.H=Kn,e===null?Kn:e}function Qm(){var e=k.A;return k.A=gv,e}function Wh(){te=4,Ei||(Mt&4194176)!==Mt&&mn.current!==null||(Ir=!0),(Ji&134217727)===0&&(js&134217727)===0||Zt===null||Si(Zt,Mt,vn,!1)}function Qh(e,i,l){var u=Qt;Qt|=2;var f=Wm(),m=Qm();(Zt!==e||Mt!==i)&&(Wo=null,Nr(e,i)),i=!1;var v=te;t:do try{if(Vt!==0&&wt!==null){var S=wt,A=rn;switch(Vt){case 8:Kh(),v=6;break t;case 3:case 2:case 6:mn.current===null&&(i=!0);var I=Vt;if(Vt=0,rn=null,kr(e,S,A,I),l&&Ir){v=0;break t}break;default:I=Vt,Vt=0,rn=null,kr(e,S,A,I)}}yv(),v=te;break}catch(j){Km(e,j)}while(!0);return i&&e.shellSuspendCounter++,gi=Xs=null,Qt=u,k.H=f,k.A=m,wt===null&&(Zt=null,Mt=0,So()),v}function yv(){for(;wt!==null;)$m(wt)}function pv(e,i){var l=Qt;Qt|=2;var u=Wm(),f=Qm();Zt!==e||Mt!==i?(Wo=null,Ko=Pt()+500,Nr(e,i)):Ir=he(e,i);t:do try{if(Vt!==0&&wt!==null){i=wt;var m=rn;e:switch(Vt){case 1:Vt=0,rn=null,kr(e,i,m,1);break;case 2:if(o0(m)){Vt=0,rn=null,Jm(i);break}i=function(){Vt===2&&Zt===e&&(Vt=7),Qn(e)},m.then(i,i);break t;case 3:Vt=7;break t;case 4:Vt=5;break t;case 7:o0(m)?(Vt=0,rn=null,Jm(i)):(Vt=0,rn=null,kr(e,i,m,7));break;case 5:var v=null;switch(wt.tag){case 26:v=wt.memoizedState;case 5:case 27:var S=wt;if(!v||A_(v)){Vt=0,rn=null;var A=S.sibling;if(A!==null)wt=A;else{var I=S.return;I!==null?(wt=I,Jo(I)):wt=null}break e}}Vt=0,rn=null,kr(e,i,m,5);break;case 6:Vt=0,rn=null,kr(e,i,m,6);break;case 8:Kh(),te=6;break t;default:throw Error(s(462))}}vv();break}catch(j){Km(e,j)}while(!0);return gi=Xs=null,k.H=u,k.A=f,Qt=l,wt!==null?0:(Zt=null,Mt=0,So(),te)}function vv(){for(;wt!==null&&!Mn();)$m(wt)}function $m(e){var i=Em(e.alternate,e,xi);e.memoizedProps=e.pendingProps,i===null?Jo(e):wt=i}function Jm(e){var i=e,l=i.alternate;switch(i.tag){case 15:case 0:i=gm(l,i,i.pendingProps,i.type,void 0,Mt);break;case 11:i=gm(l,i,i.pendingProps,i.type.render,i.ref,Mt);break;case 5:eh(i);default:jm(l,i),i=wt=Bm(i,xi),i=Em(l,i,xi)}e.memoizedProps=e.pendingProps,i===null?Jo(e):wt=i}function kr(e,i,l,u){gi=Xs=null,eh(i),Cr=null,Xa=0;var f=i.return;try{if(lv(e,f,i,l,Mt)){te=1,Bo(e,fn(l,e.current)),wt=null;return}}catch(m){if(f!==null)throw wt=f,m;te=1,Bo(e,fn(l,e.current)),wt=null;return}i.flags&32768?(Ot||u===1?e=!0:Ir||(Mt&536870912)!==0?e=!1:(Ei=e=!0,(u===2||u===3||u===6)&&(u=mn.current,u!==null&&u.tag===13&&(u.flags|=16384))),t_(i,e)):Jo(i)}function Jo(e){var i=e;do{if((i.flags&32768)!==0){t_(i,Ei);return}e=i.return;var l=fv(i.alternate,i,xi);if(l!==null){wt=l;return}if(i=i.sibling,i!==null){wt=i;return}wt=i=e}while(i!==null);te===0&&(te=5)}function t_(e,i){do{var l=dv(e.alternate,e);if(l!==null){l.flags&=32767,wt=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(e=e.sibling,e!==null)){wt=e;return}wt=e=l}while(e!==null);te=6,wt=null}function e_(e,i,l,u,f,m,v,S,A,I){var j=k.T,W=J.p;try{J.p=2,k.T=null,Ev(e,i,l,u,W,f,m,v,S,A,I)}finally{k.T=j,J.p=W}}function Ev(e,i,l,u,f,m,v,S){do Gr();while(Zs!==null);if((Qt&6)!==0)throw Error(s(327));var A=e.finishedWork;if(u=e.finishedLanes,A===null)return null;if(e.finishedWork=null,e.finishedLanes=0,A===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var I=A.lanes|A.childLanes;if(I|=Yc,On(e,u,I,m,v,S),e===Zt&&(wt=Zt=null,Mt=0),(A.subtreeFlags&10256)===0&&(A.flags&10256)===0||Qo||(Qo=!0,jh=I,Zh=l,Rv(lr,function(){return Gr(),null})),l=(A.flags&15990)!==0,(A.subtreeFlags&15990)!==0||l?(l=k.T,k.T=null,m=J.p,J.p=2,v=Qt,Qt|=4,uv(e,A),Nm(A,e),P2(cf,e.containerInfo),hu=!!uf,cf=uf=null,e.current=A,Dm(e,A.alternate,A),ri(),Qt=v,J.p=m,k.T=l):e.current=A,Qo?(Qo=!1,Zs=e,rl=u):n_(e,I),I=e.pendingLanes,I===0&&(ts=null),oo(A.stateNode),Qn(e),i!==null)for(f=e.onRecoverableError,A=0;A<i.length;A++)I=i[A],f(I.value,{componentStack:I.stack});return(rl&3)!==0&&Gr(),I=e.pendingLanes,(u&4194218)!==0&&(I&42)!==0?e===Vh?al++:(al=0,Vh=e):al=0,ll(0),null}function n_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Ha(i)))}function Gr(){if(Zs!==null){var e=Zs,i=jh;jh=0;var l=on(rl),u=k.T,f=J.p;try{if(J.p=32>l?32:l,k.T=null,Zs===null)var m=!1;else{l=Zh,Zh=null;var v=Zs,S=rl;if(Zs=null,rl=0,(Qt&6)!==0)throw Error(s(331));var A=Qt;if(Qt|=4,Ym(v.current),Gm(v,v.current,S,l),Qt=A,ll(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot(Rs,v)}catch{}m=!0}return m}finally{J.p=f,k.T=u,n_(e,i)}}return!1}function i_(e,i,l){i=fn(l,i),i=mh(e.stateNode,i,2),e=qi(e,i,2),e!==null&&(ke(e,2),Qn(e))}function jt(e,i,l){if(e.tag===3)i_(e,e,l);else for(;i!==null;){if(i.tag===3){i_(i,e,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ts===null||!ts.has(u))){e=fn(l,e),l=am(2),u=qi(i,l,2),u!==null&&(lm(l,u,i,e),ke(u,2),Qn(u));break}}i=i.return}}function $h(e,i,l){var u=e.pingCache;if(u===null){u=e.pingCache=new mv;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(l)||(Xh=!0,f.add(l),e=xv.bind(null,e,i,l),i.then(e,e))}function xv(e,i,l){var u=e.pingCache;u!==null&&u.delete(i),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Zt===e&&(Mt&l)===l&&(te===4||te===3&&(Mt&62914560)===Mt&&300>Pt()-Ph?(Qt&2)===0&&Nr(e,0):Bh|=l,zr===Mt&&(zr=0)),Qn(e)}function s_(e,i){i===0&&(i=tn()),e=Yi(e,i),e!==null&&(ke(e,i),Qn(e))}function Sv(e){var i=e.memoizedState,l=0;i!==null&&(l=i.retryLane),s_(e,l)}function Cv(e,i){var l=0;switch(e.tag){case 13:var u=e.stateNode,f=e.memoizedState;f!==null&&(l=f.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),s_(e,l)}function Rv(e,i){return Hn(e,i)}var tu=null,Ur=null,Jh=!1,eu=!1,tf=!1,Vs=0;function Qn(e){e!==Ur&&e.next===null&&(Ur===null?tu=Ur=e:Ur=Ur.next=e),eu=!0,Jh||(Jh=!0,wv(Tv))}function ll(e,i){if(!tf&&eu){tf=!0;do for(var l=!1,u=tu;u!==null;){if(e!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var v=u.suspendedLanes,S=u.pingedLanes;m=(1<<31-we(42|e)+1)-1,m&=f&~(v&~S),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(l=!0,l_(u,m))}else m=Mt,m=ws(u,u===Zt?m:0),(m&3)===0||he(u,m)||(l=!0,l_(u,m));u=u.next}while(l);tf=!1}}function Tv(){eu=Jh=!1;var e=0;Vs!==0&&(zv()&&(e=Vs),Vs=0);for(var i=Pt(),l=null,u=tu;u!==null;){var f=u.next,m=r_(u,i);m===0?(u.next=null,l===null?tu=f:l.next=f,f===null&&(Ur=l)):(l=u,(e!==0||(m&3)!==0)&&(eu=!0)),u=f}ll(e)}function r_(e,i){for(var l=e.suspendedLanes,u=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var v=31-we(m),S=1<<v,A=f[v];A===-1?((S&l)===0||(S&u)!==0)&&(f[v]=ai(S,i)):A<=i&&(e.expiredLanes|=S),m&=~S}if(i=Zt,l=Mt,l=ws(e,e===i?l:0),u=e.callbackNode,l===0||e===i&&Vt===2||e.cancelPendingCommit!==null)return u!==null&&u!==null&&si(u),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||he(e,l)){if(i=l&-l,i===e.callbackPriority)return i;switch(u!==null&&si(u),on(l)){case 2:case 8:l=Cs;break;case 32:l=lr;break;case 268435456:l=Sa;break;default:l=lr}return u=a_.bind(null,e),l=Hn(l,u),e.callbackPriority=i,e.callbackNode=l,i}return u!==null&&u!==null&&si(u),e.callbackPriority=2,e.callbackNode=null,2}function a_(e,i){var l=e.callbackNode;if(Gr()&&e.callbackNode!==l)return null;var u=Mt;return u=ws(e,e===Zt?u:0),u===0?null:(Vm(e,u,i),r_(e,Pt()),e.callbackNode!=null&&e.callbackNode===l?a_.bind(null,e):null)}function l_(e,i){if(Gr())return null;Vm(e,i,!0)}function wv(e){kv(function(){(Qt&6)!==0?Hn(Ss,e):e()})}function ef(){return Vs===0&&(Vs=Ne()),Vs}function o_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:mo(""+e)}function u_(e,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,e.id&&l.setAttribute("form",e.id),i.parentNode.insertBefore(l,i),e=new FormData(e),l.parentNode.removeChild(l),e}function bv(e,i,l,u,f){if(i==="submit"&&l&&l.stateNode===f){var m=o_((f[Be]||null).action),v=u.submitter;v&&(i=(i=v[Be]||null)?o_(i.formAction):v.getAttribute("formAction"),i!==null&&(m=i,v=null));var S=new vo("action","action",null,u,f);e.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Vs!==0){var A=v?u_(f,v):new FormData(f);ch(l,{pending:!0,data:A,method:f.method,action:m},null,A)}}else typeof m=="function"&&(S.preventDefault(),A=v?u_(f,v):new FormData(f),ch(l,{pending:!0,data:A,method:f.method,action:m},m,A))},currentTarget:f}]})}}for(var nf=0;nf<e0.length;nf++){var sf=e0[nf],Av=sf.toLowerCase(),Mv=sf[0].toUpperCase()+sf.slice(1);Dn(Av,"on"+Mv)}Dn(Wg,"onAnimationEnd"),Dn(Qg,"onAnimationIteration"),Dn($g,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(Z2,"onTransitionRun"),Dn(V2,"onTransitionStart"),Dn(q2,"onTransitionCancel"),Dn(Jg,"onTransitionEnd"),hr("onMouseEnter",["mouseout","mouseover"]),hr("onMouseLeave",["mouseout","mouseover"]),hr("onPointerEnter",["pointerout","pointerover"]),hr("onPointerLeave",["pointerout","pointerover"]),As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),As("onBeforeInput",["compositionend","keypress","textInput","paste"]),As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ov=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function c_(e,i){i=(i&4)!==0;for(var l=0;l<e.length;l++){var u=e[l],f=u.event;u=u.listeners;t:{var m=void 0;if(i)for(var v=u.length-1;0<=v;v--){var S=u[v],A=S.instance,I=S.currentTarget;if(S=S.listener,A!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=I;try{m(f)}catch(j){Xo(j)}f.currentTarget=null,m=A}else for(v=0;v<u.length;v++){if(S=u[v],A=S.instance,I=S.currentTarget,S=S.listener,A!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=I;try{m(f)}catch(j){Xo(j)}f.currentTarget=null,m=A}}}}function bt(e,i){var l=i[vc];l===void 0&&(l=i[vc]=new Set);var u=e+"__bubble";l.has(u)||(h_(i,e,2,!1),l.add(u))}function rf(e,i,l){var u=0;i&&(u|=4),h_(l,e,u,i)}var nu="_reactListening"+Math.random().toString(36).slice(2);function af(e){if(!e[nu]){e[nu]=!0,gg.forEach(function(l){l!=="selectionchange"&&(Ov.has(l)||rf(l,!1,e),rf(l,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[nu]||(i[nu]=!0,rf("selectionchange",!1,i))}}function h_(e,i,l,u){switch(z_(i)){case 2:var f=nE;break;case 8:f=iE;break;default:f=vf}l=f.bind(null,i,l,e),f=void 0,!bc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?e.addEventListener(i,l,{capture:!0,passive:f}):e.addEventListener(i,l,!0):f!==void 0?e.addEventListener(i,l,{passive:f}):e.addEventListener(i,l,!1)}function lf(e,i,l,u,f){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)t:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var S=u.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(v===4)for(v=u.return;v!==null;){var A=v.tag;if((A===3||A===4)&&(A=v.stateNode.containerInfo,A===f||A.nodeType===8&&A.parentNode===f))return;v=v.return}for(;S!==null;){if(v=bs(S),v===null)return;if(A=v.tag,A===5||A===6||A===26||A===27){u=m=v;continue t}S=S.parentNode}}u=u.return}wg(function(){var I=m,j=Tc(l),W=[];t:{var G=t0.get(e);if(G!==void 0){var H=vo,lt=e;switch(e){case"keypress":if(yo(l)===0)break t;case"keydown":case"keyup":H=C2;break;case"focusin":lt="focus",H=Dc;break;case"focusout":lt="blur",H=Dc;break;case"beforeblur":case"afterblur":H=Dc;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Mg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=h2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=w2;break;case Wg:case Qg:case $g:H=g2;break;case Jg:H=A2;break;case"scroll":case"scrollend":H=u2;break;case"wheel":H=O2;break;case"copy":case"cut":case"paste":H=_2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Dg;break;case"toggle":case"beforetoggle":H=L2}var pt=(i&4)!==0,ee=!pt&&(e==="scroll"||e==="scrollend"),z=pt?G!==null?G+"Capture":null:G;pt=[];for(var L=I,N;L!==null;){var V=L;if(N=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||N===null||z===null||(V=ba(L,z),V!=null&&pt.push(ul(L,V,N))),ee)break;L=L.return}0<pt.length&&(G=new H(G,lt,null,l,j),W.push({event:G,listeners:pt}))}}if((i&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",G&&l!==Rc&&(lt=l.relatedTarget||l.fromElement)&&(bs(lt)||lt[or]))break t;if((H||G)&&(G=j.window===j?j:(G=j.ownerDocument)?G.defaultView||G.parentWindow:window,H?(lt=l.relatedTarget||l.toElement,H=I,lt=lt?bs(lt):null,lt!==null&&(ee=Q(lt),pt=lt.tag,lt!==ee||pt!==5&&pt!==27&&pt!==6)&&(lt=null)):(H=null,lt=I),H!==lt)){if(pt=Mg,V="onMouseLeave",z="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Dg,V="onPointerLeave",z="onPointerEnter",L="pointer"),ee=H==null?G:wa(H),N=lt==null?G:wa(lt),G=new pt(V,L+"leave",H,l,j),G.target=ee,G.relatedTarget=N,V=null,bs(j)===I&&(pt=new pt(z,L+"enter",lt,l,j),pt.target=N,pt.relatedTarget=ee,V=pt),ee=V,H&&lt)e:{for(pt=H,z=lt,L=0,N=pt;N;N=Fr(N))L++;for(N=0,V=z;V;V=Fr(V))N++;for(;0<L-N;)pt=Fr(pt),L--;for(;0<N-L;)z=Fr(z),N--;for(;L--;){if(pt===z||z!==null&&pt===z.alternate)break e;pt=Fr(pt),z=Fr(z)}pt=null}else pt=null;H!==null&&f_(W,G,H,pt,!1),lt!==null&&ee!==null&&f_(W,ee,lt,pt,!0)}}t:{if(G=I?wa(I):window,H=G.nodeName&&G.nodeName.toLowerCase(),H==="select"||H==="input"&&G.type==="file")var st=Fg;else if(Gg(G))if(Yg)st=B2;else{st=Y2;var Tt=F2}else H=G.nodeName,!H||H.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?I&&Cc(I.elementType)&&(st=Fg):st=X2;if(st&&(st=st(e,I))){Ug(W,st,l,j);break t}Tt&&Tt(e,G,I),e==="focusout"&&I&&G.type==="number"&&I.memoizedProps.value!=null&&Sc(G,"number",G.value)}switch(Tt=I?wa(I):window,e){case"focusin":(Gg(Tt)||Tt.contentEditable==="true")&&(yr=Tt,Gc=I,Na=null);break;case"focusout":Na=Gc=yr=null;break;case"mousedown":Uc=!0;break;case"contextmenu":case"mouseup":case"dragend":Uc=!1,qg(W,l,j);break;case"selectionchange":if(j2)break;case"keydown":case"keyup":qg(W,l,j)}var ut;if(Ic)t:{switch(e){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else _r?Ng(e,l)&&(dt="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(dt="onCompositionStart");dt&&(Lg&&l.locale!=="ko"&&(_r||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&_r&&(ut=bg()):(Fi=j,Ac="value"in Fi?Fi.value:Fi.textContent,_r=!0)),Tt=iu(I,dt),0<Tt.length&&(dt=new Og(dt,e,null,l,j),W.push({event:dt,listeners:Tt}),ut?dt.data=ut:(ut=kg(l),ut!==null&&(dt.data=ut)))),(ut=z2?N2(e,l):k2(e,l))&&(dt=iu(I,"onBeforeInput"),0<dt.length&&(Tt=new Og("onBeforeInput","beforeinput",null,l,j),W.push({event:Tt,listeners:dt}),Tt.data=ut)),bv(W,e,I,l,j)}c_(W,i)})}function ul(e,i,l){return{instance:e,listener:i,currentTarget:l}}function iu(e,i){for(var l=i+"Capture",u=[];e!==null;){var f=e,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ba(e,l),f!=null&&u.unshift(ul(e,f,m)),f=ba(e,i),f!=null&&u.push(ul(e,f,m))),e=e.return}return u}function Fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function f_(e,i,l,u,f){for(var m=i._reactName,v=[];l!==null&&l!==u;){var S=l,A=S.alternate,I=S.stateNode;if(S=S.tag,A!==null&&A===u)break;S!==5&&S!==26&&S!==27||I===null||(A=I,f?(I=ba(l,m),I!=null&&v.unshift(ul(l,I,A))):f||(I=ba(l,m),I!=null&&v.push(ul(l,I,A)))),l=l.return}v.length!==0&&e.push({event:i,listeners:v})}var Dv=/\r\n?/g,Lv=/\u0000|\uFFFD/g;function d_(e){return(typeof e=="string"?e:""+e).replace(Dv,`
`).replace(Lv,"")}function g_(e,i){return i=d_(i),d_(e)===i}function su(){}function Ht(e,i,l,u,f,m){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||dr(e,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&dr(e,""+u);break;case"className":ho(e,"class",u);break;case"tabIndex":ho(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ho(e,l,u);break;case"style":Rg(e,u,m);break;case"data":if(i!=="object"){ho(e,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){e.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(l);break}u=mo(""+u),e.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(i!=="input"&&Ht(e,i,"name",f.name,f,null),Ht(e,i,"formEncType",f.formEncType,f,null),Ht(e,i,"formMethod",f.formMethod,f,null),Ht(e,i,"formTarget",f.formTarget,f,null)):(Ht(e,i,"encType",f.encType,f,null),Ht(e,i,"method",f.method,f,null),Ht(e,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(l);break}u=mo(""+u),e.setAttribute(l,u);break;case"onClick":u!=null&&(e.onclick=su);break;case"onScroll":u!=null&&bt("scroll",e);break;case"onScrollEnd":u!=null&&bt("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}l=mo(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(l,""+u):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":u===!0?e.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(l,u):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(l,u):e.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(l):e.setAttribute(l,u);break;case"popover":bt("beforetoggle",e),bt("toggle",e),co(e,"popover",u);break;case"xlinkActuate":oi(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":oi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":oi(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":oi(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":oi(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":oi(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":oi(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":oi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":oi(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":co(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=l2.get(l)||l,co(e,l,u))}}function of(e,i,l,u,f,m){switch(l){case"style":Rg(e,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof u=="string"?dr(e,u):(typeof u=="number"||typeof u=="bigint")&&dr(e,""+u);break;case"onScroll":u!=null&&bt("scroll",e);break;case"onScrollEnd":u!=null&&bt("scrollend",e);break;case"onClick":u!=null&&(e.onclick=su);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mg.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),i=l.slice(2,f?l.length-7:void 0),m=e[Be]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(i,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(i,u,f);break t}l in e?e[l]=u:u===!0?e.setAttribute(l,""):co(e,l,u)}}}function Ce(e,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",e),bt("load",e);var u=!1,f=!1,m;for(m in l)if(l.hasOwnProperty(m)){var v=l[m];if(v!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ht(e,i,m,v,l,null)}}f&&Ht(e,i,"srcSet",l.srcSet,l,null),u&&Ht(e,i,"src",l.src,l,null);return;case"input":bt("invalid",e);var S=m=v=f=null,A=null,I=null;for(u in l)if(l.hasOwnProperty(u)){var j=l[u];if(j!=null)switch(u){case"name":f=j;break;case"type":v=j;break;case"checked":A=j;break;case"defaultChecked":I=j;break;case"value":m=j;break;case"defaultValue":S=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Ht(e,i,u,j,l,null)}}Eg(e,m,S,A,I,v,f,!1),fo(e);return;case"select":bt("invalid",e),u=v=m=null;for(f in l)if(l.hasOwnProperty(f)&&(S=l[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":v=S;break;case"multiple":u=S;default:Ht(e,i,f,S,l,null)}i=m,l=v,e.multiple=!!u,i!=null?fr(e,!!u,i,!1):l!=null&&fr(e,!!u,l,!0);return;case"textarea":bt("invalid",e),m=f=u=null;for(v in l)if(l.hasOwnProperty(v)&&(S=l[v],S!=null))switch(v){case"value":u=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Ht(e,i,v,S,l,null)}Sg(e,u,f,m),fo(e);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(u=l[A],u!=null))switch(A){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ht(e,i,A,u,l,null)}return;case"dialog":bt("cancel",e),bt("close",e);break;case"iframe":case"object":bt("load",e);break;case"video":case"audio":for(u=0;u<ol.length;u++)bt(ol[u],e);break;case"image":bt("error",e),bt("load",e);break;case"details":bt("toggle",e);break;case"embed":case"source":case"link":bt("error",e),bt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in l)if(l.hasOwnProperty(I)&&(u=l[I],u!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ht(e,i,I,u,l,null)}return;default:if(Cc(i)){for(j in l)l.hasOwnProperty(j)&&(u=l[j],u!==void 0&&of(e,i,j,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&Ht(e,i,S,u,l,null))}function Iv(e,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,v=null,S=null,A=null,I=null,j=null;for(H in l){var W=l[H];if(l.hasOwnProperty(H)&&W!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":A=W;default:u.hasOwnProperty(H)||Ht(e,i,H,null,u,W)}}for(var G in u){var H=u[G];if(W=l[G],u.hasOwnProperty(G)&&(H!=null||W!=null))switch(G){case"type":m=H;break;case"name":f=H;break;case"checked":I=H;break;case"defaultChecked":j=H;break;case"value":v=H;break;case"defaultValue":S=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==W&&Ht(e,i,G,H,u,W)}}xc(e,v,S,A,I,j,m,f);return;case"select":H=v=S=G=null;for(m in l)if(A=l[m],l.hasOwnProperty(m)&&A!=null)switch(m){case"value":break;case"multiple":H=A;default:u.hasOwnProperty(m)||Ht(e,i,m,null,u,A)}for(f in u)if(m=u[f],A=l[f],u.hasOwnProperty(f)&&(m!=null||A!=null))switch(f){case"value":G=m;break;case"defaultValue":S=m;break;case"multiple":v=m;default:m!==A&&Ht(e,i,f,m,u,A)}i=S,l=v,u=H,G!=null?fr(e,!!l,G,!1):!!u!=!!l&&(i!=null?fr(e,!!l,i,!0):fr(e,!!l,l?[]:"",!1));return;case"textarea":H=G=null;for(S in l)if(f=l[S],l.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ht(e,i,S,null,u,f)}for(v in u)if(f=u[v],m=l[v],u.hasOwnProperty(v)&&(f!=null||m!=null))switch(v){case"value":G=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Ht(e,i,v,f,u,m)}xg(e,G,H);return;case"option":for(var lt in l)if(G=l[lt],l.hasOwnProperty(lt)&&G!=null&&!u.hasOwnProperty(lt))switch(lt){case"selected":e.selected=!1;break;default:Ht(e,i,lt,null,u,G)}for(A in u)if(G=u[A],H=l[A],u.hasOwnProperty(A)&&G!==H&&(G!=null||H!=null))switch(A){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ht(e,i,A,G,u,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in l)G=l[pt],l.hasOwnProperty(pt)&&G!=null&&!u.hasOwnProperty(pt)&&Ht(e,i,pt,null,u,G);for(I in u)if(G=u[I],H=l[I],u.hasOwnProperty(I)&&G!==H&&(G!=null||H!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Ht(e,i,I,G,u,H)}return;default:if(Cc(i)){for(var ee in l)G=l[ee],l.hasOwnProperty(ee)&&G!==void 0&&!u.hasOwnProperty(ee)&&of(e,i,ee,void 0,u,G);for(j in u)G=u[j],H=l[j],!u.hasOwnProperty(j)||G===H||G===void 0&&H===void 0||of(e,i,j,G,u,H);return}}for(var z in l)G=l[z],l.hasOwnProperty(z)&&G!=null&&!u.hasOwnProperty(z)&&Ht(e,i,z,null,u,G);for(W in u)G=u[W],H=l[W],!u.hasOwnProperty(W)||G===H||G==null&&H==null||Ht(e,i,W,G,u,H)}var uf=null,cf=null;function ru(e){return e.nodeType===9?e:e.ownerDocument}function m_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function __(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function hf(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ff=null;function zv(){var e=window.event;return e&&e.type==="popstate"?e===ff?!1:(ff=e,!0):(ff=null,!1)}var y_=typeof setTimeout=="function"?setTimeout:void 0,Nv=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,kv=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(e){return p_.resolve(null).then(e).catch(Gv)}:y_;function Gv(e){setTimeout(function(){throw e})}function df(e,i){var l=i,u=0;do{var f=l.nextSibling;if(e.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(u===0){e.removeChild(f),yl(i);return}u--}else l!=="$"&&l!=="$?"&&l!=="$!"||u++;l=f}while(l);yl(i)}function gf(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":gf(l),Ec(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Uv(e,i,l,u){for(;e.nodeType===1;){var f=l;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[Ta])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function Fv(e,i,l){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=zn(e.nextSibling),e===null))return null;return e}function zn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function v_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return e;i--}else l==="/$"&&i++}e=e.previousSibling}return null}function E_(e,i,l){switch(i=ru(l),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var En=new Map,x_=new Set;function au(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Ci=J.d;J.d={f:Yv,r:Xv,D:Bv,C:Hv,L:Pv,m:jv,X:Vv,S:Zv,M:qv};function Yv(){var e=Ci.f(),i=$o();return e||i}function Xv(e){var i=ur(e);i!==null&&i.tag===5&&i.type==="form"?q0(i):Ci.r(e)}var Yr=typeof document>"u"?null:document;function S_(e,i,l){var u=Yr;if(u&&typeof i=="string"&&i){var f=cn(i);f='link[rel="'+e+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),x_.has(f)||(x_.add(f),e={rel:e,crossOrigin:l,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),Ce(i,"link",e),de(i),u.head.appendChild(i)))}}function Bv(e){Ci.D(e),S_("dns-prefetch",e,null)}function Hv(e,i){Ci.C(e,i),S_("preconnect",e,i)}function Pv(e,i,l){Ci.L(e,i,l);var u=Yr;if(u&&e&&i){var f='link[rel="preload"][as="'+cn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+cn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+cn(l.imageSizes)+'"]')):f+='[href="'+cn(e)+'"]';var m=f;switch(i){case"style":m=Xr(e);break;case"script":m=Br(e)}En.has(m)||(e=q({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:e,as:i},l),En.set(m,e),u.querySelector(f)!==null||i==="style"&&u.querySelector(cl(m))||i==="script"&&u.querySelector(hl(m))||(i=u.createElement("link"),Ce(i,"link",e),de(i),u.head.appendChild(i)))}}function jv(e,i){Ci.m(e,i);var l=Yr;if(l&&e){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+cn(u)+'"][href="'+cn(e)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Br(e)}if(!En.has(m)&&(e=q({rel:"modulepreload",href:e},i),En.set(m,e),l.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(hl(m)))return}u=l.createElement("link"),Ce(u,"link",e),de(u),l.head.appendChild(u)}}}function Zv(e,i,l){Ci.S(e,i,l);var u=Yr;if(u&&e){var f=cr(u).hoistableStyles,m=Xr(e);i=i||"default";var v=f.get(m);if(!v){var S={loading:0,preload:null};if(v=u.querySelector(cl(m)))S.loading=5;else{e=q({rel:"stylesheet",href:e,"data-precedence":i},l),(l=En.get(m))&&mf(e,l);var A=v=u.createElement("link");de(A),Ce(A,"link",e),A._p=new Promise(function(I,j){A.onload=I,A.onerror=j}),A.addEventListener("load",function(){S.loading|=1}),A.addEventListener("error",function(){S.loading|=2}),S.loading|=4,lu(v,i,u)}v={type:"stylesheet",instance:v,count:1,state:S},f.set(m,v)}}}function Vv(e,i){Ci.X(e,i);var l=Yr;if(l&&e){var u=cr(l).hoistableScripts,f=Br(e),m=u.get(f);m||(m=l.querySelector(hl(f)),m||(e=q({src:e,async:!0},i),(i=En.get(f))&&_f(e,i),m=l.createElement("script"),de(m),Ce(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function qv(e,i){Ci.M(e,i);var l=Yr;if(l&&e){var u=cr(l).hoistableScripts,f=Br(e),m=u.get(f);m||(m=l.querySelector(hl(f)),m||(e=q({src:e,async:!0,type:"module"},i),(i=En.get(f))&&_f(e,i),m=l.createElement("script"),de(m),Ce(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function C_(e,i,l,u){var f=(f=$e.current)?au(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Xr(l.href),l=cr(f).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Xr(l.href);var m=cr(f).hoistableStyles,v=m.get(e);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,v),(m=f.querySelector(cl(e)))&&!m._p&&(v.instance=m,v.state.loading=5),En.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},En.set(e,l),m||Kv(f,e,l,v.state))),i&&u===null)throw Error(s(528,""));return v}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Br(l),l=cr(f).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Xr(e){return'href="'+cn(e)+'"'}function cl(e){return'link[rel="stylesheet"]['+e+"]"}function R_(e){return q({},e,{"data-precedence":e.precedence,precedence:null})}function Kv(e,i,l,u){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=e.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Ce(i,"link",l),de(i),e.head.appendChild(i))}function Br(e){return'[src="'+cn(e)+'"]'}function hl(e){return"script[async]"+e}function T_(e,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=e.querySelector('style[data-href~="'+cn(l.href)+'"]');if(u)return i.instance=u,de(u),u;var f=q({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),de(u),Ce(u,"style",f),lu(u,l.precedence,e),i.instance=u;case"stylesheet":f=Xr(l.href);var m=e.querySelector(cl(f));if(m)return i.state.loading|=4,i.instance=m,de(m),m;u=R_(l),(f=En.get(f))&&mf(u,f),m=(e.ownerDocument||e).createElement("link"),de(m);var v=m;return v._p=new Promise(function(S,A){v.onload=S,v.onerror=A}),Ce(m,"link",u),i.state.loading|=4,lu(m,l.precedence,e),i.instance=m;case"script":return m=Br(l.src),(f=e.querySelector(hl(m)))?(i.instance=f,de(f),f):(u=l,(f=En.get(m))&&(u=q({},l),_f(u,f)),e=e.ownerDocument||e,f=e.createElement("script"),de(f),Ce(f,"link",u),e.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,lu(u,l.precedence,e));return i.instance}function lu(e,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,v=0;v<u.length;v++){var S=u[v];if(S.dataset.precedence===i)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(e,i.firstChild))}function mf(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function _f(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var ou=null;function w_(e,i,l){if(ou===null){var u=new Map,f=ou=new Map;f.set(l,u)}else f=ou,u=f.get(l),u||(u=new Map,f.set(l,u));if(u.has(e))return u;for(u.set(e,null),l=l.getElementsByTagName(e),f=0;f<l.length;f++){var m=l[f];if(!(m[Ta]||m[Ae]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(i)||"";v=e+v;var S=u.get(v);S?S.push(m):u.set(v,[m])}}return u}function b_(e,i,l){e=e.ownerDocument||e,e.head.insertBefore(l,i==="title"?e.querySelector("head > title"):null)}function Wv(e,i,l){if(l===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function A_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var fl=null;function Qv(){}function $v(e,i,l){if(fl===null)throw Error(s(475));var u=fl;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Xr(l.href),m=e.querySelector(cl(f));if(m){e=m._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(u.count++,u=uu.bind(u),e.then(u,u)),i.state.loading|=4,i.instance=m,de(m);return}m=e.ownerDocument||e,l=R_(l),(f=En.get(f))&&mf(l,f),m=m.createElement("link"),de(m);var v=m;v._p=new Promise(function(S,A){v.onload=S,v.onerror=A}),Ce(m,"link",l),i.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=uu.bind(u),e.addEventListener("load",i),e.addEventListener("error",i))}}function Jv(){if(fl===null)throw Error(s(475));var e=fl;return e.stylesheets&&e.count===0&&yf(e,e.stylesheets),0<e.count?function(i){var l=setTimeout(function(){if(e.stylesheets&&yf(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(l)}}:null}function uu(){if(this.count--,this.count===0){if(this.stylesheets)yf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cu=null;function yf(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cu=new Map,i.forEach(tE,e),cu=null,uu.call(e))}function tE(e,i){if(!(i.state.loading&4)){var l=cu.get(e);if(l)var u=l.get(null);else{l=new Map,cu.set(e,l);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var v=f[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(l.set(v.dataset.precedence,v),u=v)}u&&l.set(null,u)}f=i.instance,v=f.getAttribute("data-precedence"),m=l.get(v)||u,m===u&&l.set(null,f),l.set(v,f),this.count++,u=uu.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),i.state.loading|=4}}var dl={$$typeof:E,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function eE(e,i,l,u,f,m,v,S){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=be(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=be(0),this.hiddenUpdates=be(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function M_(e,i,l,u,f,m,v,S,A,I,j,W){return e=new eE(e,i,l,v,S,A,I,W),i=1,m===!0&&(i|=24),m=pn(3,null,null,i),e.current=m,m.stateNode=e,i=qc(),i.refCount++,e.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:l,cache:i},Ah(m),e}function O_(e){return e?(e=Er,e):Er}function D_(e,i,l,u,f,m){f=O_(f),u.context===null?u.context=f:u.pendingContext=f,u=Vi(i),u.payload={element:l},m=m===void 0?null:m,m!==null&&(u.callback=m),l=qi(e,u,i),l!==null&&(Ue(l,e,i),Wa(l,e,i))}function L_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<i?l:i}}function pf(e,i){L_(e,i),(e=e.alternate)&&L_(e,i)}function I_(e){if(e.tag===13){var i=Yi(e,67108864);i!==null&&Ue(i,e,67108864),pf(e,67108864)}}var hu=!0;function nE(e,i,l,u){var f=k.T;k.T=null;var m=J.p;try{J.p=2,vf(e,i,l,u)}finally{J.p=m,k.T=f}}function iE(e,i,l,u){var f=k.T;k.T=null;var m=J.p;try{J.p=8,vf(e,i,l,u)}finally{J.p=m,k.T=f}}function vf(e,i,l,u){if(hu){var f=Ef(u);if(f===null)lf(e,i,u,fu,l),N_(e,u);else if(rE(f,e,i,l,u))u.stopPropagation();else if(N_(e,u),i&4&&-1<sE.indexOf(e)){for(;f!==null;){var m=ur(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=Zn(m.pendingLanes);if(v!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var A=1<<31-we(v);S.entanglements[1]|=A,v&=~A}Qn(m),(Qt&6)===0&&(Ko=Pt()+500,ll(0))}}break;case 13:S=Yi(m,2),S!==null&&Ue(S,m,2),$o(),pf(m,2)}if(m=Ef(u),m===null&&lf(e,i,u,fu,l),m===f)break;f=m}f!==null&&u.stopPropagation()}else lf(e,i,u,null,l)}}function Ef(e){return e=Tc(e),xf(e)}var fu=null;function xf(e){if(fu=null,e=bs(e),e!==null){var i=Q(e);if(i===null)e=null;else{var l=i.tag;if(l===13){if(e=nt(i),e!==null)return e;e=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return fu=e,null}function z_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xa()){case Ss:return 2;case Cs:return 8;case lr:case lo:return 32;case Sa:return 268435456;default:return 32}default:return 32}}var Sf=!1,es=null,ns=null,is=null,gl=new Map,ml=new Map,ss=[],sE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N_(e,i){switch(e){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":gl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(i.pointerId)}}function _l(e,i,l,u,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},i!==null&&(i=ur(i),i!==null&&I_(i)),e):(e.eventSystemFlags|=u,i=e.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),e)}function rE(e,i,l,u,f){switch(i){case"focusin":return es=_l(es,e,i,l,u,f),!0;case"dragenter":return ns=_l(ns,e,i,l,u,f),!0;case"mouseover":return is=_l(is,e,i,l,u,f),!0;case"pointerover":var m=f.pointerId;return gl.set(m,_l(gl.get(m)||null,e,i,l,u,f)),!0;case"gotpointercapture":return m=f.pointerId,ml.set(m,_l(ml.get(m)||null,e,i,l,u,f)),!0}return!1}function k_(e){var i=bs(e.target);if(i!==null){var l=Q(i);if(l!==null){if(i=l.tag,i===13){if(i=nt(l),i!==null){e.blockedOn=i,J1(e.priority,function(){if(l.tag===13){var u=an(),f=Yi(l,u);f!==null&&Ue(f,l,u),pf(l,u)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function du(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var l=Ef(e.nativeEvent);if(l===null){l=e.nativeEvent;var u=new l.constructor(l.type,l);Rc=u,l.target.dispatchEvent(u),Rc=null}else return i=ur(l),i!==null&&I_(i),e.blockedOn=l,!1;i.shift()}return!0}function G_(e,i,l){du(e)&&l.delete(i)}function aE(){Sf=!1,es!==null&&du(es)&&(es=null),ns!==null&&du(ns)&&(ns=null),is!==null&&du(is)&&(is=null),gl.forEach(G_),ml.forEach(G_)}function gu(e,i){e.blockedOn===i&&(e.blockedOn=null,Sf||(Sf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,aE)))}var mu=null;function U_(e){mu!==e&&(mu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){mu===e&&(mu=null);for(var i=0;i<e.length;i+=3){var l=e[i],u=e[i+1],f=e[i+2];if(typeof u!="function"){if(xf(u||l)===null)continue;break}var m=ur(l);m!==null&&(e.splice(i,3),i-=3,ch(m,{pending:!0,data:f,method:l.method,action:u},u,f))}}))}function yl(e){function i(A){return gu(A,e)}es!==null&&gu(es,e),ns!==null&&gu(ns,e),is!==null&&gu(is,e),gl.forEach(i),ml.forEach(i);for(var l=0;l<ss.length;l++){var u=ss[l];u.blockedOn===e&&(u.blockedOn=null)}for(;0<ss.length&&(l=ss[0],l.blockedOn===null);)k_(l),l.blockedOn===null&&ss.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var f=l[u],m=l[u+1],v=f[Be]||null;if(typeof m=="function")v||U_(l);else if(v){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,v=m[Be]||null)S=v.formAction;else if(xf(f)!==null)continue}else S=v.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),U_(l)}}}function Cf(e){this._internalRoot=e}_u.prototype.render=Cf.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var l=i.current,u=an();D_(l,u,e,i,null,null)},_u.prototype.unmount=Cf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&Gr(),D_(e.current,2,null,e,null,null),$o(),i[or]=null}};function _u(e){this._internalRoot=e}_u.prototype.unstable_scheduleHydration=function(e){if(e){var i=uo();e={blockedOn:null,target:e,priority:i};for(var l=0;l<ss.length&&i!==0&&i<ss[l].priority;l++);ss.splice(l,0,e),l===0&&k_(e)}};var F_=t.version;if(F_!=="19.0.0")throw Error(s(527,F_,"19.0.0"));J.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=B(i),e=e!==null?U(e):null,e=e===null?null:e.stateNode,e};var lE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:k,findFiberByHostInstance:bs,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{Rs=yu.inject(lE),Te=yu}catch{}}return vl.createRoot=function(e,i){if(!a(e))throw Error(s(299));var l=!1,u="",f=nm,m=im,v=sm,S=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=M_(e,1,!1,null,null,l,u,f,m,v,S,null),e[or]=i.current,af(e.nodeType===8?e.parentNode:e),new Cf(i)},vl.hydrateRoot=function(e,i,l){if(!a(e))throw Error(s(299));var u=!1,f="",m=nm,v=im,S=sm,A=null,I=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(A=l.unstable_transitionCallbacks),l.formState!==void 0&&(I=l.formState)),i=M_(e,1,!0,i,l??null,u,f,m,v,S,A,I),i.context=O_(null),l=i.current,u=an(),f=Vi(u),f.callback=null,qi(l,f,u),i.current.lanes=u,ke(i,u),Qn(i),e[or]=i.current,af(e),new _u(i)},vl.version="19.0.0",vl}var W_;function vE(){if(W_)return wf.exports;W_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),wf.exports=pE(),wf.exports}var EE=vE(),El={},Q_;function xE(){if(Q_)return El;Q_=1,Object.defineProperty(El,"__esModule",{value:!0}),El.parse=c,El.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function c(p,E){const x=new o,C=p.length;if(C<2)return x;const R=(E==null?void 0:E.decode)||_;let T=0;do{const b=p.indexOf("=",T);if(b===-1)break;const O=p.indexOf(";",T),D=O===-1?C:O;if(b>D){T=p.lastIndexOf(";",b-1)+1;continue}const w=h(p,T,b),X=d(p,b,w),K=p.slice(w,X);if(x[K]===void 0){let P=h(p,b+1,D),k=d(p,D,P);const q=R(p.slice(P,k));x[K]=q}T=D+1}while(T<C);return x}function h(p,E,x){do{const C=p.charCodeAt(E);if(C!==32&&C!==9)return E}while(++E<x);return x}function d(p,E,x){for(;E>x;){const C=p.charCodeAt(--E);if(C!==32&&C!==9)return E+1}return x}function g(p,E,x){const C=(x==null?void 0:x.encode)||encodeURIComponent;if(!r.test(p))throw new TypeError(`argument name is invalid: ${p}`);const R=C(E);if(!t.test(R))throw new TypeError(`argument val is invalid: ${E}`);let T=p+"="+R;if(!x)return T;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);T+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);T+="; Domain="+x.domain}if(x.path){if(!s.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);T+="; Path="+x.path}if(x.expires){if(!y(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);T+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(T+="; HttpOnly"),x.secure&&(T+="; Secure"),x.partitioned&&(T+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return T}function _(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function y(p){return a.call(p)==="[object Date]"}return El}xE();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $_="popstate";function SE(r={}){function t(s,a){let{pathname:o,search:c,hash:h}=s.location;return id("",{pathname:o,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:zl(a)}return RE(t,n,null,r)}function $t(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function ei(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function CE(){return Math.random().toString(36).substring(2,10)}function J_(r,t){return{usr:r.state,key:r.key,idx:t}}function id(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?ya(t):t,state:n,key:t&&t.key||s||CE()}}function zl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ya(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function RE(r,t,n,s={}){let{window:a=document.defaultView,v5Compat:o=!1}=s,c=a.history,h="POP",d=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function y(){h="POP";let R=_(),T=R==null?null:R-g;g=R,d&&d({action:h,location:C.location,delta:T})}function p(R,T){h="PUSH";let b=id(C.location,R,T);g=_()+1;let O=J_(b,g),D=C.createHref(b);try{c.pushState(O,"",D)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(D)}o&&d&&d({action:h,location:C.location,delta:1})}function E(R,T){h="REPLACE";let b=id(C.location,R,T);g=_();let O=J_(b,g),D=C.createHref(b);c.replaceState(O,"",D),o&&d&&d({action:h,location:C.location,delta:0})}function x(R){let T=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof R=="string"?R:zl(R);return b=b.replace(/ $/,"%20"),$t(T,`No window.location.(origin|href) available to create URL for href: ${b}`),new URL(b,T)}let C={get action(){return h},get location(){return r(a,c)},listen(R){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener($_,y),d=R,()=>{a.removeEventListener($_,y),d=null}},createHref(R){return t(a,R)},createURL:x,encodeLocation(R){let T=x(R);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:E,go(R){return c.go(R)}};return C}function gp(r,t,n="/"){return TE(r,t,n,!1)}function TE(r,t,n,s){let a=typeof t=="string"?ya(t):t,o=Ii(a.pathname||"/",n);if(o==null)return null;let c=mp(r);wE(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let g=GE(o);h=NE(c[d],g,s)}return h}function mp(r,t=[],n=[],s=""){let a=(o,c,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};d.relativePath.startsWith("/")&&($t(d.relativePath.startsWith(s),`Absolute route path "${d.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(s.length));let g=Mi([s,d.relativePath]),_=n.concat(d);o.children&&o.children.length>0&&($t(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),mp(o.children,t,_,g)),!(o.path==null&&!o.index)&&t.push({path:g,score:IE(g,o.index),routesMeta:_})};return r.forEach((o,c)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))a(o,c);else for(let d of _p(o.path))a(o,c,d)}),t}function _p(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let c=_p(s.join("/")),h=[];return h.push(...c.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...c),h.map(d=>r.startsWith("/")&&d===""?"/":d)}function wE(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:zE(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var bE=/^:[\w-]+$/,AE=3,ME=2,OE=1,DE=10,LE=-2,ty=r=>r==="*";function IE(r,t){let n=r.split("/"),s=n.length;return n.some(ty)&&(s+=LE),t&&(s+=ME),n.filter(a=>!ty(a)).reduce((a,o)=>a+(bE.test(o)?AE:o===""?OE:DE),s)}function zE(r,t){return r.length===t.length&&r.slice(0,-1).every((s,a)=>s===t[a])?r[r.length-1]-t[t.length-1]:0}function NE(r,t,n=!1){let{routesMeta:s}=r,a={},o="/",c=[];for(let h=0;h<s.length;++h){let d=s[h],g=h===s.length-1,_=o==="/"?t:t.slice(o.length)||"/",y=zu({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},_),p=d.route;if(!y&&g&&n&&!s[s.length-1].route.index&&(y=zu({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},_)),!y)return null;Object.assign(a,y.params),c.push({params:a,pathname:Mi([o,y.pathname]),pathnameBase:XE(Mi([o,y.pathnameBase])),route:p}),y.pathnameBase!=="/"&&(o=Mi([o,y.pathnameBase]))}return c}function zu(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=kE(r.path,r.caseSensitive,r.end),a=t.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:y},p)=>{if(_==="*"){let x=h[p]||"";c=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const E=h[p];return y&&!E?g[_]=void 0:g[_]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:r}}function kE(r,t=!1,n=!0){ei(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function GE(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ei(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Ii(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function UE(r,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof r=="string"?ya(r):r;return{pathname:n?n.startsWith("/")?n:FE(n,t):t,search:BE(s),hash:HE(a)}}function FE(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Of(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YE(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function yp(r){let t=YE(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function pp(r,t,n,s=!1){let a;typeof r=="string"?a=ya(r):(a={...r},$t(!a.pathname||!a.pathname.includes("?"),Of("?","pathname","search",a)),$t(!a.pathname||!a.pathname.includes("#"),Of("#","pathname","hash",a)),$t(!a.search||!a.search.includes("#"),Of("#","search","hash",a)));let o=r===""||a.pathname==="",c=o?"/":a.pathname,h;if(c==null)h=n;else{let y=t.length-1;if(!s&&c.startsWith("..")){let p=c.split("/");for(;p[0]==="..";)p.shift(),y-=1;a.pathname=p.join("/")}h=y>=0?t[y]:"/"}let d=UE(a,h),g=c&&c!=="/"&&c.endsWith("/"),_=(o||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(g||_)&&(d.pathname+="/"),d}var Mi=r=>r.join("/").replace(/\/\/+/g,"/"),XE=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),BE=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,HE=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function PE(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var vp=["POST","PUT","PATCH","DELETE"];new Set(vp);var jE=["GET",...vp];new Set(jE);var pa=Y.createContext(null);pa.displayName="DataRouter";var Ku=Y.createContext(null);Ku.displayName="DataRouterState";var Ep=Y.createContext({isTransitioning:!1});Ep.displayName="ViewTransition";var ZE=Y.createContext(new Map);ZE.displayName="Fetchers";var VE=Y.createContext(null);VE.displayName="Await";var ni=Y.createContext(null);ni.displayName="Navigation";var Vl=Y.createContext(null);Vl.displayName="Location";var Ni=Y.createContext({outlet:null,matches:[],isDataRoute:!1});Ni.displayName="Route";var Sd=Y.createContext(null);Sd.displayName="RouteError";function qE(r,{relative:t}={}){$t(ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Y.useContext(ni),{hash:a,pathname:o,search:c}=Wl(r,{relative:t}),h=o;return n!=="/"&&(h=o==="/"?n:Mi([n,o])),s.createHref({pathname:h,search:c,hash:a})}function ql(){return Y.useContext(Vl)!=null}function sr(){return $t(ql(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(Vl).location}var xp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sp(r){Y.useContext(ni).static||Y.useLayoutEffect(r)}function Kl(){let{isDataRoute:r}=Y.useContext(Ni);return r?lx():KE()}function KE(){$t(ql(),"useNavigate() may be used only in the context of a <Router> component.");let r=Y.useContext(pa),{basename:t,navigator:n}=Y.useContext(ni),{matches:s}=Y.useContext(Ni),{pathname:a}=sr(),o=JSON.stringify(yp(s)),c=Y.useRef(!1);return Sp(()=>{c.current=!0}),Y.useCallback((d,g={})=>{if(ei(c.current,xp),!c.current)return;if(typeof d=="number"){n.go(d);return}let _=pp(d,JSON.parse(o),a,g.relative==="path");r==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:Mi([t,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[t,n,o,a,r])}Y.createContext(null);function Wl(r,{relative:t}={}){let{matches:n}=Y.useContext(Ni),{pathname:s}=sr(),a=JSON.stringify(yp(n));return Y.useMemo(()=>pp(r,JSON.parse(a),s,t==="path"),[r,a,s,t])}function WE(r,t){return Cp(r,t)}function Cp(r,t,n,s){var b;$t(ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=Y.useContext(ni),{matches:c}=Y.useContext(Ni),h=c[c.length-1],d=h?h.params:{},g=h?h.pathname:"/",_=h?h.pathnameBase:"/",y=h&&h.route;{let O=y&&y.path||"";Rp(g,!y||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let p=sr(),E;if(t){let O=typeof t=="string"?ya(t):t;$t(_==="/"||((b=O.pathname)==null?void 0:b.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${O.pathname}" was given in the \`location\` prop.`),E=O}else E=p;let x=E.pathname||"/",C=x;if(_!=="/"){let O=_.replace(/^\//,"").split("/");C="/"+x.replace(/^\//,"").split("/").slice(O.length).join("/")}let R=!o&&n&&n.matches&&n.matches.length>0?n.matches:gp(r,{pathname:C});ei(y||R!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),ei(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=ex(R&&R.map(O=>Object.assign({},O,{params:Object.assign({},d,O.params),pathname:Mi([_,a.encodeLocation?a.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?_:Mi([_,a.encodeLocation?a.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),c,n,s);return t&&T?Y.createElement(Vl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},T):T}function QE(){let r=ax(),t=PE(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:o},"ErrorBoundary")," or"," ",Y.createElement("code",{style:o},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),n?Y.createElement("pre",{style:a},n):null,c)}var $E=Y.createElement(QE,null),JE=class extends Y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?Y.createElement(Ni.Provider,{value:this.props.routeContext},Y.createElement(Sd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tx({routeContext:r,match:t,children:n}){let s=Y.useContext(pa);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),Y.createElement(Ni.Provider,{value:r},n)}function ex(r,t=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let a=r,o=n==null?void 0:n.errors;if(o!=null){let d=a.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);$t(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,h=-1;if(n)for(let d=0;d<a.length;d++){let g=a[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=d),g.route.id){let{loaderData:_,errors:y}=n,p=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||p){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,g,_)=>{let y,p=!1,E=null,x=null;n&&(y=o&&g.route.id?o[g.route.id]:void 0,E=g.route.errorElement||$E,c&&(h<0&&_===0?(Rp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,x=null):h===_&&(p=!0,x=g.route.hydrateFallbackElement||null)));let C=t.concat(a.slice(0,_+1)),R=()=>{let T;return y?T=E:p?T=x:g.route.Component?T=Y.createElement(g.route.Component,null):g.route.element?T=g.route.element:T=d,Y.createElement(tx,{match:g,routeContext:{outlet:d,matches:C,isDataRoute:n!=null},children:T})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?Y.createElement(JE,{location:n.location,revalidation:n.revalidation,component:E,error:y,children:R(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):R()},null)}function Cd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nx(r){let t=Y.useContext(pa);return $t(t,Cd(r)),t}function ix(r){let t=Y.useContext(Ku);return $t(t,Cd(r)),t}function sx(r){let t=Y.useContext(Ni);return $t(t,Cd(r)),t}function Rd(r){let t=sx(r),n=t.matches[t.matches.length-1];return $t(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function rx(){return Rd("useRouteId")}function ax(){var s;let r=Y.useContext(Sd),t=ix("useRouteError"),n=Rd("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function lx(){let{router:r}=nx("useNavigate"),t=Rd("useNavigate"),n=Y.useRef(!1);return Sp(()=>{n.current=!0}),Y.useCallback(async(a,o={})=>{ei(n.current,xp),n.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:t,...o}))},[r,t])}var ey={};function Rp(r,t,n){!t&&!ey[r]&&(ey[r]=!0,ei(!1,n))}Y.memo(ox);function ox({routes:r,future:t,state:n}){return Cp(r,void 0,n,t)}function Wr(r){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ux({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:o=!1}){$t(!ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),h=Y.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof n=="string"&&(n=ya(n));let{pathname:d="/",search:g="",hash:_="",state:y=null,key:p="default"}=n,E=Y.useMemo(()=>{let x=Ii(d,c);return x==null?null:{location:{pathname:x,search:g,hash:_,state:y,key:p},navigationType:s}},[c,d,g,_,y,p,s]);return ei(E!=null,`<Router basename="${c}"> is not able to match the URL "${d}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:Y.createElement(ni.Provider,{value:h},Y.createElement(Vl.Provider,{children:t,value:E}))}function cx({children:r,location:t}){return WE(sd(r),t)}function sd(r,t=[]){let n=[];return Y.Children.forEach(r,(s,a)=>{if(!Y.isValidElement(s))return;let o=[...t,a];if(s.type===Y.Fragment){n.push.apply(n,sd(s.props.children,o));return}$t(s.type===Wr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=sd(s.props.children,o)),n.push(c)}),n}var Du="get",Lu="application/x-www-form-urlencoded";function Wu(r){return r!=null&&typeof r.tagName=="string"}function hx(r){return Wu(r)&&r.tagName.toLowerCase()==="button"}function fx(r){return Wu(r)&&r.tagName.toLowerCase()==="form"}function dx(r){return Wu(r)&&r.tagName.toLowerCase()==="input"}function gx(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function mx(r,t){return r.button===0&&(!t||t==="_self")&&!gx(r)}var pu=null;function _x(){if(pu===null)try{new FormData(document.createElement("form"),0),pu=!1}catch{pu=!0}return pu}var yx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Df(r){return r!=null&&!yx.has(r)?(ei(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lu}"`),null):r}function px(r,t){let n,s,a,o,c;if(fx(r)){let h=r.getAttribute("action");s=h?Ii(h,t):null,n=r.getAttribute("method")||Du,a=Df(r.getAttribute("enctype"))||Lu,o=new FormData(r)}else if(hx(r)||dx(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=r.getAttribute("formaction")||h.getAttribute("action");if(s=d?Ii(d,t):null,n=r.getAttribute("formmethod")||h.getAttribute("method")||Du,a=Df(r.getAttribute("formenctype"))||Df(h.getAttribute("enctype"))||Lu,o=new FormData(h,r),!_x()){let{name:g,type:_,value:y}=r;if(_==="image"){let p=g?`${g}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else g&&o.append(g,y)}}else{if(Wu(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Du,s=null,a=Lu,c=r}return o&&a==="text/plain"&&(c=o,o=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:o,body:c}}function Td(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function vx(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ex(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function xx(r,t,n){let s=await Promise.all(r.map(async a=>{let o=t.routes[a.route.id];if(o){let c=await vx(o,n);return c.links?c.links():[]}return[]}));return Tx(s.flat(1).filter(Ex).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ny(r,t,n,s,a,o){let c=(d,g)=>n[g]?d.route.id!==n[g].route.id:!0,h=(d,g)=>{var _;return n[g].pathname!==d.pathname||((_=n[g].route.path)==null?void 0:_.endsWith("*"))&&n[g].params["*"]!==d.params["*"]};return o==="assets"?t.filter((d,g)=>c(d,g)||h(d,g)):o==="data"?t.filter((d,g)=>{var y;let _=s.routes[d.route.id];if(!_||!_.hasLoader)return!1;if(c(d,g)||h(d,g))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(r,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Sx(r,t,{includeHydrateFallback:n}={}){return Cx(r.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function Cx(r){return[...new Set(r)]}function Rx(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function Tx(r,t){let n=new Set;return new Set(t),r.reduce((s,a)=>{let o=JSON.stringify(Rx(a));return n.has(o)||(n.add(o),s.push({key:o,link:a})),s},[])}function wx(r,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":t&&Ii(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Tp(){let r=Y.useContext(pa);return Td(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function bx(){let r=Y.useContext(Ku);return Td(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var wd=Y.createContext(void 0);wd.displayName="FrameworkContext";function wp(){let r=Y.useContext(wd);return Td(r,"You must render this element inside a <HydratedRouter> element"),r}function Ax(r,t){let n=Y.useContext(wd),[s,a]=Y.useState(!1),[o,c]=Y.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:g,onMouseLeave:_,onTouchStart:y}=t,p=Y.useRef(null);Y.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let C=T=>{T.forEach(b=>{c(b.isIntersecting)})},R=new IntersectionObserver(C,{threshold:.5});return p.current&&R.observe(p.current),()=>{R.disconnect()}}},[r]),Y.useEffect(()=>{if(s){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[s]);let E=()=>{a(!0)},x=()=>{a(!1),c(!1)};return n?r!=="intent"?[o,p,{}]:[o,p,{onFocus:xl(h,E),onBlur:xl(d,x),onMouseEnter:xl(g,E),onMouseLeave:xl(_,x),onTouchStart:xl(y,E)}]:[!1,p,{}]}function xl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function Mx({page:r,...t}){let{router:n}=Tp(),s=Y.useMemo(()=>gp(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?Y.createElement(Dx,{page:r,matches:s,...t}):null}function Ox(r){let{manifest:t,routeModules:n}=wp(),[s,a]=Y.useState([]);return Y.useEffect(()=>{let o=!1;return xx(r,t,n).then(c=>{o||a(c)}),()=>{o=!0}},[r,t,n]),s}function Dx({page:r,matches:t,...n}){let s=sr(),{manifest:a,routeModules:o}=wp(),{basename:c}=Tp(),{loaderData:h,matches:d}=bx(),g=Y.useMemo(()=>ny(r,t,d,a,s,"data"),[r,t,d,a,s]),_=Y.useMemo(()=>ny(r,t,d,a,s,"assets"),[r,t,d,a,s]),y=Y.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let x=new Set,C=!1;if(t.forEach(T=>{var O;let b=a.routes[T.route.id];!b||!b.hasLoader||(!g.some(D=>D.route.id===T.route.id)&&T.route.id in h&&((O=o[T.route.id])!=null&&O.shouldRevalidate)||b.hasClientLoader?C=!0:x.add(T.route.id))}),x.size===0)return[];let R=wx(r,c);return C&&x.size>0&&R.searchParams.set("_routes",t.filter(T=>x.has(T.route.id)).map(T=>T.route.id).join(",")),[R.pathname+R.search]},[c,h,s,a,g,t,r,o]),p=Y.useMemo(()=>Sx(_,a),[_,a]),E=Ox(_);return Y.createElement(Y.Fragment,null,y.map(x=>Y.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),p.map(x=>Y.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),E.map(({key:x,link:C})=>Y.createElement("link",{key:x,...C})))}function Lx(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var bp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bp&&(window.__reactRouterVersion="7.3.0")}catch{}function Ix({basename:r,children:t,window:n}){let s=Y.useRef();s.current==null&&(s.current=SE({window:n,v5Compat:!0}));let a=s.current,[o,c]=Y.useState({action:a.action,location:a.location}),h=Y.useCallback(d=>{Y.startTransition(()=>c(d))},[c]);return Y.useLayoutEffect(()=>a.listen(h),[a,h]),Y.createElement(ux,{basename:r,children:t,location:o.location,navigationType:o.action,navigator:a})}var Ap=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mp=Y.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:o,replace:c,state:h,target:d,to:g,preventScrollReset:_,viewTransition:y,...p},E){let{basename:x}=Y.useContext(ni),C=typeof g=="string"&&Ap.test(g),R,T=!1;if(typeof g=="string"&&C&&(R=g,bp))try{let k=new URL(window.location.href),q=g.startsWith("//")?new URL(k.protocol+g):new URL(g),it=Ii(q.pathname,x);q.origin===k.origin&&it!=null?g=it+q.search+q.hash:T=!0}catch{ei(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=qE(g,{relative:a}),[O,D,w]=Ax(s,p),X=Gx(g,{replace:c,state:h,target:d,preventScrollReset:_,relative:a,viewTransition:y});function K(k){t&&t(k),k.defaultPrevented||X(k)}let P=Y.createElement("a",{...p,...w,href:R||b,onClick:T||o?t:K,ref:Lx(E,D),target:d,"data-discover":!C&&n==="render"?"true":void 0});return O&&!C?Y.createElement(Y.Fragment,null,P,Y.createElement(Mx,{page:b})):P});Mp.displayName="Link";var zx=Y.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:o,to:c,viewTransition:h,children:d,...g},_){let y=Wl(c,{relative:g.relative}),p=sr(),E=Y.useContext(Ku),{navigator:x,basename:C}=Y.useContext(ni),R=E!=null&&Bx(y)&&h===!0,T=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,b=p.pathname,O=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(b=b.toLowerCase(),O=O?O.toLowerCase():null,T=T.toLowerCase()),O&&C&&(O=Ii(O,C)||O);const D=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let w=b===T||!a&&b.startsWith(T)&&b.charAt(D)==="/",X=O!=null&&(O===T||!a&&O.startsWith(T)&&O.charAt(T.length)==="/"),K={isActive:w,isPending:X,isTransitioning:R},P=w?t:void 0,k;typeof s=="function"?k=s(K):k=[s,w?"active":null,X?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let q=typeof o=="function"?o(K):o;return Y.createElement(Mp,{...g,"aria-current":P,className:k,ref:_,style:q,to:c,viewTransition:h},typeof d=="function"?d(K):d)});zx.displayName="NavLink";var Nx=Y.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:o,method:c=Du,action:h,onSubmit:d,relative:g,preventScrollReset:_,viewTransition:y,...p},E)=>{let x=Yx(),C=Xx(h,{relative:g}),R=c.toLowerCase()==="get"?"get":"post",T=typeof h=="string"&&Ap.test(h),b=O=>{if(d&&d(O),O.defaultPrevented)return;O.preventDefault();let D=O.nativeEvent.submitter,w=(D==null?void 0:D.getAttribute("formmethod"))||c;x(D||O.currentTarget,{fetcherKey:t,method:w,navigate:n,replace:a,state:o,relative:g,preventScrollReset:_,viewTransition:y})};return Y.createElement("form",{ref:E,method:R,action:C,onSubmit:s?d:b,...p,"data-discover":!T&&r==="render"?"true":void 0})});Nx.displayName="Form";function kx(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Op(r){let t=Y.useContext(pa);return $t(t,kx(r)),t}function Gx(r,{target:t,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:c}={}){let h=Kl(),d=sr(),g=Wl(r,{relative:o});return Y.useCallback(_=>{if(mx(_,t)){_.preventDefault();let y=n!==void 0?n:zl(d)===zl(g);h(r,{replace:y,state:s,preventScrollReset:a,relative:o,viewTransition:c})}},[d,h,g,n,s,t,r,a,o,c])}var Ux=0,Fx=()=>`__${String(++Ux)}__`;function Yx(){let{router:r}=Op("useSubmit"),{basename:t}=Y.useContext(ni),n=rx();return Y.useCallback(async(s,a={})=>{let{action:o,method:c,encType:h,formData:d,body:g}=px(s,t);if(a.navigate===!1){let _=a.fetcherKey||Fx();await r.fetch(_,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:g,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await r.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:g,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,t,n])}function Xx(r,{relative:t}={}){let{basename:n}=Y.useContext(ni),s=Y.useContext(Ni);$t(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o={...Wl(r||".",{relative:t})},c=sr();if(r==null){o.search=c.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(_=>_==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let _=h.toString();o.search=_?`?${_}`:""}}return(!r||r===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Mi([n,o.pathname])),zl(o)}function Bx(r,t={}){let n=Y.useContext(Ep);$t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Op("useViewTransitionState"),a=Wl(r,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Ii(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Ii(n.nextLocation.pathname,s)||n.nextLocation.pathname;return zu(a.pathname,c)!=null||zu(a.pathname,o)!=null}new TextEncoder;var vu={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var iy;function Hx(){if(iy)return vu;iy=1,vu.parse=c,vu.serialize=g;var r=Object.prototype.toString,t=Object.prototype.hasOwnProperty,n=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,s=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/;function c(E,x){if(typeof E!="string")throw new TypeError("argument str must be a string");var C={},R=E.length;if(R<2)return C;var T=x&&x.decode||_,b=0,O=0,D=0;do{if(O=E.indexOf("=",b),O===-1)break;if(D=E.indexOf(";",b),D===-1)D=R;else if(O>D){b=E.lastIndexOf(";",O-1)+1;continue}var w=h(E,b,O),X=d(E,O,w),K=E.slice(w,X);if(!t.call(C,K)){var P=h(E,O+1,D),k=d(E,D,P);E.charCodeAt(P)===34&&E.charCodeAt(k-1)===34&&(P++,k--);var q=E.slice(P,k);C[K]=p(q,T)}b=D+1}while(b<R);return C}function h(E,x,C){do{var R=E.charCodeAt(x);if(R!==32&&R!==9)return x}while(++x<C);return C}function d(E,x,C){for(;x>C;){var R=E.charCodeAt(--x);if(R!==32&&R!==9)return x+1}return C}function g(E,x,C){var R=C&&C.encode||encodeURIComponent;if(typeof R!="function")throw new TypeError("option encode is invalid");if(!n.test(E))throw new TypeError("argument name is invalid");var T=R(x);if(!s.test(T))throw new TypeError("argument val is invalid");var b=E+"="+T;if(!C)return b;if(C.maxAge!=null){var O=Math.floor(C.maxAge);if(!isFinite(O))throw new TypeError("option maxAge is invalid");b+="; Max-Age="+O}if(C.domain){if(!a.test(C.domain))throw new TypeError("option domain is invalid");b+="; Domain="+C.domain}if(C.path){if(!o.test(C.path))throw new TypeError("option path is invalid");b+="; Path="+C.path}if(C.expires){var D=C.expires;if(!y(D)||isNaN(D.valueOf()))throw new TypeError("option expires is invalid");b+="; Expires="+D.toUTCString()}if(C.httpOnly&&(b+="; HttpOnly"),C.secure&&(b+="; Secure"),C.partitioned&&(b+="; Partitioned"),C.priority){var w=typeof C.priority=="string"?C.priority.toLowerCase():C.priority;switch(w){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(C.sameSite){var X=typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite;switch(X){case!0:b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"strict":b+="; SameSite=Strict";break;case"none":b+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return b}function _(E){return E.indexOf("%")!==-1?decodeURIComponent(E):E}function y(E){return r.call(E)==="[object Date]"}function p(E,x){try{return x(E)}catch{return E}}return vu}var Iu=Hx();function Px(){const r=typeof global>"u"?void 0:global.TEST_HAS_DOCUMENT_COOKIE;return typeof r=="boolean"?r:typeof document=="object"&&typeof document.cookie=="string"}function jx(r){return typeof r=="string"?Iu.parse(r):typeof r=="object"&&r!==null?r:{}}function Lf(r,t={}){const n=Zx(r);if(!t.doNotParse)try{return JSON.parse(n)}catch{}return r}function Zx(r){return r&&r[0]==="j"&&r[1]===":"?r.substr(2):r}class Vx{constructor(t,n={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const a=this.cookies;this.cookies=Iu.parse(document.cookie),this._checkChanges(a)};const s=typeof document>"u"?"":document.cookie;this.cookies=jx(t||s),this.defaultSetOptions=n,this.HAS_DOCUMENT_COOKIE=Px()}_emitChange(t){for(let n=0;n<this.changeListeners.length;++n)this.changeListeners[n](t)}_checkChanges(t){new Set(Object.keys(t).concat(Object.keys(this.cookies))).forEach(s=>{t[s]!==this.cookies[s]&&this._emitChange({name:s,value:Lf(this.cookies[s])})})}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(t,n={}){return n.doNotUpdate||this.update(),Lf(this.cookies[t],n)}getAll(t={}){t.doNotUpdate||this.update();const n={};for(let s in this.cookies)n[s]=Lf(this.cookies[s],t);return n}set(t,n,s){s?s=Object.assign(Object.assign({},this.defaultSetOptions),s):s=this.defaultSetOptions;const a=typeof n=="string"?n:JSON.stringify(n);this.cookies=Object.assign(Object.assign({},this.cookies),{[t]:a}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=Iu.serialize(t,a,s)),this._emitChange({name:t,value:n,options:s})}remove(t,n){const s=n=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),n),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[t],this.HAS_DOCUMENT_COOKIE&&(document.cookie=Iu.serialize(t,"",s)),this._emitChange({name:t,value:void 0,options:n})}addChangeListener(t){this.changeListeners.push(t),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===1&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(t){const n=this.changeListeners.indexOf(t);n>=0&&this.changeListeners.splice(n,1),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===0&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}}const Dp=Y.createContext(new Vx),{Provider:tb,Consumer:eb}=Dp;var If={exports:{}},Ut={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function qx(){if(sy)return Ut;sy=1;var r=typeof Symbol=="function"&&Symbol.for,t=r?Symbol.for("react.element"):60103,n=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,o=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,h=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,g=r?Symbol.for("react.concurrent_mode"):60111,_=r?Symbol.for("react.forward_ref"):60112,y=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,E=r?Symbol.for("react.memo"):60115,x=r?Symbol.for("react.lazy"):60116,C=r?Symbol.for("react.block"):60121,R=r?Symbol.for("react.fundamental"):60117,T=r?Symbol.for("react.responder"):60118,b=r?Symbol.for("react.scope"):60119;function O(w){if(typeof w=="object"&&w!==null){var X=w.$$typeof;switch(X){case t:switch(w=w.type,w){case d:case g:case s:case o:case a:case y:return w;default:switch(w=w&&w.$$typeof,w){case h:case _:case x:case E:case c:return w;default:return X}}case n:return X}}}function D(w){return O(w)===g}return Ut.AsyncMode=d,Ut.ConcurrentMode=g,Ut.ContextConsumer=h,Ut.ContextProvider=c,Ut.Element=t,Ut.ForwardRef=_,Ut.Fragment=s,Ut.Lazy=x,Ut.Memo=E,Ut.Portal=n,Ut.Profiler=o,Ut.StrictMode=a,Ut.Suspense=y,Ut.isAsyncMode=function(w){return D(w)||O(w)===d},Ut.isConcurrentMode=D,Ut.isContextConsumer=function(w){return O(w)===h},Ut.isContextProvider=function(w){return O(w)===c},Ut.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},Ut.isForwardRef=function(w){return O(w)===_},Ut.isFragment=function(w){return O(w)===s},Ut.isLazy=function(w){return O(w)===x},Ut.isMemo=function(w){return O(w)===E},Ut.isPortal=function(w){return O(w)===n},Ut.isProfiler=function(w){return O(w)===o},Ut.isStrictMode=function(w){return O(w)===a},Ut.isSuspense=function(w){return O(w)===y},Ut.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===s||w===g||w===o||w===a||w===y||w===p||typeof w=="object"&&w!==null&&(w.$$typeof===x||w.$$typeof===E||w.$$typeof===c||w.$$typeof===h||w.$$typeof===_||w.$$typeof===R||w.$$typeof===T||w.$$typeof===b||w.$$typeof===C)},Ut.typeOf=O,Ut}var ry;function Kx(){return ry||(ry=1,If.exports=qx()),If.exports}var zf,ay;function Wx(){if(ay)return zf;ay=1;var r=Kx(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[r.ForwardRef]=s,o[r.Memo]=a;function c(x){return r.isMemo(x)?a:o[x.$$typeof]||t}var h=Object.defineProperty,d=Object.getOwnPropertyNames,g=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,p=Object.prototype;function E(x,C,R){if(typeof C!="string"){if(p){var T=y(C);T&&T!==p&&E(x,T,R)}var b=d(C);g&&(b=b.concat(g(C)));for(var O=c(x),D=c(C),w=0;w<b.length;++w){var X=b[w];if(!n[X]&&!(R&&R[X])&&!(D&&D[X])&&!(O&&O[X])){var K=_(C,X);try{h(x,X,K)}catch{}}}}return x}return zf=E,zf}Wx();function Qx(){return typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"}function Ql(r,t){const n=Y.useContext(Dp);if(!n)throw new Error("Missing <CookiesProvider>");const a=Object.assign(Object.assign({},{doNotUpdate:!0}),t),[o,c]=Y.useState(()=>n.getAll(a));Qx()&&Y.useLayoutEffect(()=>{function _(){const y=n.getAll(a);$x(r,y,o)&&c(y)}return n.addChangeListener(_),()=>{n.removeChangeListener(_)}},[n,o]);const h=Y.useMemo(()=>n.set.bind(n),[n]),d=Y.useMemo(()=>n.remove.bind(n),[n]),g=Y.useMemo(()=>n.update.bind(n),[n]);return[o,h,d,g]}function $x(r,t,n){for(let s of r)if(t[s]!==n[s])return!0;return!1}const je={ADD:"add",REMOVE:"remove"},ua={PROPERTYCHANGE:"propertychange"},vt={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class Qu{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function Jx(r,t,n){let s,a;n=n||Oi;let o=0,c=r.length,h=!1;for(;o<c;)s=o+(c-o>>1),a=+n(r[s],t),a<0?o=s+1:(c=s,h=!a);return h?o:~o}function Oi(r,t){return r>t?1:r<t?-1:0}function tS(r,t){return r<t?1:r>t?-1:0}function bd(r,t,n){if(r[0]<=t)return 0;const s=r.length;if(t<=r[s-1])return s-1;if(typeof n=="function"){for(let a=1;a<s;++a){const o=r[a];if(o===t)return a;if(o<t)return n(t,r[a-1],o)>0?a-1:a}return s-1}if(n>0){for(let a=1;a<s;++a)if(r[a]<t)return a-1;return s-1}if(n<0){for(let a=1;a<s;++a)if(r[a]<=t)return a;return s-1}for(let a=1;a<s;++a){if(r[a]==t)return a;if(r[a]<t)return r[a-1]-t<t-r[a]?a-1:a}return s-1}function eS(r,t,n){for(;t<n;){const s=r[t];r[t]=r[n],r[n]=s,++t,--n}}function Ad(r,t){const n=Array.isArray(t)?t:[t],s=n.length;for(let a=0;a<s;a++)r[r.length]=n[a]}function xs(r,t){const n=r.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(r[s]!==t[s])return!1;return!0}function nS(r,t,n){const s=t||Oi;return r.every(function(a,o){if(o===0)return!0;const c=s(r[o-1],a);return!(c>0||c===0)})}function Nl(){return!0}function $u(){return!1}function ca(){}function Lp(r){let t,n,s;return function(){const a=Array.prototype.slice.call(arguments);return(!n||this!==s||!xs(a,n))&&(s=this,n=a,t=r.apply(this,arguments)),t}}function iS(r){function t(){let n;try{n=r()}catch(s){return Promise.reject(s)}return n instanceof Promise?n:Promise.resolve(n)}return t()}function $l(r){for(const t in r)delete r[t]}function ha(r){let t;for(t in r)return!1;return!t}class ki{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class Ju extends Qu{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,n){if(!t||!n)return;const s=this.listeners_||(this.listeners_={}),a=s[t]||(s[t]=[]);a.includes(n)||a.push(n)}dispatchEvent(t){const n=typeof t=="string",s=n?t:t.type,a=this.listeners_&&this.listeners_[s];if(!a)return;const o=n?new ki(t):t;o.target||(o.target=this.eventTarget_||this);const c=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});s in c||(c[s]=0,h[s]=0),++c[s];let d;for(let g=0,_=a.length;g<_;++g)if("handleEvent"in a[g]?d=a[g].handleEvent(o):d=a[g].call(this,o),d===!1||o.propagationStopped){d=!1;break}if(--c[s]===0){let g=h[s];for(delete h[s];g--;)this.removeEventListener(s,ca);delete c[s]}return d}disposeInternal(){this.listeners_&&$l(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,n){if(!this.listeners_)return;const s=this.listeners_[t];if(!s)return;const a=s.indexOf(n);a!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(s[a]=ca,++this.pendingRemovals_[t]):(s.splice(a,1),s.length===0&&delete this.listeners_[t]))}}function It(r,t,n,s,a){if(a){const c=n;n=function(h){return r.removeEventListener(t,n),c.call(s??this,h)}}else s&&s!==r&&(n=n.bind(s));const o={target:r,type:t,listener:n};return r.addEventListener(t,n),o}function Nu(r,t,n,s){return It(r,t,n,s,!0)}function Kt(r){r&&r.target&&(r.target.removeEventListener(r.type,r.listener),$l(r))}class Jl extends Ju{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(vt.CHANGE)}getRevision(){return this.revision_}onInternal(t,n){if(Array.isArray(t)){const s=t.length,a=new Array(s);for(let o=0;o<s;++o)a[o]=It(this,t[o],n);return a}return It(this,t,n)}onceInternal(t,n){let s;if(Array.isArray(t)){const a=t.length;s=new Array(a);for(let o=0;o<a;++o)s[o]=Nu(this,t[o],n)}else s=Nu(this,t,n);return n.ol_key=s,s}unInternal(t,n){const s=n.ol_key;if(s)sS(s);else if(Array.isArray(t))for(let a=0,o=t.length;a<o;++a)this.removeEventListener(t[a],n);else this.removeEventListener(t,n)}}Jl.prototype.on;Jl.prototype.once;Jl.prototype.un;function sS(r){if(Array.isArray(r))for(let t=0,n=r.length;t<n;++t)Kt(r[t]);else Kt(r)}function Lt(){throw new Error("Unimplemented abstract method.")}let rS=0;function kt(r){return r.ol_uid||(r.ol_uid=String(++rS))}class ly extends ki{constructor(t,n,s){super(t),this.key=n,this.oldValue=s}}class ii extends Jl{constructor(t){super(),this.on,this.once,this.un,kt(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let n;return this.values_&&this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,n){let s;s=`change:${t}`,this.hasListener(s)&&this.dispatchEvent(new ly(s,t,n)),s=ua.PROPERTYCHANGE,this.hasListener(s)&&this.dispatchEvent(new ly(s,t,n))}addChangeListener(t,n){this.addEventListener(`change:${t}`,n)}removeChangeListener(t,n){this.removeEventListener(`change:${t}`,n)}set(t,n,s){const a=this.values_||(this.values_={});if(s)a[t]=n;else{const o=a[t];a[t]=n,o!==n&&this.notify(t,o)}}setProperties(t,n){for(const s in t)this.set(s,t[s],n)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,n){if(this.values_&&t in this.values_){const s=this.values_[t];delete this.values_[t],ha(this.values_)&&(this.values_=null),n||this.notify(t,s)}}}const oy={LENGTH:"length"};class Eu extends ki{constructor(t,n,s){super(t),this.element=n,this.index=s}}class Jn extends ii{constructor(t,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=t||[],this.unique_)for(let s=0,a=this.array_.length;s<a;++s)this.assertUnique_(this.array_[s],s);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let n=0,s=t.length;n<s;++n)this.push(t[n]);return this}forEach(t){const n=this.array_;for(let s=0,a=n.length;s<a;++s)t(n[s],s,n)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(oy.LENGTH)}insertAt(t,n){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n),this.array_.splice(t,0,n),this.updateLength_(),this.dispatchEvent(new Eu(je.ADD,n,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const n=this.getLength();return this.insertAt(n,t),this.getLength()}remove(t){const n=this.array_;for(let s=0,a=n.length;s<a;++s)if(n[s]===t)return this.removeAt(s)}removeAt(t){if(t<0||t>=this.getLength())return;const n=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Eu(je.REMOVE,n,t)),n}setAt(t,n){const s=this.getLength();if(t>=s){this.insertAt(t,n);return}if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n,t);const a=this.array_[t];this.array_[t]=n,this.dispatchEvent(new Eu(je.REMOVE,a,t)),this.dispatchEvent(new Eu(je.ADD,n,t))}updateLength_(){this.set(oy.LENGTH,this.array_.length)}assertUnique_(t,n){for(let s=0,a=this.array_.length;s<a;++s)if(this.array_[s]===t&&s!==n)throw new Error("Duplicate item added to a unique collection")}}function zt(r,t){if(!r)throw new Error(t)}class Md extends ii{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){const n=t;this.setGeometry(n)}else{const n=t;this.setProperties(n)}}clone(){const t=new Md(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&t.setGeometry(n.clone());const s=this.getStyle();return s&&t.setStyle(s),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Kt(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=It(t,vt.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?aS(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function aS(r){if(typeof r=="function")return r;let t;return Array.isArray(r)?t=r:(zt(typeof r.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[r]),function(){return t}}const ye={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function uy(r){const t=wn();for(let n=0,s=r.length;n<s;++n)Il(t,r[n]);return t}function Od(r,t,n){return n?(n[0]=r[0]-t,n[1]=r[1]-t,n[2]=r[2]+t,n[3]=r[3]+t,n):[r[0]-t,r[1]-t,r[2]+t,r[3]+t]}function Ip(r,t){return t?(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t):r.slice()}function zp(r,t,n){let s,a;return t<r[0]?s=r[0]-t:r[2]<t?s=t-r[2]:s=0,n<r[1]?a=r[1]-n:r[3]<n?a=n-r[3]:a=0,s*s+a*a}function fa(r,t){return Np(r,t[0],t[1])}function wl(r,t){return r[0]<=t[0]&&t[2]<=r[2]&&r[1]<=t[1]&&t[3]<=r[3]}function Np(r,t,n){return r[0]<=t&&t<=r[2]&&r[1]<=n&&n<=r[3]}function rd(r,t){const n=r[0],s=r[1],a=r[2],o=r[3],c=t[0],h=t[1];let d=ye.UNKNOWN;return c<n?d=d|ye.LEFT:c>a&&(d=d|ye.RIGHT),h<s?d=d|ye.BELOW:h>o&&(d=d|ye.ABOVE),d===ye.UNKNOWN&&(d=ye.INTERSECTING),d}function wn(){return[1/0,1/0,-1/0,-1/0]}function vs(r,t,n,s,a){return a?(a[0]=r,a[1]=t,a[2]=n,a[3]=s,a):[r,t,n,s]}function tc(r){return vs(1/0,1/0,-1/0,-1/0,r)}function kp(r,t){const n=r[0],s=r[1];return vs(n,s,n,s,t)}function Dd(r,t,n,s,a){const o=tc(a);return Gp(o,r,t,n,s)}function kl(r,t){return r[0]==t[0]&&r[2]==t[2]&&r[1]==t[1]&&r[3]==t[3]}function lS(r,t){return t[0]<r[0]&&(r[0]=t[0]),t[2]>r[2]&&(r[2]=t[2]),t[1]<r[1]&&(r[1]=t[1]),t[3]>r[3]&&(r[3]=t[3]),r}function Il(r,t){t[0]<r[0]&&(r[0]=t[0]),t[0]>r[2]&&(r[2]=t[0]),t[1]<r[1]&&(r[1]=t[1]),t[1]>r[3]&&(r[3]=t[1])}function Gp(r,t,n,s,a){for(;n<s;n+=a)oS(r,t[n],t[n+1]);return r}function oS(r,t,n){r[0]=Math.min(r[0],t),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],t),r[3]=Math.max(r[3],n)}function Up(r,t){let n;return n=t(ec(r)),n||(n=t(nc(r)),n)||(n=t(ic(r)),n)||(n=t(rr(r)),n)?n:!1}function ad(r){let t=0;return sc(r)||(t=Yt(r)*Ye(r)),t}function ec(r){return[r[0],r[1]]}function nc(r){return[r[2],r[1]]}function nr(r){return[(r[0]+r[2])/2,(r[1]+r[3])/2]}function uS(r,t){let n;if(t==="bottom-left")n=ec(r);else if(t==="bottom-right")n=nc(r);else if(t==="top-left")n=rr(r);else if(t==="top-right")n=ic(r);else throw new Error("Invalid corner");return n}function ld(r,t,n,s,a){const[o,c,h,d,g,_,y,p]=Fp(r,t,n,s);return vs(Math.min(o,h,g,y),Math.min(c,d,_,p),Math.max(o,h,g,y),Math.max(c,d,_,p),a)}function Fp(r,t,n,s){const a=t*s[0]/2,o=t*s[1]/2,c=Math.cos(n),h=Math.sin(n),d=a*c,g=a*h,_=o*c,y=o*h,p=r[0],E=r[1];return[p-d+y,E-g-_,p-d-y,E-g+_,p+d-y,E+g+_,p+d+y,E+g-_,p-d+y,E-g-_]}function Ye(r){return r[3]-r[1]}function er(r,t,n){const s=n||wn();return qe(r,t)?(r[0]>t[0]?s[0]=r[0]:s[0]=t[0],r[1]>t[1]?s[1]=r[1]:s[1]=t[1],r[2]<t[2]?s[2]=r[2]:s[2]=t[2],r[3]<t[3]?s[3]=r[3]:s[3]=t[3]):tc(s),s}function rr(r){return[r[0],r[3]]}function ic(r){return[r[2],r[3]]}function Yt(r){return r[2]-r[0]}function qe(r,t){return r[0]<=t[2]&&r[2]>=t[0]&&r[1]<=t[3]&&r[3]>=t[1]}function sc(r){return r[2]<r[0]||r[3]<r[1]}function cS(r,t){return t?(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t):r}function hS(r,t,n){let s=!1;const a=rd(r,t),o=rd(r,n);if(a===ye.INTERSECTING||o===ye.INTERSECTING)s=!0;else{const c=r[0],h=r[1],d=r[2],g=r[3],_=t[0],y=t[1],p=n[0],E=n[1],x=(E-y)/(p-_);let C,R;o&ye.ABOVE&&!(a&ye.ABOVE)&&(C=p-(E-g)/x,s=C>=c&&C<=d),!s&&o&ye.RIGHT&&!(a&ye.RIGHT)&&(R=E-(p-d)*x,s=R>=h&&R<=g),!s&&o&ye.BELOW&&!(a&ye.BELOW)&&(C=p-(E-h)/x,s=C>=c&&C<=d),!s&&o&ye.LEFT&&!(a&ye.LEFT)&&(R=E-(p-c)*x,s=R>=h&&R<=g)}return s}function Yp(r,t){const n=t.getExtent(),s=nr(r);if(t.canWrapX()&&(s[0]<n[0]||s[0]>=n[2])){const a=Yt(n),c=Math.floor((s[0]-n[0])/a)*a;r[0]-=c,r[2]-=c}return r}function Xp(r,t,n){if(t.canWrapX()){const s=t.getExtent();if(!isFinite(r[0])||!isFinite(r[2]))return[[s[0],r[1],s[2],r[3]]];Yp(r,t);const a=Yt(s);if(Yt(r)>a&&!n)return[[s[0],r[1],s[2],r[3]]];if(r[0]<s[0])return[[r[0]+a,r[1],s[2],r[3]],[s[0],r[1],r[2],r[3]]];if(r[2]>s[2])return[[r[0],r[1],s[2],r[3]],[s[0],r[1],r[2]-a,r[3]]]}return[r]}function le(r,t,n){return Math.min(Math.max(r,t),n)}function fS(r,t,n,s,a,o){const c=a-n,h=o-s;if(c!==0||h!==0){const d=((r-n)*c+(t-s)*h)/(c*c+h*h);d>1?(n=a,s=o):d>0&&(n+=c*d,s+=h*d)}return sa(r,t,n,s)}function sa(r,t,n,s){const a=n-r,o=s-t;return a*a+o*o}function dS(r){const t=r.length;for(let s=0;s<t;s++){let a=s,o=Math.abs(r[s][s]);for(let h=s+1;h<t;h++){const d=Math.abs(r[h][s]);d>o&&(o=d,a=h)}if(o===0)return null;const c=r[a];r[a]=r[s],r[s]=c;for(let h=s+1;h<t;h++){const d=-r[h][s]/r[s][s];for(let g=s;g<t+1;g++)s==g?r[h][g]=0:r[h][g]+=d*r[s][g]}}const n=new Array(t);for(let s=t-1;s>=0;s--){n[s]=r[s][t]/r[s][s];for(let a=s-1;a>=0;a--)r[a][t]-=r[a][s]*n[s]}return n}function cy(r){return r*180/Math.PI}function _s(r){return r*Math.PI/180}function ra(r,t){const n=r%t;return n*t<0?n+t:n}function Sn(r,t,n){return r+n*(t-r)}function Ld(r,t){const n=Math.pow(10,t);return Math.round(r*n)/n}function xu(r,t){return Math.floor(Ld(r,t))}function Su(r,t){return Math.ceil(Ld(r,t))}function od(r,t,n){if(r>=t&&r<n)return r;const s=n-t;return((r-t)%s+s)%s+t}const gS=63710088e-1;function hy(r,t,n){n=n||gS;const s=_s(r[1]),a=_s(t[1]),o=(a-s)/2,c=_s(t[0]-r[0])/2,h=Math.sin(o)*Math.sin(o)+Math.sin(c)*Math.sin(c)*Math.cos(s)*Math.cos(a);return 2*n*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}function Bp(...r){console.warn(...r)}function mS(r,t){return r[0]+=+t[0],r[1]+=+t[1],r}function ku(r,t){let n=!0;for(let s=r.length-1;s>=0;--s)if(r[s]!=t[s]){n=!1;break}return n}function Id(r,t){const n=Math.cos(t),s=Math.sin(t),a=r[0]*n-r[1]*s,o=r[1]*n+r[0]*s;return r[0]=a,r[1]=o,r}function _S(r,t){return r[0]*=t,r[1]*=t,r}function Hp(r,t){if(t.canWrapX()){const n=Yt(t.getExtent()),s=yS(r,t,n);s&&(r[0]-=s*n)}return r}function yS(r,t,n){const s=t.getExtent();let a=0;return t.canWrapX()&&(r[0]<s[0]||r[0]>s[2])&&(n=n||Yt(s),a=Math.floor((r[0]-s[0])/n)),a}const zd={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Nd{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||zd[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const to=6378137,ea=Math.PI*to,pS=[-ea,-ea,ea,ea],vS=[-180,-85,180,85],Cu=to*Math.log(Math.tan(Math.PI/2));class Hr extends Nd{constructor(t){super({code:t,units:"m",extent:pS,global:!0,worldExtent:vS,getPointResolution:function(n,s){return n/Math.cosh(s[1]/to)}})}}const fy=[new Hr("EPSG:3857"),new Hr("EPSG:102100"),new Hr("EPSG:102113"),new Hr("EPSG:900913"),new Hr("http://www.opengis.net/def/crs/EPSG/0/3857"),new Hr("http://www.opengis.net/gml/srs/epsg.xml#3857")];function ES(r,t,n,s){const a=r.length;n=n>1?n:2,s=s??n,t===void 0&&(n>2?t=r.slice():t=new Array(a));for(let o=0;o<a;o+=s){t[o]=ea*r[o]/180;let c=to*Math.log(Math.tan(Math.PI*(+r[o+1]+90)/360));c>Cu?c=Cu:c<-Cu&&(c=-Cu),t[o+1]=c}return t}function xS(r,t,n,s){const a=r.length;n=n>1?n:2,s=s??n,t===void 0&&(n>2?t=r.slice():t=new Array(a));for(let o=0;o<a;o+=s)t[o]=180*r[o]/ea,t[o+1]=360*Math.atan(Math.exp(r[o+1]/to))/Math.PI-90;return t}const SS=6378137,dy=[-180,-90,180,90],CS=Math.PI*SS/180;class qs extends Nd{constructor(t,n){super({code:t,units:"degrees",extent:dy,axisOrientation:n,global:!0,metersPerUnit:CS,worldExtent:dy})}}const gy=[new qs("CRS:84"),new qs("EPSG:4326","neu"),new qs("urn:ogc:def:crs:OGC:1.3:CRS84"),new qs("urn:ogc:def:crs:OGC:2:84"),new qs("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new qs("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new qs("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let ud={};function RS(r){return ud[r]||ud[r.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function TS(r,t){ud[r]=t}let aa={};function Gl(r,t,n){const s=r.getCode(),a=t.getCode();s in aa||(aa[s]={}),aa[s][a]=n}function Nf(r,t){return r in aa&&t in aa[r]?aa[r][t]:null}const Gu=.9996,Tn=.00669438,rc=Tn*Tn,ac=rc*Tn,Qs=Tn/(1-Tn),my=Math.sqrt(1-Tn),da=(1-my)/(1+my),Pp=da*da,kd=Pp*da,Gd=kd*da,jp=Gd*da,Zp=1-Tn/4-3*rc/64-5*ac/256,wS=3*Tn/8+3*rc/32+45*ac/1024,bS=15*rc/256+45*ac/1024,AS=35*ac/3072,MS=3/2*da-27/32*kd+269/512*jp,OS=21/16*Pp-55/32*Gd,DS=151/96*kd-417/128*jp,LS=1097/512*Gd,Uu=6378137;function IS(r,t,n){const s=r-5e5,c=(n.north?t:t-1e7)/Gu/(Uu*Zp),h=c+MS*Math.sin(2*c)+OS*Math.sin(4*c)+DS*Math.sin(6*c)+LS*Math.sin(8*c),d=Math.sin(h),g=d*d,_=Math.cos(h),y=d/_,p=y*y,E=p*p,x=1-Tn*g,C=Math.sqrt(1-Tn*g),R=Uu/C,T=(1-Tn)/x,b=Qs*_**2,O=b*b,D=s/(R*Gu),w=D*D,X=w*D,K=X*D,P=K*D,k=P*D,q=h-y/T*(w/2-K/24*(5+3*p+10*b-4*O-9*Qs))+k/720*(61+90*p+298*b+45*E-252*Qs-3*O);let it=(D-X/6*(1+2*p+b)+P/120*(5-2*b+28*p-3*O+8*Qs+24*E))/_;return it=od(it+_s(Vp(n.number)),-Math.PI,Math.PI),[cy(it),cy(q)]}const _y=-80,yy=84,zS=-180,NS=180;function kS(r,t,n){r=od(r,zS,NS),t<_y?t=_y:t>yy&&(t=yy);const s=_s(t),a=Math.sin(s),o=Math.cos(s),c=a/o,h=c*c,d=h*h,g=_s(r),_=Vp(n.number),y=_s(_),p=Uu/Math.sqrt(1-Tn*a**2),E=Qs*o**2,x=o*od(g-y,-Math.PI,Math.PI),C=x*x,R=C*x,T=R*x,b=T*x,O=b*x,D=Uu*(Zp*s-wS*Math.sin(2*s)+bS*Math.sin(4*s)-AS*Math.sin(6*s)),w=Gu*p*(x+R/6*(1-h+E)+b/120*(5-18*h+d+72*E-58*Qs))+5e5;let X=Gu*(D+p*c*(C/2+T/24*(5-h+9*E+4*E**2)+O/720*(61-58*h+d+600*E-330*Qs)));return n.north||(X+=1e7),[w,X]}function Vp(r){return(r-1)*6-180+3}const GS=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function qp(r){let t=0;for(const a of GS){const o=r.match(a);if(o){t=parseInt(o[1]);break}}if(!t)return null;let n=0,s=!1;return t>32700&&t<32761?n=t-32700:t>32600&&t<32661&&(s=!0,n=t-32600),n?{number:n,north:s}:null}function py(r,t){return function(n,s,a,o){const c=n.length;a=a>1?a:2,o=o??a,s||(a>2?s=n.slice():s=new Array(c));for(let h=0;h<c;h+=o){const d=n[h],g=n[h+1],_=r(d,g,t);s[h]=_[0],s[h+1]=_[1]}return s}}function US(r){return qp(r)?new Nd({code:r,units:"m"}):null}function FS(r){const t=qp(r.getCode());return t?{forward:py(kS,t),inverse:py(IS,t)}:null}const YS=[FS],XS=[US];let cd=!0;function Kp(r){cd=!1}function Ud(r,t){if(t!==void 0){for(let n=0,s=r.length;n<s;++n)t[n]=r[n];t=t}else t=r.slice();return t}function hd(r){TS(r.getCode(),r),Gl(r,r,Ud)}function BS(r){r.forEach(hd)}function Qe(r){if(typeof r!="string")return r;const t=RS(r);if(t)return t;for(const n of XS){const s=n(r);if(s)return s}return null}function vy(r,t,n,s){r=Qe(r);let a;const o=r.getPointResolutionFunc();if(o)a=o(t,n);else{const c=r.getUnits();if(c=="degrees"||s=="degrees")a=t;else{const h=Yd(r,Qe("EPSG:4326"));if(!h&&c!=="degrees")a=t*r.getMetersPerUnit();else{let g=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];g=h(g,g,2);const _=hy(g.slice(0,2),g.slice(2,4)),y=hy(g.slice(4,6),g.slice(6,8));a=(_+y)/2}const d=r.getMetersPerUnit();d!==void 0&&(a/=d)}}return a}function Ey(r){BS(r),r.forEach(function(t){r.forEach(function(n){t!==n&&Gl(t,n,Ud)})})}function HS(r,t,n,s){r.forEach(function(a){t.forEach(function(o){Gl(a,o,n),Gl(o,a,s)})})}function Fd(r,t){return r?typeof r=="string"?Qe(r):r:Qe(t)}function PS(r){return function(t,n,s,a){const o=t.length;s=s!==void 0?s:2,a=a??s,n=n!==void 0?n:new Array(o);for(let c=0;c<o;c+=a){const h=r(t.slice(c,c+s)),d=h.length;for(let g=0,_=a;g<_;++g)n[c+g]=g>=d?t[c+g]:h[g]}return n}}function jS(r,t){return Kp(),Xd(r,"EPSG:4326","EPSG:3857")}function kf(r,t){if(r===t)return!0;const n=r.getUnits()===t.getUnits();return(r.getCode()===t.getCode()||Yd(r,t)===Ud)&&n}function Yd(r,t){const n=r.getCode(),s=t.getCode();let a=Nf(n,s);if(a)return a;let o=null,c=null;for(const d of YS)o||(o=d(r)),c||(c=d(t));if(!o&&!c)return null;const h="EPSG:4326";if(c)if(o)a=Gf(o.inverse,c.forward);else{const d=Nf(n,h);d&&(a=Gf(d,c.forward))}else{const d=Nf(h,s);d&&(a=Gf(o.inverse,d))}return a&&(hd(r),hd(t),Gl(r,t,a)),a}function Gf(r,t){return function(n,s,a,o){return s=r(n,s,a,o),t(s,s,a,o)}}function Fu(r,t){const n=Qe(r),s=Qe(t);return Yd(n,s)}function Xd(r,t,n){const s=Fu(t,n);if(!s){const a=Qe(t).getCode(),o=Qe(n).getCode();throw new Error(`No transform available between ${a} and ${o}`)}return s(r,void 0,r.length)}function fd(r,t){return r}function wi(r,t){return cd&&!ku(r,[0,0])&&r[0]>=-180&&r[0]<=180&&r[1]>=-90&&r[1]<=90&&(cd=!1,Bp("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),r}function Wp(r,t){return r}function gs(r,t){return r}function ZS(){Ey(fy),Ey(gy),HS(gy,fy,ES,xS)}ZS();new Array(6);function Fn(){return[1,0,0,1,0,0]}function VS(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function pe(r,t){const n=t[0],s=t[1];return t[0]=r[0]*n+r[2]*s+r[4],t[1]=r[1]*n+r[3]*s+r[5],t}function zi(r,t,n,s,a,o,c,h){const d=Math.sin(o),g=Math.cos(o);return r[0]=s*g,r[1]=a*d,r[2]=-s*d,r[3]=a*g,r[4]=c*s*g-h*s*d+t,r[5]=c*a*d+h*a*g+n,r}function Qp(r,t){const n=qS(t);zt(n!==0,"Transformation matrix cannot be inverted");const s=t[0],a=t[1],o=t[2],c=t[3],h=t[4],d=t[5];return r[0]=c/n,r[1]=-a/n,r[2]=-o/n,r[3]=s/n,r[4]=(o*d-c*h)/n,r[5]=-(s*d-a*h)/n,r}function qS(r){return r[0]*r[3]-r[1]*r[2]}const xy=[1e6,1e6,1e6,1e6,2,2];function KS(r){return"matrix("+r.map((n,s)=>Math.round(n*xy[s])/xy[s]).join(", ")+")"}function ys(r,t,n,s,a,o,c){o=o||[],c=c||2;let h=0;for(let d=t;d<n;d+=s){const g=r[d],_=r[d+1];o[h++]=a[0]*g+a[2]*_+a[4],o[h++]=a[1]*g+a[3]*_+a[5];for(let y=2;y<c;y++)o[h++]=r[d+y]}return o&&o.length!=h&&(o.length=h),o}function $p(r,t,n,s,a,o,c){c=c||[];const h=Math.cos(a),d=Math.sin(a),g=o[0],_=o[1];let y=0;for(let p=t;p<n;p+=s){const E=r[p]-g,x=r[p+1]-_;c[y++]=g+E*h-x*d,c[y++]=_+E*d+x*h;for(let C=p+2;C<p+s;++C)c[y++]=r[C]}return c&&c.length!=y&&(c.length=y),c}function WS(r,t,n,s,a,o,c,h){h=h||[];const d=c[0],g=c[1];let _=0;for(let y=t;y<n;y+=s){const p=r[y]-d,E=r[y+1]-g;h[_++]=d+a*p,h[_++]=g+o*E;for(let x=y+2;x<y+s;++x)h[_++]=r[x]}return h&&h.length!=_&&(h.length=_),h}function QS(r,t,n,s,a,o,c){c=c||[];let h=0;for(let d=t;d<n;d+=s){c[h++]=r[d]+a,c[h++]=r[d+1]+o;for(let g=d+2;g<d+s;++g)c[h++]=r[g]}return c&&c.length!=h&&(c.length=h),c}const Sy=Fn(),$S=[NaN,NaN];class JS extends ii{constructor(){super(),this.extent_=wn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Lp((t,n,s)=>{if(!s)return this.getSimplifiedGeometry(n);const a=this.clone();return a.applyTransform(s),a.getSimplifiedGeometry(n)})}simplifyTransformed(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)}clone(){return Lt()}closestPointXY(t,n,s,a){return Lt()}containsXY(t,n){return this.closestPointXY(t,n,$S,Number.MIN_VALUE)===0}getClosestPoint(t,n){return n=n||[NaN,NaN],this.closestPointXY(t[0],t[1],n,1/0),n}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return Lt()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&tc(n),this.extentRevision_=this.getRevision()}return cS(this.extent_,t)}rotate(t,n){Lt()}scale(t,n,s){Lt()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return Lt()}getType(){return Lt()}applyTransform(t){Lt()}intersectsExtent(t){return Lt()}translate(t,n){Lt()}transform(t,n){const s=Qe(t),a=s.getUnits()=="tile-pixels"?function(o,c,h){const d=s.getExtent(),g=s.getWorldExtent(),_=Ye(g)/Ye(d);zi(Sy,g[0],g[3],_,-_,0,0,0);const y=ys(o,0,o.length,h,Sy,c),p=Fu(s,n);return p?p(y,y,h):y}:Fu(s,n);return this.applyTransform(a),this}}class Bd extends JS{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return Dd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return Lt()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,n){this.stride=Cy(t),this.layout=t,this.flatCoordinates=n}setCoordinates(t,n){Lt()}setLayout(t,n,s){let a;if(t)a=Cy(t);else{for(let o=0;o<s;++o){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}a=n.length,t=tC(a)}this.layout=t,this.stride=a}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,n){const s=this.getFlatCoordinates();if(s){const a=this.getStride();$p(s,0,s.length,a,t,n,s),this.changed()}}scale(t,n,s){n===void 0&&(n=t),s||(s=nr(this.getExtent()));const a=this.getFlatCoordinates();if(a){const o=this.getStride();WS(a,0,a.length,o,t,n,s,a),this.changed()}}translate(t,n){const s=this.getFlatCoordinates();if(s){const a=this.getStride();QS(s,0,s.length,a,t,n,s),this.changed()}}}function tC(r){let t;return r==2?t="XY":r==3?t="XYZ":r==4&&(t="XYZM"),t}function Cy(r){let t;return r=="XY"?t=2:r=="XYZ"||r=="XYM"?t=3:r=="XYZM"&&(t=4),t}function eC(r,t,n){const s=r.getFlatCoordinates();if(!s)return null;const a=r.getStride();return ys(s,0,s.length,a,t,n)}function Jp(r,t,n,s){let a=0;const o=r[n-s],c=r[n-s+1];let h=0,d=0;for(;t<n;t+=s){const g=r[t]-o,_=r[t+1]-c;a+=d*g-h*_,h=g,d=_}return a/2}function nC(r,t,n,s){let a=0;for(let o=0,c=n.length;o<c;++o){const h=n[o];a+=Jp(r,t,h,s),t=h}return a}function Ry(r,t,n,s,a,o,c){const h=r[t],d=r[t+1],g=r[n]-h,_=r[n+1]-d;let y;if(g===0&&_===0)y=t;else{const p=((a-h)*g+(o-d)*_)/(g*g+_*_);if(p>1)y=n;else if(p>0){for(let E=0;E<s;++E)c[E]=Sn(r[t+E],r[n+E],p);c.length=s;return}else y=t}for(let p=0;p<s;++p)c[p]=r[y+p];c.length=s}function t1(r,t,n,s,a){let o=r[t],c=r[t+1];for(t+=s;t<n;t+=s){const h=r[t],d=r[t+1],g=sa(o,c,h,d);g>a&&(a=g),o=h,c=d}return a}function iC(r,t,n,s,a){for(let o=0,c=n.length;o<c;++o){const h=n[o];a=t1(r,t,h,s,a),t=h}return a}function e1(r,t,n,s,a,o,c,h,d,g,_){if(t==n)return g;let y,p;if(a===0){if(p=sa(c,h,r[t],r[t+1]),p<g){for(y=0;y<s;++y)d[y]=r[t+y];return d.length=s,p}return g}_=_||[NaN,NaN];let E=t+s;for(;E<n;)if(Ry(r,E-s,E,s,c,h,_),p=sa(c,h,_[0],_[1]),p<g){for(g=p,y=0;y<s;++y)d[y]=_[y];d.length=s,E+=s}else E+=s*Math.max((Math.sqrt(p)-Math.sqrt(g))/a|0,1);if(Ry(r,n-s,t,s,c,h,_),p=sa(c,h,_[0],_[1]),p<g){for(g=p,y=0;y<s;++y)d[y]=_[y];d.length=s}return g}function sC(r,t,n,s,a,o,c,h,d,g,_){_=_||[NaN,NaN];for(let y=0,p=n.length;y<p;++y){const E=n[y];g=e1(r,t,E,s,a,o,c,h,d,g,_),t=E}return g}function rC(r,t,n,s){for(let a=0,o=n.length;a<o;++a)r[t++]=n[a];return t}function n1(r,t,n,s){for(let a=0,o=n.length;a<o;++a){const c=n[a];for(let h=0;h<s;++h)r[t++]=c[h]}return t}function aC(r,t,n,s,a){a=a||[];let o=0;for(let c=0,h=n.length;c<h;++c){const d=n1(r,t,n[c],s);a[o++]=d,t=d}return a.length=o,a}function na(r,t,n,s,a){a=a!==void 0?a:[];let o=0;for(let c=t;c<n;c+=s)a[o++]=r.slice(c,c+s);return a.length=o,a}function Yu(r,t,n,s,a){a=a!==void 0?a:[];let o=0;for(let c=0,h=n.length;c<h;++c){const d=n[c];a[o++]=na(r,t,d,s,a[o]),t=d}return a.length=o,a}function Ty(r,t,n,s,a){a=a!==void 0?a:[];let o=0;for(let c=0,h=n.length;c<h;++c){const d=n[c];a[o++]=d.length===1&&d[0]===t?[]:Yu(r,t,d,s,a[o]),t=d[d.length-1]}return a.length=o,a}function Hd(r,t,n,s,a,o,c){const h=(n-t)/s;if(h<3){for(;t<n;t+=s)o[c++]=r[t],o[c++]=r[t+1];return c}const d=new Array(h);d[0]=1,d[h-1]=1;const g=[t,n-s];let _=0;for(;g.length>0;){const y=g.pop(),p=g.pop();let E=0;const x=r[p],C=r[p+1],R=r[y],T=r[y+1];for(let b=p+s;b<y;b+=s){const O=r[b],D=r[b+1],w=fS(O,D,x,C,R,T);w>E&&(_=b,E=w)}E>a&&(d[(_-t)/s]=1,p+s<_&&g.push(p,_),_+s<y&&g.push(_,y))}for(let y=0;y<h;++y)d[y]&&(o[c++]=r[t+y*s],o[c++]=r[t+y*s+1]);return c}function lC(r,t,n,s,a,o,c,h){for(let d=0,g=n.length;d<g;++d){const _=n[d];c=Hd(r,t,_,s,a,o,c),h.push(c),t=_}return c}function Ws(r,t){return t*Math.round(r/t)}function oC(r,t,n,s,a,o,c){if(t==n)return c;let h=Ws(r[t],a),d=Ws(r[t+1],a);t+=s,o[c++]=h,o[c++]=d;let g,_;do if(g=Ws(r[t],a),_=Ws(r[t+1],a),t+=s,t==n)return o[c++]=g,o[c++]=_,c;while(g==h&&_==d);for(;t<n;){const y=Ws(r[t],a),p=Ws(r[t+1],a);if(t+=s,y==g&&p==_)continue;const E=g-h,x=_-d,C=y-h,R=p-d;if(E*R==x*C&&(E<0&&C<E||E==C||E>0&&C>E)&&(x<0&&R<x||x==R||x>0&&R>x)){g=y,_=p;continue}o[c++]=g,o[c++]=_,h=g,d=_,g=y,_=p}return o[c++]=g,o[c++]=_,c}function i1(r,t,n,s,a,o,c,h){for(let d=0,g=n.length;d<g;++d){const _=n[d];c=oC(r,t,_,s,a,o,c),h.push(c),t=_}return c}class Ul extends Bd{constructor(t,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}clone(){return new Ul(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,n,s,a){return a<zp(this.getExtent(),t,n)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(t1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),e1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,s,a))}getArea(){return Jp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return na(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const n=[];return n.length=Hd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new Ul(n,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=n1(this.flatCoordinates,0,t,this.stride),this.changed()}}class lc extends Bd{constructor(t,n){super(),this.setCoordinates(t,n)}clone(){const t=new lc(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,s,a){const o=this.flatCoordinates,c=sa(t,n,o[0],o[1]);if(c<a){const h=this.stride;for(let d=0;d<h;++d)s[d]=o[d];return s.length=h,c}return a}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return kp(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return Np(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=rC(this.flatCoordinates,0,t,this.stride),this.changed()}}function uC(r,t,n,s,a){return!Up(a,function(c){return!$s(r,t,n,s,c[0],c[1])})}function $s(r,t,n,s,a,o){let c=0,h=r[n-s],d=r[n-s+1];for(;t<n;t+=s){const g=r[t],_=r[t+1];d<=o?_>o&&(g-h)*(o-d)-(a-h)*(_-d)>0&&c++:_<=o&&(g-h)*(o-d)-(a-h)*(_-d)<0&&c--,h=g,d=_}return c!==0}function s1(r,t,n,s,a,o){if(n.length===0||!$s(r,t,n[0],s,a,o))return!1;for(let c=1,h=n.length;c<h;++c)if($s(r,n[c-1],n[c],s,a,o))return!1;return!0}function Pd(r,t,n,s,a,o,c){let h,d,g,_,y,p,E;const x=a[o+1],C=[];for(let b=0,O=n.length;b<O;++b){const D=n[b];for(_=r[D-s],p=r[D-s+1],h=t;h<D;h+=s)y=r[h],E=r[h+1],(x<=p&&E<=x||p<=x&&x<=E)&&(g=(x-p)/(E-p)*(y-_)+_,C.push(g)),_=y,p=E}let R=NaN,T=-1/0;for(C.sort(Oi),_=C[0],h=1,d=C.length;h<d;++h){y=C[h];const b=Math.abs(y-_);b>T&&(g=(_+y)/2,s1(r,t,n,s,g,x)&&(R=g,T=b)),_=y}return isNaN(R)&&(R=a[o]),c?(c.push(R,x,T),c):[R,x,T]}function cC(r,t,n,s,a){let o=[];for(let c=0,h=n.length;c<h;++c){const d=n[c];o=Pd(r,t,d,s,a,2*c,o),t=d[d.length-1]}return o}function hC(r,t,n,s,a){let o;for(t+=s;t<n;t+=s)if(o=a(r.slice(t-s,t),r.slice(t,t+s)),o)return o;return!1}function r1(r,t,n,s,a,o){return o=o??Gp(wn(),r,t,n,s),qe(a,o)?o[0]>=a[0]&&o[2]<=a[2]||o[1]>=a[1]&&o[3]<=a[3]?!0:hC(r,t,n,s,function(c,h){return hS(a,c,h)}):!1}function a1(r,t,n,s,a){return!!(r1(r,t,n,s,a)||$s(r,t,n,s,a[0],a[1])||$s(r,t,n,s,a[0],a[3])||$s(r,t,n,s,a[2],a[1])||$s(r,t,n,s,a[2],a[3]))}function fC(r,t,n,s,a){if(!a1(r,t,n[0],s,a))return!1;if(n.length===1)return!0;for(let o=1,c=n.length;o<c;++o)if(uC(r,n[o-1],n[o],s,a)&&!r1(r,n[o-1],n[o],s,a))return!1;return!0}function dC(r,t,n,s){for(;t<n-s;){for(let a=0;a<s;++a){const o=r[t+a];r[t+a]=r[n-s+a],r[n-s+a]=o}t+=s,n-=s}}function jd(r,t,n,s){let a=0,o=r[n-s],c=r[n-s+1];for(;t<n;t+=s){const h=r[t],d=r[t+1];a+=(h-o)*(d+c),o=h,c=d}return a===0?void 0:a>0}function gC(r,t,n,s,a){a=a!==void 0?a:!1;for(let o=0,c=n.length;o<c;++o){const h=n[o],d=jd(r,t,h,s);if(o===0){if(a&&d||!a&&!d)return!1}else if(a&&!d||!a&&d)return!1;t=h}return!0}function wy(r,t,n,s,a){a=a!==void 0?a:!1;for(let o=0,c=n.length;o<c;++o){const h=n[o],d=jd(r,t,h,s);(o===0?a&&d||!a&&!d:a&&!d||!a&&d)&&dC(r,t,h,s),t=h}return t}function mC(r,t){const n=[];let s=0,a=0,o;for(let c=0,h=t.length;c<h;++c){const d=t[c],g=jd(r,s,d,2);if(o===void 0&&(o=g),g===o)n.push(t.slice(a,c+1));else{if(n.length===0)continue;n[n.length-1].push(t[a])}a=c+1,s=d}return n}class Fl extends Bd{constructor(t,n,s){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&s?(this.setFlatCoordinates(n,t),this.ends_=s):this.setCoordinates(t,n)}appendLinearRing(t){this.flatCoordinates?Ad(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new Fl(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,s,a){return a<zp(this.getExtent(),t,n)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(iC(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),sC(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,n,s,a))}containsXY(t,n){return s1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,n)}getArea(){return nC(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),wy(n,0,this.ends_,this.stride,t)):n=this.flatCoordinates,Yu(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=nr(this.getExtent());this.flatInteriorPoint_=Pd(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new lc(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new Ul(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,n=this.flatCoordinates,s=this.ends_,a=[];let o=0;for(let c=0,h=s.length;c<h;++c){const d=s[c],g=new Ul(n.slice(o,d),t);a.push(g),o=d}return a}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;gC(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=wy(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const n=[],s=[];return n.length=i1(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,s),new Fl(n,"XY",s)}getType(){return"Polygon"}intersectsExtent(t){return fC(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const s=aC(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=s.length===0?0:s[s.length-1],this.changed()}}function by(r){if(sc(r))throw new Error("Cannot create polygon from empty extent");const t=r[0],n=r[1],s=r[2],a=r[3],o=[t,n,t,a,s,a,s,n,t,n];return new Fl(o,"XY",[o.length])}function Ay(r,t,n,s,a,o,c){let h,d;const g=(n-t)/s;if(g===1)h=t;else if(g===2)h=t,d=a;else if(g!==0){let _=r[t],y=r[t+1],p=0;const E=[0];for(let R=t+s;R<n;R+=s){const T=r[R],b=r[R+1];p+=Math.sqrt((T-_)*(T-_)+(b-y)*(b-y)),E.push(p),_=T,y=b}const x=a*p,C=Jx(E,x);C<0?(d=(x-E[-C-2])/(E[-C-1]-E[-C-2]),h=t+(-C-2)*s):h=t+C*s}c=c>1?c:2,o=o||new Array(c);for(let _=0;_<c;++_)o[_]=h===void 0?NaN:d===void 0?r[h+_]:Sn(r[h+_],r[h+s+_],d);return o}function _C(r,t,n,s){let a=r[t],o=r[t+1],c=0;for(let h=t+s;h<n;h+=s){const d=r[h],g=r[h+1];c+=Math.sqrt((d-a)*(d-a)+(g-o)*(g-o)),a=d,o=g}return c}const Cn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},Es=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",yC=Es.includes("firefox"),pC=Es.includes("safari")&&!Es.includes("chrom");pC&&(Es.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Es));const vC=Es.includes("webkit")&&!Es.includes("edge"),l1=Es.includes("macintosh"),o1=typeof devicePixelRatio<"u"?devicePixelRatio:1,u1=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,c1=typeof Image<"u"&&Image.prototype.decode,h1=function(){let r=!1;try{const t=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return r}(),Ct={IDLE:0,LOADING:1,LOADED:2,ERROR:3},My={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var Oy={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function EC(r){var _,y;var t,n=[],s=1,a;if(typeof r=="number")return{space:"rgb",values:[r>>>16,(r&65280)>>>8,r&255],alpha:1};if(typeof r=="number")return{space:"rgb",values:[r>>>16,(r&65280)>>>8,r&255],alpha:1};if(r=String(r).toLowerCase(),My[r])n=My[r].slice(),a="rgb";else if(r==="transparent")s=0,a="rgb",n=[0,0,0];else if(r[0]==="#"){var o=r.slice(1),c=o.length,h=c<=4;s=1,h?(n=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],c===4&&(s=parseInt(o[3]+o[3],16)/255)):(n=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],c===8&&(s=parseInt(o[6]+o[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),a="rgb"}else if(t=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(r)){var d=t[1];a=d.replace(/a$/,"");var g=a==="cmyk"?4:a==="gray"?1:3;n=t[2].trim().split(/\s*[,\/]\s*|\s+/),a==="color"&&(a=n.shift()),n=n.map(function(p,E){if(p[p.length-1]==="%")return p=parseFloat(p)/100,E===3?p:a==="rgb"?p*255:a[0]==="h"||a[0]==="l"&&!E?p*100:a==="lab"?p*125:a==="lch"?E<2?p*150:p*360:a[0]==="o"&&!E?p:a==="oklab"?p*.4:a==="oklch"?E<2?p*.4:p*360:p;if(a[E]==="h"||E===2&&a[a.length-1]==="h"){if(Oy[p]!==void 0)return Oy[p];if(p.endsWith("deg"))return parseFloat(p);if(p.endsWith("turn"))return parseFloat(p)*360;if(p.endsWith("grad"))return parseFloat(p)*360/400;if(p.endsWith("rad"))return parseFloat(p)*180/Math.PI}return p==="none"?0:parseFloat(p)}),s=n.length>g?n.pop():1}else/[0-9](?:\s|\/|,)/.test(r)&&(n=r.match(/([0-9]+)/g).map(function(p){return parseFloat(p)}),a=((y=(_=r.match(/([a-z])/ig))==null?void 0:_.join(""))==null?void 0:y.toLowerCase())||"rgb");return{space:a,values:n,alpha:s}}const Yl={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var Uf={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(r){var t=r[0]/360,n=r[1]/100,s=r[2]/100,a,o,c,h,d,g=0;if(n===0)return d=s*255,[d,d,d];for(o=s<.5?s*(1+n):s+n-s*n,a=2*s-o,h=[0,0,0];g<3;)c=t+1/3*-(g-1),c<0?c++:c>1&&c--,d=6*c<1?a+(o-a)*6*c:2*c<1?o:3*c<2?a+(o-a)*(2/3-c)*6:a,h[g++]=d*255;return h}};Yl.hsl=function(r){var t=r[0]/255,n=r[1]/255,s=r[2]/255,a=Math.min(t,n,s),o=Math.max(t,n,s),c=o-a,h,d,g;return o===a?h=0:t===o?h=(n-s)/c:n===o?h=2+(s-t)/c:s===o&&(h=4+(t-n)/c),h=Math.min(h*60,360),h<0&&(h+=360),g=(a+o)/2,o===a?d=0:g<=.5?d=c/(o+a):d=c/(2-o-a),[h,d*100,g*100]};function xC(r){Array.isArray(r)&&r.raw&&(r=String.raw(...arguments)),r instanceof Number&&(r=+r);var t,n=EC(r);if(!n.space)return[];const s=n.space[0]==="h"?Uf.min:Yl.min,a=n.space[0]==="h"?Uf.max:Yl.max;return t=Array(3),t[0]=Math.min(Math.max(n.values[0],s[0]),a[0]),t[1]=Math.min(Math.max(n.values[1],s[1]),a[1]),t[2]=Math.min(Math.max(n.values[2],s[2]),a[2]),n.space[0]==="h"&&(t=Uf.rgb(t)),t.push(Math.min(Math.max(n.alpha,0),1)),t}const Ie={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};Ie.max=Ie.whitepoint[2].D65;Ie.rgb=function(r,t){t=t||Ie.whitepoint[2].E;var n=r[0]/t[0],s=r[1]/t[1],a=r[2]/t[2],o,c,h;return o=n*3.240969941904521+s*-1.537383177570093+a*-.498610760293,c=n*-.96924363628087+s*1.87596750150772+a*.041555057407175,h=n*.055630079696993+s*-.20397695888897+a*1.056971514242878,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,c=c>.0031308?1.055*Math.pow(c,1/2.4)-.055:c=c*12.92,h=h>.0031308?1.055*Math.pow(h,1/2.4)-.055:h=h*12.92,o=Math.min(Math.max(0,o),1),c=Math.min(Math.max(0,c),1),h=Math.min(Math.max(0,h),1),[o*255,c*255,h*255]};Yl.xyz=function(r,t){var n=r[0]/255,s=r[1]/255,a=r[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,s=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92;var o=n*.41239079926595+s*.35758433938387+a*.18048078840183,c=n*.21263900587151+s*.71516867876775+a*.072192315360733,h=n*.019330818715591+s*.11919477979462+a*.95053215224966;return t=t||Ie.whitepoint[2].E,[o*t[0],c*t[1],h*t[2]]};var Zd={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(r,t,n){var s,a,o,c,h,d,g,_,y,p,E,x,C;if(o=r[0],c=r[1],h=r[2],o===0)return[0,0,0];var R=.0011070564598794539;return t=t||"D65",n=n||2,y=Ie.whitepoint[n][t][0],p=Ie.whitepoint[n][t][1],E=Ie.whitepoint[n][t][2],x=4*y/(y+15*p+3*E),C=9*p/(y+15*p+3*E),s=c/(13*o)+x||0,a=h/(13*o)+C||0,g=o>8?p*Math.pow((o+16)/116,3):p*o*R,d=g*9*s/(4*a)||0,_=g*(12-3*s-20*a)/(4*a)||0,[d,g,_]}};Ie.luv=function(r,t,n){var s,a,o,c,h,d,g,_,y,p,E,x,C,R=.008856451679035631,T=903.2962962962961;t=t||"D65",n=n||2,y=Ie.whitepoint[n][t][0],p=Ie.whitepoint[n][t][1],E=Ie.whitepoint[n][t][2],x=4*y/(y+15*p+3*E),C=9*p/(y+15*p+3*E),d=r[0],g=r[1],_=r[2],s=4*d/(d+15*g+3*_)||0,a=9*g/(d+15*g+3*_)||0;var b=g/p;return o=b<=R?T*b:116*Math.pow(b,1/3)-16,c=13*o*(s-x),h=13*o*(a-C),[o,c,h]};var f1={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(r){var t=r[0],n=r[1],s=r[2],a,o,c;return c=s/360*2*Math.PI,a=n*Math.cos(c),o=n*Math.sin(c),[t,a,o]},xyz:function(r){return Zd.xyz(f1.luv(r))}};Zd.lchuv=function(r){var t=r[0],n=r[1],s=r[2],a=Math.sqrt(n*n+s*s),o=Math.atan2(s,n),c=o*360/2/Math.PI;return c<0&&(c+=360),[t,a,c]};Ie.lchuv=function(r){return Zd.lchuv(Ie.luv(r))};const Vd=[NaN,NaN,NaN,0];function SC(r){return typeof r=="string"?r:Kd(r)}const CC=1024,Sl={};let Ff=0;function RC(r){if(r.length===4)return r;const t=r.slice();return t[3]=1,t}function Dy(r){const t=Ie.lchuv(Yl.xyz(r));return t[3]=r[3],t}function TC(r){const t=Ie.rgb(f1.xyz(r));return t[3]=r[3],t}function qd(r){if(r==="none")return Vd;if(Sl.hasOwnProperty(r))return Sl[r];if(Ff>=CC){let n=0;for(const s in Sl)(n++&3)===0&&(delete Sl[s],--Ff)}const t=xC(r);if(t.length!==4)throw new Error('failed to parse "'+r+'" as color');for(const n of t)if(isNaN(n))throw new Error('failed to parse "'+r+'" as color');return d1(t),Sl[r]=t,++Ff,t}function ga(r){return Array.isArray(r)?r:qd(r)}function d1(r){return r[0]=le(r[0]+.5|0,0,255),r[1]=le(r[1]+.5|0,0,255),r[2]=le(r[2]+.5|0,0,255),r[3]=le(r[3],0,1),r}function Kd(r){let t=r[0];t!=(t|0)&&(t=t+.5|0);let n=r[1];n!=(n|0)&&(n=n+.5|0);let s=r[2];s!=(s|0)&&(s=s+.5|0);const a=r[3]===void 0?1:Math.round(r[3]*1e3)/1e3;return"rgba("+t+","+n+","+s+","+a+")"}function ve(r,t,n,s){let a;return n&&n.length?a=n.shift():u1?a=new OffscreenCanvas(r||300,t||300):a=document.createElement("canvas"),r&&(a.width=r),t&&(a.height=t),a.getContext("2d",s)}let Yf;function Xu(){return Yf||(Yf=ve(1,1)),Yf}function oc(r){const t=r.canvas;t.width=1,t.height=1,r.clearRect(0,0,1,1)}function Ly(r,t){const n=t.parentNode;n&&n.replaceChild(r,t)}function wC(r){for(;r.lastChild;)r.lastChild.remove()}function bC(r,t){const n=r.childNodes;for(let s=0;;++s){const a=n[s],o=t[s];if(!a&&!o)break;if(a!==o){if(!a){r.appendChild(o);continue}if(!o){r.removeChild(a),--s;continue}r.insertBefore(o,a)}}}function AC(r,t,n){const s=r;let a=!0,o=!1,c=!1;const h=[Nu(s,vt.LOAD,function(){c=!0,o||t()})];return s.src&&c1?(o=!0,s.decode().then(function(){a&&t()}).catch(function(d){a&&(c?t():n())})):h.push(Nu(s,vt.ERROR,n)),function(){a=!1,h.forEach(Kt)}}function MC(r,t){return new Promise((n,s)=>{function a(){c(),n(r)}function o(){c(),s(new Error("Image load error"))}function c(){r.removeEventListener("load",a),r.removeEventListener("error",o)}r.addEventListener("load",a),r.addEventListener("error",o)})}function OC(r,t){return t&&(r.src=t),r.src&&c1?new Promise((n,s)=>r.decode().then(()=>n(r)).catch(a=>r.complete&&r.width?n(r):s(a))):MC(r)}class DC{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const n in this.cache_){const s=this.cache_[n];(t++&3)===0&&!s.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(t,n,s){const a=Xf(t,n,s);return a in this.cache_?this.cache_[a]:null}getPattern(t,n,s){const a=Xf(t,n,s);return a in this.patternCache_?this.patternCache_[a]:null}set(t,n,s,a,o){const c=Xf(t,n,s),h=c in this.cache_;this.cache_[c]=a,o&&(a.getImageState()===Ct.IDLE&&a.load(),a.getImageState()===Ct.LOADING?a.ready().then(()=>{this.patternCache_[c]=Xu().createPattern(a.getImage(1),"repeat")}):this.patternCache_[c]=Xu().createPattern(a.getImage(1),"repeat")),h||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function Xf(r,t,n){const s=n?ga(n):"null";return t+":"+r+":"+s}const Rn=new DC;let Cl=null;class g1 extends Ju{constructor(t,n,s,a,o){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=s,this.canvas_={},this.color_=o,this.imageState_=a===void 0?Ct.IDLE:a,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Ct.LOADED){Cl||(Cl=ve(1,1,void 0,{willReadFrequently:!0})),Cl.drawImage(this.image_,0,0);try{Cl.getImageData(0,0,1,1),this.tainted_=!1}catch{Cl=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(vt.CHANGE)}handleImageError_(){this.imageState_=Ct.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Ct.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],n=this.size_[1],s=ve(t,n);s.fillRect(0,0,t,n),this.hitDetectionImage_=s.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Ct.IDLE){this.image_||this.initializeImage_(),this.imageState_=Ct.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&OC(this.image_,this.src_).then(t=>{this.image_=t,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==Ct.LOADED)return;const n=this.image_,s=ve(Math.ceil(n.width*t),Math.ceil(n.height*t)),a=s.canvas;s.scale(t,t),s.drawImage(n,0,0),s.globalCompositeOperation="multiply",s.fillStyle=SC(this.color_),s.fillRect(0,0,a.width/t,a.height/t),s.globalCompositeOperation="destination-in",s.drawImage(n,0,0),this.canvas_[t]=a}ready(){return this.ready_||(this.ready_=new Promise(t=>{if(this.imageState_===Ct.LOADED||this.imageState_===Ct.ERROR)t();else{const n=()=>{(this.imageState_===Ct.LOADED||this.imageState_===Ct.ERROR)&&(this.removeEventListener(vt.CHANGE,n),t())};this.addEventListener(vt.CHANGE,n)}})),this.ready_}}function Wd(r,t,n,s,a,o){let c=t===void 0?void 0:Rn.get(t,n,a);return c||(c=new g1(r,r&&"src"in r?r.src||void 0:t,n,s,a),Rn.set(t,n,a,c,o)),o&&c&&!Rn.getPattern(t,n,a)&&Rn.set(t,n,a,c,o),c}function ti(r){return r?Array.isArray(r)?Kd(r):typeof r=="object"&&"src"in r?LC(r):r:null}function LC(r){if(!r.offset||!r.size)return Rn.getPattern(r.src,"anonymous",r.color);const t=r.src+":"+r.offset,n=Rn.getPattern(t,void 0,r.color);if(n)return n;const s=Rn.get(r.src,"anonymous",null);if(s.getImageState()!==Ct.LOADED)return null;const a=ve(r.size[0],r.size[1]);return a.drawImage(s.getImage(1),r.offset[0],r.offset[1],r.size[0],r.size[1],0,0,r.size[0],r.size[1]),Wd(a.canvas,t,void 0,Ct.LOADED,r.color,!0),Rn.getPattern(t,void 0,r.color)}class m1{drawCustom(t,n,s,a,o){}drawGeometry(t){}setStyle(t){}drawCircle(t,n,s){}drawFeature(t,n,s){}drawGeometryCollection(t,n,s){}drawLineString(t,n,s){}drawMultiLineString(t,n,s){}drawMultiPoint(t,n,s){}drawMultiPolygon(t,n,s){}drawPoint(t,n,s){}drawPolygon(t,n,s){}drawText(t,n,s){}setFillStrokeStyle(t,n){}setImageStyle(t,n){}setTextStyle(t,n){}}const Ru="ol-hidden",uc="ol-unselectable",Qd="ol-control",Iy="ol-collapsed",IC=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),zy=["style","variant","weight","size","lineHeight","family"],_1=function(r){const t=r.match(IC);if(!t)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let s=0,a=zy.length;s<a;++s){const o=t[s+1];o!==void 0&&(n[zy[s]]=o)}return n.families=n.family.split(/,\s?/),n},y1="10px sans-serif",Ze="#000",ma="round",Di=[],Li=0,_a="round",Xl=10,Bl="#000",Hl="center",Bu="middle",Js=[0,0,0,0],Pl=1,bi=new ii;let Qr=null,dd;const gd={},zC=function(){const t="32px ",n=["monospace","serif"],s=n.length,a="wmytzilWMYTZIL@#/&?$%10";let o,c;function h(g,_,y){let p=!0;for(let E=0;E<s;++E){const x=n[E];if(c=Hu(g+" "+_+" "+t+x,a),y!=x){const C=Hu(g+" "+_+" "+t+y+","+x,a);p=p&&C!=c}}return!!p}function d(){let g=!0;const _=bi.getKeys();for(let y=0,p=_.length;y<p;++y){const E=_[y];if(bi.get(E)<100){const[x,C,R]=E.split(`
`);h(x,C,R)?($l(gd),Qr=null,dd=void 0,bi.set(E,100)):(bi.set(E,bi.get(E)+1,!0),g=!1)}}g&&(clearInterval(o),o=void 0)}return function(g){const _=_1(g);if(!_)return;const y=_.families;for(let p=0,E=y.length;p<E;++p){const x=y[p],C=_.style+`
`+_.weight+`
`+x;bi.get(C)===void 0&&(bi.set(C,100,!0),h(_.style,_.weight,x)||(bi.set(C,0,!0),o===void 0&&(o=setInterval(d,32))))}}}(),NC=function(){let r;return function(t){let n=gd[t];if(n==null){if(u1){const s=_1(t),a=p1(t,"g");n=(isNaN(Number(s.lineHeight))?1.2:Number(s.lineHeight))*(a.actualBoundingBoxAscent+a.actualBoundingBoxDescent)}else r||(r=document.createElement("div"),r.innerHTML="M",r.style.minHeight="0",r.style.maxHeight="none",r.style.height="auto",r.style.padding="0",r.style.border="none",r.style.position="absolute",r.style.display="block",r.style.left="-99999px"),r.style.font=t,document.body.appendChild(r),n=r.offsetHeight,document.body.removeChild(r);gd[t]=n}return n}}();function p1(r,t){return Qr||(Qr=ve(1,1)),r!=dd&&(Qr.font=r,dd=Qr.font),Qr.measureText(t)}function Hu(r,t){return p1(r,t).width}function Ny(r,t,n){if(t in n)return n[t];const s=t.split(`
`).reduce((a,o)=>Math.max(a,Hu(r,o)),0);return n[t]=s,s}function kC(r,t){const n=[],s=[],a=[];let o=0,c=0,h=0,d=0;for(let g=0,_=t.length;g<=_;g+=2){const y=t[g];if(y===`
`||g===_){o=Math.max(o,c),a.push(c),c=0,h+=d,d=0;continue}const p=t[g+1]||r.font,E=Hu(p,y);n.push(E),c+=E;const x=NC(p);s.push(x),d=Math.max(d,x)}return{width:o,height:h,widths:n,heights:s,lineWidths:a}}function GC(r,t,n,s,a,o,c,h,d,g,_){r.save(),n!==1&&(r.globalAlpha===void 0?r.globalAlpha=y=>y.globalAlpha*=n:r.globalAlpha*=n),t&&r.transform.apply(r,t),s.contextInstructions?(r.translate(d,g),r.scale(_[0],_[1]),UC(s,r)):_[0]<0||_[1]<0?(r.translate(d,g),r.scale(_[0],_[1]),r.drawImage(s,a,o,c,h,0,0,c,h)):r.drawImage(s,a,o,c,h,d,g,c*_[0],h*_[1]),r.restore()}function UC(r,t){const n=r.contextInstructions;for(let s=0,a=n.length;s<a;s+=2)Array.isArray(n[s+1])?t[n[s]].apply(t,n[s+1]):t[n[s]]=n[s+1]}class FC extends m1{constructor(t,n,s,a,o,c,h){super(),this.context_=t,this.pixelRatio_=n,this.extent_=s,this.transform_=a,this.transformRotation_=a?Ld(Math.atan2(a[1],a[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=c,this.userTransform_=h,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Fn()}drawImages_(t,n,s,a){if(!this.image_)return;const o=ys(t,n,s,a,this.transform_,this.pixelCoordinates_),c=this.context_,h=this.tmpLocalTransform_,d=c.globalAlpha;this.imageOpacity_!=1&&(c.globalAlpha=d*this.imageOpacity_);let g=this.imageRotation_;this.transformRotation_===0&&(g-=this.viewRotation_),this.imageRotateWithView_&&(g+=this.viewRotation_);for(let _=0,y=o.length;_<y;_+=2){const p=o[_]-this.imageAnchorX_,E=o[_+1]-this.imageAnchorY_;if(g!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const x=p+this.imageAnchorX_,C=E+this.imageAnchorY_;zi(h,x,C,1,1,g,-x,-C),c.save(),c.transform.apply(c,h),c.translate(x,C),c.scale(this.imageScale_[0],this.imageScale_[1]),c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),c.restore()}else c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,E,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(c.globalAlpha=d)}drawText_(t,n,s,a){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const o=ys(t,n,s,a,this.transform_,this.pixelCoordinates_),c=this.context_;let h=this.textRotation_;for(this.transformRotation_===0&&(h-=this.viewRotation_),this.textRotateWithView_&&(h+=this.viewRotation_);n<s;n+=a){const d=o[n]+this.textOffsetX_,g=o[n+1]+this.textOffsetY_;h!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(c.save(),c.translate(d-this.textOffsetX_,g-this.textOffsetY_),c.rotate(h),c.translate(this.textOffsetX_,this.textOffsetY_),c.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&c.strokeText(this.text_,0,0),this.textFillState_&&c.fillText(this.text_,0,0),c.restore()):(this.textStrokeState_&&c.strokeText(this.text_,d,g),this.textFillState_&&c.fillText(this.text_,d,g))}}moveToLineTo_(t,n,s,a,o){const c=this.context_,h=ys(t,n,s,a,this.transform_,this.pixelCoordinates_);c.moveTo(h[0],h[1]);let d=h.length;o&&(d-=2);for(let g=2;g<d;g+=2)c.lineTo(h[g],h[g+1]);return o&&c.closePath(),s}drawRings_(t,n,s,a){for(let o=0,c=s.length;o<c;++o)n=this.moveToLineTo_(t,n,s[o],a,!0);return n}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qe(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=eC(t,this.transform_,this.pixelCoordinates_),s=n[2]-n[0],a=n[3]-n[1],o=Math.sqrt(s*s+a*a),c=this.context_;c.beginPath(),c.arc(n[0],n[1],o,0,2*Math.PI),this.fillState_&&c.fill(),this.strokeState_&&c.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break}}drawFeature(t,n){const s=n.getGeometryFunction()(t);s&&(this.setStyle(n),this.drawGeometry(s))}drawGeometryCollection(t){const n=t.getGeometriesArray();for(let s=0,a=n.length;s<a;++s)this.drawGeometry(n[s])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),s=t.getStride();this.image_&&this.drawImages_(n,0,n.length,s),this.text_!==""&&this.drawText_(n,0,n.length,s)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),s=t.getStride();this.image_&&this.drawImages_(n,0,n.length,s),this.text_!==""&&this.drawText_(n,0,n.length,s)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qe(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,s=t.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(s,0,s.length,t.getStride(),!1),n.stroke()}if(this.text_!==""){const n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getExtent();if(qe(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const s=this.context_,a=t.getFlatCoordinates();let o=0;const c=t.getEnds(),h=t.getStride();s.beginPath();for(let d=0,g=c.length;d<g;++d)o=this.moveToLineTo_(a,o,c[d],h,!1);s.stroke()}if(this.text_!==""){const s=t.getFlatMidpoints();this.drawText_(s,0,s.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qe(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qe(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,s=t.getOrientedFlatCoordinates();let a=0;const o=t.getEndss(),c=t.getStride();n.beginPath();for(let h=0,d=o.length;h<d;++h){const g=o[h];a=this.drawRings_(s,a,g,c)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(t){const n=this.context_,s=this.contextFillState_;s?s.fillStyle!=t.fillStyle&&(s.fillStyle=t.fillStyle,n.fillStyle=t.fillStyle):(n.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const n=this.context_,s=this.contextStrokeState_;s?(s.lineCap!=t.lineCap&&(s.lineCap=t.lineCap,n.lineCap=t.lineCap),xs(s.lineDash,t.lineDash)||n.setLineDash(s.lineDash=t.lineDash),s.lineDashOffset!=t.lineDashOffset&&(s.lineDashOffset=t.lineDashOffset,n.lineDashOffset=t.lineDashOffset),s.lineJoin!=t.lineJoin&&(s.lineJoin=t.lineJoin,n.lineJoin=t.lineJoin),s.lineWidth!=t.lineWidth&&(s.lineWidth=t.lineWidth,n.lineWidth=t.lineWidth),s.miterLimit!=t.miterLimit&&(s.miterLimit=t.miterLimit,n.miterLimit=t.miterLimit),s.strokeStyle!=t.strokeStyle&&(s.strokeStyle=t.strokeStyle,n.strokeStyle=t.strokeStyle)):(n.lineCap=t.lineCap,n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset,n.lineJoin=t.lineJoin,n.lineWidth=t.lineWidth,n.miterLimit=t.miterLimit,n.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const n=this.context_,s=this.contextTextState_,a=t.textAlign?t.textAlign:Hl;s?(s.font!=t.font&&(s.font=t.font,n.font=t.font),s.textAlign!=a&&(s.textAlign=a,n.textAlign=a),s.textBaseline!=t.textBaseline&&(s.textBaseline=t.textBaseline,n.textBaseline=t.textBaseline)):(n.font=t.font,n.textAlign=a,n.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:a,textBaseline:t.textBaseline})}setFillStrokeStyle(t,n){if(!t)this.fillState_=null;else{const s=t.getColor();this.fillState_={fillStyle:ti(s||Ze)}}if(!n)this.strokeState_=null;else{const s=n.getColor(),a=n.getLineCap(),o=n.getLineDash(),c=n.getLineDashOffset(),h=n.getLineJoin(),d=n.getWidth(),g=n.getMiterLimit(),_=o||Di;this.strokeState_={lineCap:a!==void 0?a:ma,lineDash:this.pixelRatio_===1?_:_.map(y=>y*this.pixelRatio_),lineDashOffset:(c||Li)*this.pixelRatio_,lineJoin:h!==void 0?h:_a,lineWidth:(d!==void 0?d:Pl)*this.pixelRatio_,miterLimit:g!==void 0?g:Xl,strokeStyle:ti(s||Bl)}}}setImageStyle(t){let n;if(!t||!(n=t.getSize())){this.image_=null;return}const s=t.getPixelRatio(this.pixelRatio_),a=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=a[0]*s,this.imageAnchorY_=a[1]*s,this.imageHeight_=n[1]*s,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const c=t.getScaleArray();this.imageScale_=[c[0]*this.pixelRatio_/s,c[1]*this.pixelRatio_/s],this.imageWidth_=n[0]*s}setTextStyle(t){if(!t)this.text_="";else{const n=t.getFill();if(!n)this.textFillState_=null;else{const E=n.getColor();this.textFillState_={fillStyle:ti(E||Ze)}}const s=t.getStroke();if(!s)this.textStrokeState_=null;else{const E=s.getColor(),x=s.getLineCap(),C=s.getLineDash(),R=s.getLineDashOffset(),T=s.getLineJoin(),b=s.getWidth(),O=s.getMiterLimit();this.textStrokeState_={lineCap:x!==void 0?x:ma,lineDash:C||Di,lineDashOffset:R||Li,lineJoin:T!==void 0?T:_a,lineWidth:b!==void 0?b:Pl,miterLimit:O!==void 0?O:Xl,strokeStyle:ti(E||Bl)}}const a=t.getFont(),o=t.getOffsetX(),c=t.getOffsetY(),h=t.getRotateWithView(),d=t.getRotation(),g=t.getScaleArray(),_=t.getText(),y=t.getTextAlign(),p=t.getTextBaseline();this.textState_={font:a!==void 0?a:y1,textAlign:y!==void 0?y:Hl,textBaseline:p!==void 0?p:Bu},this.text_=_!==void 0?Array.isArray(_)?_.reduce((E,x,C)=>E+=C%2?" ":x,""):_:"",this.textOffsetX_=o!==void 0?this.pixelRatio_*o:0,this.textOffsetY_=c!==void 0?this.pixelRatio_*c:0,this.textRotateWithView_=h!==void 0?h:!1,this.textRotation_=d!==void 0?d:0,this.textScale_=[this.pixelRatio_*g[0],this.pixelRatio_*g[1]]}}}const YC=.5,v1={Point:qC,LineString:jC,Polygon:WC,MultiPoint:KC,MultiLineString:ZC,MultiPolygon:VC,GeometryCollection:PC,Circle:BC};function XC(r,t){return parseInt(kt(r),10)-parseInt(kt(t),10)}function ky(r,t){const n=E1(r,t);return n*n}function E1(r,t){return YC*r/t}function BC(r,t,n,s,a){const o=n.getFill(),c=n.getStroke();if(o||c){const d=r.getBuilder(n.getZIndex(),"Circle");d.setFillStrokeStyle(o,c),d.drawCircle(t,s,a)}const h=n.getText();if(h&&h.getText()){const d=r.getBuilder(n.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s)}}function Gy(r,t,n,s,a,o,c,h){const d=[],g=n.getImage();if(g){let p=!0;const E=g.getImageState();E==Ct.LOADED||E==Ct.ERROR?p=!1:E==Ct.IDLE&&g.load(),p&&d.push(g.ready())}const _=n.getFill();_&&_.loading()&&d.push(_.ready());const y=d.length>0;return y&&Promise.all(d).then(()=>a(null)),HC(r,t,n,s,o,c,h),y}function HC(r,t,n,s,a,o,c){const h=n.getGeometryFunction()(t);if(!h)return;const d=h.simplifyTransformed(s,a);if(n.getRenderer())x1(r,d,n,t,c);else{const _=v1[d.getType()];_(r,d,n,t,c,o)}}function x1(r,t,n,s,a){if(t.getType()=="GeometryCollection"){const c=t.getGeometries();for(let h=0,d=c.length;h<d;++h)x1(r,c[h],n,s,a);return}r.getBuilder(n.getZIndex(),"Default").drawCustom(t,s,n.getRenderer(),n.getHitDetectionRenderer(),a)}function PC(r,t,n,s,a,o){const c=t.getGeometriesArray();let h,d;for(h=0,d=c.length;h<d;++h){const g=v1[c[h].getType()];g(r,c[h],n,s,a,o)}}function jC(r,t,n,s,a){const o=n.getStroke();if(o){const h=r.getBuilder(n.getZIndex(),"LineString");h.setFillStrokeStyle(null,o),h.drawLineString(t,s,a)}const c=n.getText();if(c&&c.getText()){const h=r.getBuilder(n.getZIndex(),"Text");h.setTextStyle(c),h.drawText(t,s,a)}}function ZC(r,t,n,s,a){const o=n.getStroke();if(o){const h=r.getBuilder(n.getZIndex(),"LineString");h.setFillStrokeStyle(null,o),h.drawMultiLineString(t,s,a)}const c=n.getText();if(c&&c.getText()){const h=r.getBuilder(n.getZIndex(),"Text");h.setTextStyle(c),h.drawText(t,s,a)}}function VC(r,t,n,s,a){const o=n.getFill(),c=n.getStroke();if(c||o){const d=r.getBuilder(n.getZIndex(),"Polygon");d.setFillStrokeStyle(o,c),d.drawMultiPolygon(t,s,a)}const h=n.getText();if(h&&h.getText()){const d=r.getBuilder(n.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s,a)}}function qC(r,t,n,s,a,o){const c=n.getImage(),h=n.getText(),d=h&&h.getText(),g=o&&c&&d?{}:void 0;if(c){if(c.getImageState()!=Ct.LOADED)return;const _=r.getBuilder(n.getZIndex(),"Image");_.setImageStyle(c,g),_.drawPoint(t,s,a)}if(d){const _=r.getBuilder(n.getZIndex(),"Text");_.setTextStyle(h,g),_.drawText(t,s,a)}}function KC(r,t,n,s,a,o){const c=n.getImage(),h=c&&c.getOpacity()!==0,d=n.getText(),g=d&&d.getText(),_=o&&h&&g?{}:void 0;if(h){if(c.getImageState()!=Ct.LOADED)return;const y=r.getBuilder(n.getZIndex(),"Image");y.setImageStyle(c,_),y.drawMultiPoint(t,s,a)}if(g){const y=r.getBuilder(n.getZIndex(),"Text");y.setTextStyle(d,_),y.drawText(t,s,a)}}function WC(r,t,n,s,a){const o=n.getFill(),c=n.getStroke();if(o||c){const d=r.getBuilder(n.getZIndex(),"Polygon");d.setFillStrokeStyle(o,c),d.drawPolygon(t,s,a)}const h=n.getText();if(h&&h.getText()){const d=r.getBuilder(n.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s,a)}}let QC=!1;function $C(r,t,n,s,a,o,c){const h=new XMLHttpRequest;h.open("GET",typeof r=="function"?r(n,s,a):r,!0),t.getType()=="arraybuffer"&&(h.responseType="arraybuffer"),h.withCredentials=QC,h.onload=function(d){if(!h.status||h.status>=200&&h.status<300){const g=t.getType();try{let _;g=="text"||g=="json"?_=h.responseText:g=="xml"?_=h.responseXML||h.responseText:g=="arraybuffer"&&(_=h.response),_?o(t.readFeatures(_,{extent:n,featureProjection:a}),t.readProjection(_)):c()}catch{c()}}else c()},h.onerror=c,h.send()}function Uy(r,t){return function(n,s,a,o,c){$C(r,t,n,s,a,(h,d)=>{this.addFeatures(h),o!==void 0&&o(h)},c||ca)}}function JC(r,t){return[[-1/0,-1/0,1/0,1/0]]}function tR(r,t,n,s){const a=[];let o=wn();for(let c=0,h=n.length;c<h;++c){const d=n[c];o=Dd(r,t,d[0],s),a.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=d[d.length-1]}return a}const Fy=Fn();class kn{constructor(t,n,s,a,o,c){this.styleFunction,this.extent_,this.id_=c,this.type_=t,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=s||null,this.properties_=o,this.squaredTolerance_,this.stride_=a,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?kp(this.flatCoordinates_):Dd(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=nr(this.getExtent());this.flatInteriorPoints_=Pd(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=mC(this.flatCoordinates_,this.ends_),n=tR(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=cC(this.flatCoordinates_,0,t,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Ay(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let n=0;const s=this.ends_;for(let a=0,o=s.length;a<o;++a){const c=s[a],h=Ay(t,n,c,2,.5);Ad(this.flatMidpoints_,h),n=c}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){t=Qe(t);const n=t.getExtent(),s=t.getWorldExtent();if(n&&s){const a=Ye(s)/Ye(n);zi(Fy,s[0],s[3],a,-a,0,0,0),ys(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Fy,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var t;return new kn(this.type_,this.flatCoordinates_.slice(),(t=this.ends_)==null?void 0:t.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=Lp((t,n)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const s=this.simplifiedGeometry_.getFlatCoordinates();let a;switch(this.type_){case"LineString":s.length=Hd(s,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,s,0),a=[s.length];break;case"MultiLineString":a=[],s.length=lC(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,s,0,a);break;case"Polygon":a=[],s.length=i1(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),s,0,a);break}return a&&(this.simplifiedGeometry_=new kn(this.type_,s,a,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_}),this}}kn.prototype.getFlatCoordinates=kn.prototype.getOrientedFlatCoordinates;function S1(r,t,n=0,s=r.length-1,a=eR){for(;s>n;){if(s-n>600){const d=s-n+1,g=t-n+1,_=Math.log(d),y=.5*Math.exp(2*_/3),p=.5*Math.sqrt(_*y*(d-y)/d)*(g-d/2<0?-1:1),E=Math.max(n,Math.floor(t-g*y/d+p)),x=Math.min(s,Math.floor(t+(d-g)*y/d+p));S1(r,t,E,x,a)}const o=r[t];let c=n,h=s;for(Rl(r,n,t),a(r[s],o)>0&&Rl(r,n,s);c<h;){for(Rl(r,c,h),c++,h--;a(r[c],o)<0;)c++;for(;a(r[h],o)>0;)h--}a(r[n],o)===0?Rl(r,n,h):(h++,Rl(r,h,s)),h<=t&&(n=h+1),t<=h&&(s=h-1)}}function Rl(r,t,n){const s=r[t];r[t]=r[n],r[n]=s}function eR(r,t){return r<t?-1:r>t?1:0}let C1=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let n=this.data;const s=[];if(!wu(t,n))return s;const a=this.toBBox,o=[];for(;n;){for(let c=0;c<n.children.length;c++){const h=n.children[c],d=n.leaf?a(h):h;wu(t,d)&&(n.leaf?s.push(h):Hf(t,d)?this._all(h,s):o.push(h))}n=o.pop()}return s}collides(t){let n=this.data;if(!wu(t,n))return!1;const s=[];for(;n;){for(let a=0;a<n.children.length;a++){const o=n.children[a],c=n.leaf?this.toBBox(o):o;if(wu(t,c)){if(n.leaf||Hf(t,c))return!0;s.push(o)}}n=s.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let s=0;s<t.length;s++)this.insert(t[s]);return this}let n=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const s=this.data;this.data=n,n=s}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=$r([]),this}remove(t,n){if(!t)return this;let s=this.data;const a=this.toBBox(t),o=[],c=[];let h,d,g;for(;s||o.length;){if(s||(s=o.pop(),d=o[o.length-1],h=c.pop(),g=!0),s.leaf){const _=nR(t,s.children,n);if(_!==-1)return s.children.splice(_,1),o.push(s),this._condense(o),this}!g&&!s.leaf&&Hf(s,a)?(o.push(s),c.push(h),h=0,d=s,s=s.children[0]):d?(h++,s=d.children[h],g=!1):s=null}return this}toBBox(t){return t}compareMinX(t,n){return t.minX-n.minX}compareMinY(t,n){return t.minY-n.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){const s=[];for(;t;)t.leaf?n.push(...t.children):s.push(...t.children),t=s.pop();return n}_build(t,n,s,a){const o=s-n+1;let c=this._maxEntries,h;if(o<=c)return h=$r(t.slice(n,s+1)),Pr(h,this.toBBox),h;a||(a=Math.ceil(Math.log(o)/Math.log(c)),c=Math.ceil(o/Math.pow(c,a-1))),h=$r([]),h.leaf=!1,h.height=a;const d=Math.ceil(o/c),g=d*Math.ceil(Math.sqrt(c));Yy(t,n,s,g,this.compareMinX);for(let _=n;_<=s;_+=g){const y=Math.min(_+g-1,s);Yy(t,_,y,d,this.compareMinY);for(let p=_;p<=y;p+=d){const E=Math.min(p+d-1,y);h.children.push(this._build(t,p,E,a-1))}}return Pr(h,this.toBBox),h}_chooseSubtree(t,n,s,a){for(;a.push(n),!(n.leaf||a.length-1===s);){let o=1/0,c=1/0,h;for(let d=0;d<n.children.length;d++){const g=n.children[d],_=Bf(g),y=rR(t,g)-_;y<c?(c=y,o=_<o?_:o,h=g):y===c&&_<o&&(o=_,h=g)}n=h||n.children[0]}return n}_insert(t,n,s){const a=s?t:this.toBBox(t),o=[],c=this._chooseSubtree(a,this.data,n,o);for(c.children.push(t),Al(c,a);n>=0&&o[n].children.length>this._maxEntries;)this._split(o,n),n--;this._adjustParentBBoxes(a,o,n)}_split(t,n){const s=t[n],a=s.children.length,o=this._minEntries;this._chooseSplitAxis(s,o,a);const c=this._chooseSplitIndex(s,o,a),h=$r(s.children.splice(c,s.children.length-c));h.height=s.height,h.leaf=s.leaf,Pr(s,this.toBBox),Pr(h,this.toBBox),n?t[n-1].children.push(h):this._splitRoot(s,h)}_splitRoot(t,n){this.data=$r([t,n]),this.data.height=t.height+1,this.data.leaf=!1,Pr(this.data,this.toBBox)}_chooseSplitIndex(t,n,s){let a,o=1/0,c=1/0;for(let h=n;h<=s-n;h++){const d=bl(t,0,h,this.toBBox),g=bl(t,h,s,this.toBBox),_=aR(d,g),y=Bf(d)+Bf(g);_<o?(o=_,a=h,c=y<c?y:c):_===o&&y<c&&(c=y,a=h)}return a||s-n}_chooseSplitAxis(t,n,s){const a=t.leaf?this.compareMinX:iR,o=t.leaf?this.compareMinY:sR,c=this._allDistMargin(t,n,s,a),h=this._allDistMargin(t,n,s,o);c<h&&t.children.sort(a)}_allDistMargin(t,n,s,a){t.children.sort(a);const o=this.toBBox,c=bl(t,0,n,o),h=bl(t,s-n,s,o);let d=Tu(c)+Tu(h);for(let g=n;g<s-n;g++){const _=t.children[g];Al(c,t.leaf?o(_):_),d+=Tu(c)}for(let g=s-n-1;g>=n;g--){const _=t.children[g];Al(h,t.leaf?o(_):_),d+=Tu(h)}return d}_adjustParentBBoxes(t,n,s){for(let a=s;a>=0;a--)Al(n[a],t)}_condense(t){for(let n=t.length-1,s;n>=0;n--)t[n].children.length===0?n>0?(s=t[n-1].children,s.splice(s.indexOf(t[n]),1)):this.clear():Pr(t[n],this.toBBox)}};function nR(r,t,n){if(!n)return t.indexOf(r);for(let s=0;s<t.length;s++)if(n(r,t[s]))return s;return-1}function Pr(r,t){bl(r,0,r.children.length,t,r)}function bl(r,t,n,s,a){a||(a=$r(null)),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(let o=t;o<n;o++){const c=r.children[o];Al(a,r.leaf?s(c):c)}return a}function Al(r,t){return r.minX=Math.min(r.minX,t.minX),r.minY=Math.min(r.minY,t.minY),r.maxX=Math.max(r.maxX,t.maxX),r.maxY=Math.max(r.maxY,t.maxY),r}function iR(r,t){return r.minX-t.minX}function sR(r,t){return r.minY-t.minY}function Bf(r){return(r.maxX-r.minX)*(r.maxY-r.minY)}function Tu(r){return r.maxX-r.minX+(r.maxY-r.minY)}function rR(r,t){return(Math.max(t.maxX,r.maxX)-Math.min(t.minX,r.minX))*(Math.max(t.maxY,r.maxY)-Math.min(t.minY,r.minY))}function aR(r,t){const n=Math.max(r.minX,t.minX),s=Math.max(r.minY,t.minY),a=Math.min(r.maxX,t.maxX),o=Math.min(r.maxY,t.maxY);return Math.max(0,a-n)*Math.max(0,o-s)}function Hf(r,t){return r.minX<=t.minX&&r.minY<=t.minY&&t.maxX<=r.maxX&&t.maxY<=r.maxY}function wu(r,t){return t.minX<=r.maxX&&t.minY<=r.maxY&&t.maxX>=r.minX&&t.maxY>=r.minY}function $r(r){return{children:r,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Yy(r,t,n,s,a){const o=[t,n];for(;o.length;){if(n=o.pop(),t=o.pop(),n-t<=s)continue;const c=t+Math.ceil((n-t)/s/2)*s;S1(r,c,t,n,a),o.push(t,c,c,n)}}class Xy{constructor(t){this.rbush_=new C1(t),this.items_={}}insert(t,n){const s={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:n};this.rbush_.insert(s),this.items_[kt(n)]=s}load(t,n){const s=new Array(n.length);for(let a=0,o=n.length;a<o;a++){const c=t[a],h=n[a],d={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3],value:h};s[a]=d,this.items_[kt(h)]=d}this.rbush_.load(s)}remove(t){const n=kt(t),s=this.items_[n];return delete this.items_[n],this.rbush_.remove(s)!==null}update(t,n){const s=this.items_[kt(n)],a=[s.minX,s.minY,s.maxX,s.maxY];kl(a,t)||(this.remove(n),this.insert(t,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(t){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(n).map(function(a){return a.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,n){return this.forEach_(this.getInExtent(t),n)}forEach_(t,n){let s;for(let a=0,o=t.length;a<o;a++)if(s=n(t[a]),s)return s;return s}isEmpty(){return ha(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const n=this.rbush_.toJSON();return vs(n.minX,n.minY,n.maxX,n.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const n in t.items_)this.items_[n]=t.items_[n]}}class R1 extends ii{constructor(t){super(),this.projection=Qe(t.projection),this.attributions_=By(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible??!0,this.loading=!1,this.state_=t.state!==void 0?t.state:"ready",this.wrapX_=t.wrapX!==void 0?t.wrapX:!1,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(s,a){n.viewResolver=s,n.viewRejector=a})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=By(t),this.changed()}setState(t){this.state_=t,this.changed()}}function By(r){return r?typeof r=="function"?r:(Array.isArray(r)||(r=[r]),t=>r):null}const xn={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class as extends ki{constructor(t,n,s){super(t),this.feature=n,this.features=s}}class lR extends R1{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:t.wrapX!==void 0?t.wrapX:!0}),this.on,this.once,this.un,this.loader_=ca,this.format_=t.format||null,this.overlaps_=t.overlaps===void 0?!0:t.overlaps,this.url_=t.url,t.loader!==void 0?this.loader_=t.loader:this.url_!==void 0&&(zt(this.format_,"`format` must be set when `url` is set"),this.loader_=Uy(this.url_,this.format_)),this.strategy_=t.strategy!==void 0?t.strategy:JC;const n=t.useSpatialIndex!==void 0?t.useSpatialIndex:!0;this.featuresRtree_=n?new Xy:null,this.loadedExtentsRtree_=new Xy,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let s,a;Array.isArray(t.features)?a=t.features:t.features&&(s=t.features,a=s.getArray()),!n&&s===void 0&&(s=new Jn(a)),a!==void 0&&this.addFeaturesInternal(a),s!==void 0&&this.bindFeaturesCollection_(s)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const n=kt(t);if(!this.addToIndex_(n,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(n,t);const s=t.getGeometry();if(s){const a=s.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(a,t)}else this.nullGeometryFeatures_[n]=t;this.dispatchEvent(new as(xn.ADDFEATURE,t))}setupChangeEvents_(t,n){n instanceof kn||(this.featureChangeKeys_[t]=[It(n,vt.CHANGE,this.handleFeatureChange_,this),It(n,ua.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(t,n){let s=!0;if(n.getId()!==void 0){const a=String(n.getId());if(!(a in this.idIndex_))this.idIndex_[a]=n;else if(n instanceof kn){const o=this.idIndex_[a];o instanceof kn?Array.isArray(o)?o.push(n):this.idIndex_[a]=[o,n]:s=!1}else s=!1}return s&&(zt(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=n),s}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const n=[],s=[],a=[];for(let o=0,c=t.length;o<c;o++){const h=t[o],d=kt(h);this.addToIndex_(d,h)&&s.push(h)}for(let o=0,c=s.length;o<c;o++){const h=s[o],d=kt(h);this.setupChangeEvents_(d,h);const g=h.getGeometry();if(g){const _=g.getExtent();n.push(_),a.push(h)}else this.nullGeometryFeatures_[d]=h}if(this.featuresRtree_&&this.featuresRtree_.load(n,a),this.hasListener(xn.ADDFEATURE))for(let o=0,c=s.length;o<c;o++)this.dispatchEvent(new as(xn.ADDFEATURE,s[o]))}bindFeaturesCollection_(t){let n=!1;this.addEventListener(xn.ADDFEATURE,function(s){n||(n=!0,t.push(s.feature),n=!1)}),this.addEventListener(xn.REMOVEFEATURE,function(s){n||(n=!0,t.remove(s.feature),n=!1)}),t.addEventListener(je.ADD,s=>{n||(n=!0,this.addFeature(s.element),n=!1)}),t.addEventListener(je.REMOVE,s=>{n||(n=!0,this.removeFeature(s.element),n=!1)}),this.featuresCollection_=t}clear(t){if(t){for(const s in this.featureChangeKeys_)this.featureChangeKeys_[s].forEach(Kt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(s=>{this.removeFeatureInternal(s)});for(const s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new as(xn.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,n){const s=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(s,function(a){const o=a.getGeometry();if(o instanceof kn||o.intersectsCoordinate(t))return n(a)})}forEachFeatureInExtent(t,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(t,n){return this.forEachFeatureInExtent(t,function(s){const a=s.getGeometry();if(a instanceof kn||a.intersectsExtent(t)){const o=n(s);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),ha(this.nullGeometryFeatures_)||Ad(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const n=[];return this.forEachFeatureAtCoordinateDirect(t,function(s){n.push(s)}),n}getFeaturesInExtent(t,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const a=Xp(t,n);return[].concat(...a.map(o=>this.featuresRtree_.getInExtent(o)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,n){const s=t[0],a=t[1];let o=null;const c=[NaN,NaN];let h=1/0;const d=[-1/0,-1/0,1/0,1/0];return n=n||Nl,this.featuresRtree_.forEachInExtent(d,function(g){if(n(g)){const _=g.getGeometry(),y=h;if(h=_ instanceof kn?0:_.closestPointXY(s,a,c,h),h<y){o=g;const p=Math.sqrt(h);d[0]=s-p,d[1]=a-p,d[2]=s+p,d[3]=a+p}}}),o}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const n=this.idIndex_[t.toString()];return n!==void 0?n:null}getFeatureByUid(t){const n=this.uidIndex_[t];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const n=t.target,s=kt(n),a=n.getGeometry();if(!a)s in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[s]=n);else{const c=a.getExtent();s in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[s],this.featuresRtree_&&this.featuresRtree_.insert(c,n)):this.featuresRtree_&&this.featuresRtree_.update(c,n)}const o=n.getId();if(o!==void 0){const c=o.toString();this.idIndex_[c]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[c]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[s]=n;this.changed(),this.dispatchEvent(new as(xn.CHANGEFEATURE,n))}hasFeature(t){const n=t.getId();return n!==void 0?n in this.idIndex_:kt(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&ha(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(t,n,s){const a=this.loadedExtentsRtree_,o=this.strategy_(t,n,s);for(let c=0,h=o.length;c<h;++c){const d=o[c];a.forEachInExtent(d,function(_){return wl(_.extent,d)})||(++this.loadingExtentsCount_,this.dispatchEvent(new as(xn.FEATURESLOADSTART)),this.loader_.call(this,d,n,s,_=>{--this.loadingExtentsCount_,this.dispatchEvent(new as(xn.FEATURESLOADEND,void 0,_))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new as(xn.FEATURESLOADERROR))}),a.insert(d,{extent:d.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const n=this.loadedExtentsRtree_,s=n.forEachInExtent(t,function(a){if(kl(a.extent,t))return a});s&&n.remove(s)}removeFeatures(t){let n=!1;for(let s=0,a=t.length;s<a;++s)n=this.removeFeatureInternal(t[s])||n;n&&this.changed()}removeFeature(t){if(!t)return;this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const n=kt(t);if(!(n in this.uidIndex_))return!1;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(t);const s=this.featureChangeKeys_[n];s==null||s.forEach(Kt),delete this.featureChangeKeys_[n];const a=t.getId();if(a!==void 0){const o=a.toString(),c=this.idIndex_[o];c===t?delete this.idIndex_[o]:Array.isArray(c)&&(c.splice(c.indexOf(t),1),c.length===1&&(this.idIndex_[o]=c[0]))}return delete this.uidIndex_[n],this.hasListener(xn.REMOVEFEATURE)&&this.dispatchEvent(new as(xn.REMOVEFEATURE,t)),!0}removeFromIdIndex_(t){for(const n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n];break}}setLoader(t){this.loader_=t}setUrl(t){zt(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(Uy(t,this.format_))}setOverlaps(t){this.overlaps_=t,this.changed()}}class eo{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,t.color!==void 0&&this.setColor(t.color)}clone(){const t=this.getColor();return new eo({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(t!==null&&typeof t=="object"&&"src"in t){const n=Wd(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===Ct.IDLE&&n.load(),n.getImageState()===Ct.LOADING&&(this.patternImage_=n)}this.color_=t}getKey(){const t=this.getColor();return t?t instanceof CanvasPattern||t instanceof CanvasGradient?kt(t):typeof t=="object"&&"src"in t?t.src+":"+t.offset:ga(t).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class cc{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new cc({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}function Hy(r){return r[0]>0&&r[1]>0}function oR(r,t,n){return n===void 0&&(n=[0,0]),n[0]=r[0]*t+.5|0,n[1]=r[1]*t+.5|0,n}function We(r,t){return Array.isArray(r)?r:(t===void 0?t=[r,r]:(t[0]=r,t[1]=r),t)}class hc{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=We(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new hc({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Lt()}getImage(t){return Lt()}getHitDetectionImage(){return Lt()}getPixelRatio(t){return 1}getImageState(){return Lt()}getImageSize(){return Lt()}getOrigin(){return Lt()}getSize(){return Lt()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=We(t)}listenImageChange(t){Lt()}load(){Lt()}unlistenImageChange(t){Lt()}ready(){return Promise.resolve()}}class fc extends hc{constructor(t){super({opacity:1,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=t.fill!==void 0?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius=t.radius,this.radius2_=t.radius2,this.angle_=t.angle!==void 0?t.angle:0,this.stroke_=t.stroke!==void 0?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Ct.LOADING:Ct.LOADED,this.imageState_===Ct.LOADING&&this.ready().then(()=>this.imageState_=Ct.LOADED),this.render()}clone(){const t=this.getScale(),n=new fc({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const t=this.size_,n=this.getDisplacement(),s=this.getScaleArray();return[t[0]/2-n[0]/s[0],t[1]/2+n[1]/s[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){var o,c;const n=(o=this.fill_)==null?void 0:o.getKey(),s=`${t},${this.angle_},${this.radius},${this.radius2_},${this.points_},${n}`+Object.values(this.renderOptions_).join(",");let a=(c=Rn.get(s,null,null))==null?void 0:c.getImage(1);if(!a){const h=this.renderOptions_,d=Math.ceil(h.size*t),g=ve(d,d);this.draw_(h,g,t),a=g.canvas,Rn.set(s,null,null,new g1(a,void 0,null,Ct.LOADED,null))}return a}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,n,s){if(n===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return n;let a=this.radius,o=this.radius2_===void 0?a:this.radius2_;if(a<o){const X=a;a=o,o=X}const c=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/c,d=o*Math.sin(h),g=Math.sqrt(o*o-d*d),_=a-g,y=Math.sqrt(d*d+_*_),p=y/d;if(t==="miter"&&p<=s)return p*n;const E=n/2/p,x=n/2*(_/y),R=Math.sqrt((a+E)*(a+E)+x*x)-a;if(this.radius2_===void 0||t==="bevel")return R*2;const T=a*Math.sin(h),b=Math.sqrt(a*a-T*T),O=o-b,w=Math.sqrt(T*T+O*O)/T;if(w<=s){const X=w*n/2-o-a;return 2*Math.max(R,X)}return R*2}createRenderOptions(){let t=ma,n=_a,s=0,a=null,o=0,c,h=0;this.stroke_&&(c=ti(this.stroke_.getColor()??Bl),h=this.stroke_.getWidth()??Pl,a=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??_a,t=this.stroke_.getLineCap()??ma,s=this.stroke_.getMiterLimit()??Xl);const d=this.calculateLineJoinSize_(n,h,s),g=Math.max(this.radius,this.radius2_||0),_=Math.ceil(2*g+d);return{strokeStyle:c,strokeWidth:h,size:_,lineCap:t,lineDash:a,lineDashOffset:o,lineJoin:n,miterLimit:s}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,n,s){if(n.scale(s,s),n.translate(t.size/2,t.size/2),this.createPath_(n),this.fill_){let a=this.fill_.getColor();a===null&&(a=Ze),n.fillStyle=ti(a),n.fill()}t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineCap=t.lineCap,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}createHitDetectionCanvas_(t){let n;if(this.fill_){let s=this.fill_.getColor(),a=0;typeof s=="string"&&(s=ga(s)),s===null?a=1:Array.isArray(s)&&(a=s.length===4?s[3]:1),a===0&&(n=ve(t.size,t.size),this.drawHitDetectionCanvas_(t,n))}return n?n.canvas:this.getImage(1)}createPath_(t){let n=this.points_;const s=this.radius;if(n===1/0)t.arc(0,0,s,0,2*Math.PI);else{const a=this.radius2_===void 0?s:this.radius2_;this.radius2_!==void 0&&(n*=2);const o=this.angle_-Math.PI/2,c=2*Math.PI/n;for(let h=0;h<n;h++){const d=o+h*c,g=h%2===0?s:a;t.lineTo(g*Math.cos(d),g*Math.sin(d))}t.closePath()}}drawHitDetectionCanvas_(t,n){n.translate(t.size/2,t.size/2),this.createPath_(n),n.fillStyle=Ze,n.fill(),t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class dc extends fc{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),n=new dc({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(t){this.radius=t,this.render()}}class ps{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=Py,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new ps({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(n){return n.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=Py,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function uR(r){let t;if(typeof r=="function")t=r;else{let n;Array.isArray(r)?n=r:(zt(typeof r.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[r]),t=function(){return n}}return t}let Pf=null;function T1(r,t){if(!Pf){const n=new eo({color:"rgba(255,255,255,0.4)"}),s=new cc({color:"#3399CC",width:1.25});Pf=[new ps({image:new dc({fill:n,stroke:s,radius:5}),fill:n,stroke:s})]}return Pf}function Py(r){return r.getGeometry()}const cR="#333";class $d{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.keepUpright_=t.keepUpright,this.scale_=t.scale,this.scaleArray_=We(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new eo({color:cR}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new $d({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setKeepUpright(t){this.keepUpright_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=We(t!==void 0?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}const Le={ANIMATING:0,INTERACTING:1},ht={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},bu=[ht.FILL],ms=[ht.STROKE],tr=[ht.BEGIN_PATH],jy=[ht.CLOSE_PATH];class no extends m1{constructor(t,n,s,a){super(),this.tolerance=t,this.maxExtent=n,this.pixelRatio=a,this.maxLineWidth=0,this.resolution=s,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const n=this.pixelRatio;return n==1?t:t.map(function(s){return s*n})}appendFlatPointCoordinates(t,n){const s=this.getBufferedMaxExtent(),a=this.tmpCoordinate_,o=this.coordinates;let c=o.length;for(let h=0,d=t.length;h<d;h+=n)a[0]=t[h],a[1]=t[h+1],fa(s,a)&&(o[c++]=a[0],o[c++]=a[1]);return c}appendFlatLineCoordinates(t,n,s,a,o,c){const h=this.coordinates;let d=h.length;const g=this.getBufferedMaxExtent();c&&(n+=a);let _=t[n],y=t[n+1];const p=this.tmpCoordinate_;let E=!0,x,C,R;for(x=n+a;x<s;x+=a)p[0]=t[x],p[1]=t[x+1],R=rd(g,p),R!==C?(E&&(h[d++]=_,h[d++]=y,E=!1),h[d++]=p[0],h[d++]=p[1]):R===ye.INTERSECTING?(h[d++]=p[0],h[d++]=p[1],E=!1):E=!0,_=p[0],y=p[1],C=R;return(o&&E||x===n+a)&&(h[d++]=_,h[d++]=y),d}drawCustomCoordinates_(t,n,s,a,o){for(let c=0,h=s.length;c<h;++c){const d=s[c],g=this.appendFlatLineCoordinates(t,n,d,a,!1,!1);o.push(g),n=d}return n}drawCustom(t,n,s,a,o){this.beginGeometry(t,n,o);const c=t.getType(),h=t.getStride(),d=this.coordinates.length;let g,_,y,p,E;switch(c){case"MultiPolygon":g=t.getOrientedFlatCoordinates(),p=[];const x=t.getEndss();E=0;for(let C=0,R=x.length;C<R;++C){const T=[];E=this.drawCustomCoordinates_(g,E,x[C],h,T),p.push(T)}this.instructions.push([ht.CUSTOM,d,p,t,s,Ty,o]),this.hitDetectionInstructions.push([ht.CUSTOM,d,p,t,a||s,Ty,o]);break;case"Polygon":case"MultiLineString":y=[],g=c=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),E=this.drawCustomCoordinates_(g,0,t.getEnds(),h,y),this.instructions.push([ht.CUSTOM,d,y,t,s,Yu,o]),this.hitDetectionInstructions.push([ht.CUSTOM,d,y,t,a||s,Yu,o]);break;case"LineString":case"Circle":g=t.getFlatCoordinates(),_=this.appendFlatLineCoordinates(g,0,g.length,h,!1,!1),this.instructions.push([ht.CUSTOM,d,_,t,s,na,o]),this.hitDetectionInstructions.push([ht.CUSTOM,d,_,t,a||s,na,o]);break;case"MultiPoint":g=t.getFlatCoordinates(),_=this.appendFlatPointCoordinates(g,h),_>d&&(this.instructions.push([ht.CUSTOM,d,_,t,s,na,o]),this.hitDetectionInstructions.push([ht.CUSTOM,d,_,t,a||s,na,o]));break;case"Point":g=t.getFlatCoordinates(),this.coordinates.push(g[0],g[1]),_=this.coordinates.length,this.instructions.push([ht.CUSTOM,d,_,t,s,void 0,o]),this.hitDetectionInstructions.push([ht.CUSTOM,d,_,t,a||s,void 0,o]);break}this.endGeometry(n)}beginGeometry(t,n,s){this.beginGeometryInstruction1_=[ht.BEGIN_GEOMETRY,n,0,t,s],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[ht.BEGIN_GEOMETRY,n,0,t,s],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;t.reverse();let n;const s=t.length;let a,o,c=-1;for(n=0;n<s;++n)a=t[n],o=a[0],o==ht.END_GEOMETRY?c=n:o==ht.BEGIN_GEOMETRY&&(a[2]=n,eS(this.hitDetectionInstructions,c,n),c=-1)}fillStyleToState(t,n={}){if(t){const s=t.getColor();n.fillPatternScale=s&&typeof s=="object"&&"src"in s?this.pixelRatio:1,n.fillStyle=ti(s||Ze)}else n.fillStyle=void 0;return n}strokeStyleToState(t,n={}){if(t){const s=t.getColor();n.strokeStyle=ti(s||Bl);const a=t.getLineCap();n.lineCap=a!==void 0?a:ma;const o=t.getLineDash();n.lineDash=o?o.slice():Di;const c=t.getLineDashOffset();n.lineDashOffset=c||Li;const h=t.getLineJoin();n.lineJoin=h!==void 0?h:_a;const d=t.getWidth();n.lineWidth=d!==void 0?d:Pl;const g=t.getMiterLimit();n.miterLimit=g!==void 0?g:Xl,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0;return n}setFillStrokeStyle(t,n){const s=this.state;this.fillStyleToState(t,s),this.strokeStyleToState(n,s)}createFill(t){const n=t.fillStyle,s=[ht.SET_FILL_STYLE,n];return typeof n!="string"&&s.push(t.fillPatternScale),s}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[ht.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash?this.applyPixelRatio(t.lineDash):null,t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,n){const s=t.fillStyle;(typeof s!="string"||t.currentFillStyle!=s)&&(s!==void 0&&this.instructions.push(n.call(this,t)),t.currentFillStyle=s)}updateStrokeStyle(t,n){const s=t.strokeStyle,a=t.lineCap,o=t.lineDash,c=t.lineDashOffset,h=t.lineJoin,d=t.lineWidth,g=t.miterLimit;(t.currentStrokeStyle!=s||t.currentLineCap!=a||o!=t.currentLineDash&&!xs(t.currentLineDash,o)||t.currentLineDashOffset!=c||t.currentLineJoin!=h||t.currentLineWidth!=d||t.currentMiterLimit!=g)&&(s!==void 0&&n.call(this,t),t.currentStrokeStyle=s,t.currentLineCap=a,t.currentLineDash=o,t.currentLineDashOffset=c,t.currentLineJoin=h,t.currentLineWidth=d,t.currentMiterLimit=g)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[ht.END_GEOMETRY,t];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Ip(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;Od(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class hR extends no{constructor(t,n,s,a){super(t,n,s,a),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,n,s){if(!this.image_||this.maxExtent&&!fa(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,n,s);const a=t.getFlatCoordinates(),o=t.getStride(),c=this.coordinates.length,h=this.appendFlatPointCoordinates(a,o);this.instructions.push([ht.DRAW_IMAGE,c,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ht.DRAW_IMAGE,c,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(t,n,s){if(!this.image_)return;this.beginGeometry(t,n,s);const a=t.getFlatCoordinates(),o=[];for(let d=0,g=a.length;d<g;d+=t.getStride())(!this.maxExtent||fa(this.maxExtent,a.slice(d,d+2)))&&o.push(a[d],a[d+1]);const c=this.coordinates.length,h=this.appendFlatPointCoordinates(o,2);this.instructions.push([ht.DRAW_IMAGE,c,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ht.DRAW_IMAGE,c,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,n){const s=t.getAnchor(),a=t.getSize(),o=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=s[0],this.anchorY_=s[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=a[1],this.opacity_=t.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=a[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}class fR extends no{constructor(t,n,s,a){super(t,n,s,a)}drawFlatCoordinates_(t,n,s,a){const o=this.coordinates.length,c=this.appendFlatLineCoordinates(t,n,s,a,!1,!1),h=[ht.MOVE_TO_LINE_TO,o,c];return this.instructions.push(h),this.hitDetectionInstructions.push(h),s}drawLineString(t,n,s){const a=this.state,o=a.strokeStyle,c=a.lineWidth;if(o===void 0||c===void 0)return;this.updateStrokeStyle(a,this.applyStroke),this.beginGeometry(t,n,s),this.hitDetectionInstructions.push([ht.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth,a.lineCap,a.lineJoin,a.miterLimit,Di,Li],tr);const h=t.getFlatCoordinates(),d=t.getStride();this.drawFlatCoordinates_(h,0,h.length,d),this.hitDetectionInstructions.push(ms),this.endGeometry(n)}drawMultiLineString(t,n,s){const a=this.state,o=a.strokeStyle,c=a.lineWidth;if(o===void 0||c===void 0)return;this.updateStrokeStyle(a,this.applyStroke),this.beginGeometry(t,n,s),this.hitDetectionInstructions.push([ht.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth,a.lineCap,a.lineJoin,a.miterLimit,Di,Li],tr);const h=t.getEnds(),d=t.getFlatCoordinates(),g=t.getStride();let _=0;for(let y=0,p=h.length;y<p;++y)_=this.drawFlatCoordinates_(d,_,h[y],g);this.hitDetectionInstructions.push(ms),this.endGeometry(n)}finish(){const t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(ms),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(ms),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(tr)}}class Zy extends no{constructor(t,n,s,a){super(t,n,s,a)}drawFlatCoordinatess_(t,n,s,a){const o=this.state,c=o.fillStyle!==void 0,h=o.strokeStyle!==void 0,d=s.length;this.instructions.push(tr),this.hitDetectionInstructions.push(tr);for(let g=0;g<d;++g){const _=s[g],y=this.coordinates.length,p=this.appendFlatLineCoordinates(t,n,_,a,!0,!h),E=[ht.MOVE_TO_LINE_TO,y,p];this.instructions.push(E),this.hitDetectionInstructions.push(E),h&&(this.instructions.push(jy),this.hitDetectionInstructions.push(jy)),n=_}return c&&(this.instructions.push(bu),this.hitDetectionInstructions.push(bu)),h&&(this.instructions.push(ms),this.hitDetectionInstructions.push(ms)),n}drawCircle(t,n,s){const a=this.state,o=a.fillStyle,c=a.strokeStyle;if(o===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),a.fillStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_FILL_STYLE,Ze]),a.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth,a.lineCap,a.lineJoin,a.miterLimit,Di,Li]);const h=t.getFlatCoordinates(),d=t.getStride(),g=this.coordinates.length;this.appendFlatLineCoordinates(h,0,h.length,d,!1,!1);const _=[ht.CIRCLE,g];this.instructions.push(tr,_),this.hitDetectionInstructions.push(tr,_),a.fillStyle!==void 0&&(this.instructions.push(bu),this.hitDetectionInstructions.push(bu)),a.strokeStyle!==void 0&&(this.instructions.push(ms),this.hitDetectionInstructions.push(ms)),this.endGeometry(n)}drawPolygon(t,n,s){const a=this.state,o=a.fillStyle,c=a.strokeStyle;if(o===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),a.fillStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_FILL_STYLE,Ze]),a.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth,a.lineCap,a.lineJoin,a.miterLimit,Di,Li]);const h=t.getEnds(),d=t.getOrientedFlatCoordinates(),g=t.getStride();this.drawFlatCoordinatess_(d,0,h,g),this.endGeometry(n)}drawMultiPolygon(t,n,s){const a=this.state,o=a.fillStyle,c=a.strokeStyle;if(o===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),a.fillStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_FILL_STYLE,Ze]),a.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth,a.lineCap,a.lineJoin,a.miterLimit,Di,Li]);const h=t.getEndss(),d=t.getOrientedFlatCoordinates(),g=t.getStride();let _=0;for(let y=0,p=h.length;y<p;++y)_=this.drawFlatCoordinatess_(d,_,h[y],g);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(t!==0){const n=this.coordinates;for(let s=0,a=n.length;s<a;++s)n[s]=Ws(n[s],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;t.fillStyle!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)}}function dR(r,t,n,s,a){const o=[];let c=n,h=0,d=t.slice(n,2);for(;h<r&&c+a<s;){const[g,_]=d.slice(-2),y=t[c+a],p=t[c+a+1],E=Math.sqrt((y-g)*(y-g)+(p-_)*(p-_));if(h+=E,h>=r){const x=(r-h+E)/E,C=Sn(g,y,x),R=Sn(_,p,x);d.push(C,R),o.push(d),d=[C,R],h==r&&(c+=a),h=0}else if(h<r)d.push(t[c+a],t[c+a+1]),c+=a;else{const x=E-h,C=Sn(g,y,x/E),R=Sn(_,p,x/E);d.push(C,R),o.push(d),d=[C,R],h=0,c+=a}}return h>0&&o.push(d),o}function gR(r,t,n,s,a){let o=n,c=n,h=0,d=0,g=n,_,y,p,E,x,C,R,T,b,O;for(y=n;y<s;y+=a){const D=t[y],w=t[y+1];x!==void 0&&(b=D-x,O=w-C,E=Math.sqrt(b*b+O*O),R!==void 0&&(d+=p,_=Math.acos((R*b+T*O)/(p*E)),_>r&&(d>h&&(h=d,o=g,c=y),d=0,g=y-a)),p=E,R=b,T=O),x=D,C=w}return d+=E,d>h?[g,y]:[o,c]}const Pu={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class mR extends no{constructor(t,n,s,a){super(t,n,s,a),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Ze]={fillStyle:Ze},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,n,s){const a=this.textFillState_,o=this.textStrokeState_,c=this.textState_;if(this.text_===""||!c||!a&&!o)return;const h=this.coordinates;let d=h.length;const g=t.getType();let _=null,y=t.getStride();if(c.placement==="line"&&(g=="LineString"||g=="MultiLineString"||g=="Polygon"||g=="MultiPolygon")){if(!qe(this.maxExtent,t.getExtent()))return;let p;if(_=t.getFlatCoordinates(),g=="LineString")p=[_.length];else if(g=="MultiLineString")p=t.getEnds();else if(g=="Polygon")p=t.getEnds().slice(0,1);else if(g=="MultiPolygon"){const R=t.getEndss();p=[];for(let T=0,b=R.length;T<b;++T)p.push(R[T][0])}this.beginGeometry(t,n,s);const E=c.repeat,x=E?void 0:c.textAlign;let C=0;for(let R=0,T=p.length;R<T;++R){let b;E?b=dR(E*this.resolution,_,C,p[R],y):b=[_.slice(C,p[R])];for(let O=0,D=b.length;O<D;++O){const w=b[O];let X=0,K=w.length;if(x==null){const k=gR(c.maxAngle,w,0,w.length,2);X=k[0],K=k[1]}for(let k=X;k<K;k+=y)h.push(w[k],w[k+1]);const P=h.length;C=p[R],this.drawChars_(d,P),d=P}}this.endGeometry(n)}else{let p=c.overflow?null:[];switch(g){case"Point":case"MultiPoint":_=t.getFlatCoordinates();break;case"LineString":_=t.getFlatMidpoint();break;case"Circle":_=t.getCenter();break;case"MultiLineString":_=t.getFlatMidpoints(),y=2;break;case"Polygon":_=t.getFlatInteriorPoint(),c.overflow||p.push(_[2]/this.resolution),y=3;break;case"MultiPolygon":const D=t.getFlatInteriorPoints();_=[];for(let w=0,X=D.length;w<X;w+=3)c.overflow||p.push(D[w+2]/this.resolution),_.push(D[w],D[w+1]);if(_.length===0)return;y=2;break}const E=this.appendFlatPointCoordinates(_,y);if(E===d)return;if(p&&(E-d)/2!==_.length/y){let D=d/2;p=p.filter((w,X)=>{const K=h[(D+X)*2]===_[X*y]&&h[(D+X)*2+1]===_[X*y+1];return K||--D,K})}this.saveTextStates_();const x=c.backgroundFill?this.createFill(this.fillStyleToState(c.backgroundFill)):null,C=c.backgroundStroke?this.createStroke(this.strokeStyleToState(c.backgroundStroke)):null;this.beginGeometry(t,n,s);let R=c.padding;if(R!=Js&&(c.scale[0]<0||c.scale[1]<0)){let D=c.padding[0],w=c.padding[1],X=c.padding[2],K=c.padding[3];c.scale[0]<0&&(w=-w,K=-K),c.scale[1]<0&&(D=-D,X=-X),R=[D,w,X,K]}const T=this.pixelRatio;this.instructions.push([ht.DRAW_IMAGE,d,E,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,R==Js?Js:R.map(function(D){return D*T}),x,C,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,p]);const b=1/T,O=x?x.slice(0):null;O&&(O[1]=Ze),this.hitDetectionInstructions.push([ht.DRAW_IMAGE,d,E,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[b,b],NaN,this.declutterMode_,this.declutterImageWithText_,R,O,C,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Ze:this.fillKey_,this.textOffsetX_,this.textOffsetY_,p]),this.endGeometry(n)}}saveTextStates_(){const t=this.textStrokeState_,n=this.textState_,s=this.textFillState_,a=this.strokeKey_;t&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const o=this.textKey_;o in this.textStates||(this.textStates[o]={font:n.font,textAlign:n.textAlign||Hl,justify:n.justify,textBaseline:n.textBaseline||Bu,scale:n.scale});const c=this.fillKey_;s&&(c in this.fillStates||(this.fillStates[c]={fillStyle:s.fillStyle}))}drawChars_(t,n){const s=this.textStrokeState_,a=this.textState_,o=this.strokeKey_,c=this.textKey_,h=this.fillKey_;this.saveTextStates_();const d=this.pixelRatio,g=Pu[a.textBaseline],_=this.textOffsetY_*d,y=this.text_,p=s?s.lineWidth*Math.abs(a.scale[0])/2:0;this.instructions.push([ht.DRAW_CHARS,t,n,g,a.overflow,h,a.maxAngle,d,_,o,p*d,y,c,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([ht.DRAW_CHARS,t,n,g,a.overflow,h&&Ze,a.maxAngle,d,_,o,p*d,y,c,1/d,this.declutterMode_,this.textKeepUpright_])}setTextStyle(t,n){let s,a,o;if(!t)this.text_="";else{const c=t.getFill();c?(a=this.textFillState_,a||(a={},this.textFillState_=a),a.fillStyle=ti(c.getColor()||Ze)):(a=null,this.textFillState_=a);const h=t.getStroke();if(!h)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);const C=h.getLineDash(),R=h.getLineDashOffset(),T=h.getWidth(),b=h.getMiterLimit();o.lineCap=h.getLineCap()||ma,o.lineDash=C?C.slice():Di,o.lineDashOffset=R===void 0?Li:R,o.lineJoin=h.getLineJoin()||_a,o.lineWidth=T===void 0?Pl:T,o.miterLimit=b===void 0?Xl:b,o.strokeStyle=ti(h.getColor()||Bl)}s=this.textState_;const d=t.getFont()||y1;zC(d);const g=t.getScaleArray();s.overflow=t.getOverflow(),s.font=d,s.maxAngle=t.getMaxAngle(),s.placement=t.getPlacement(),s.textAlign=t.getTextAlign(),s.repeat=t.getRepeat(),s.justify=t.getJustify(),s.textBaseline=t.getTextBaseline()||Bu,s.backgroundFill=t.getBackgroundFill(),s.backgroundStroke=t.getBackgroundStroke(),s.padding=t.getPadding()||Js,s.scale=g===void 0?[1,1]:g;const _=t.getOffsetX(),y=t.getOffsetY(),p=t.getRotateWithView(),E=t.getKeepUpright(),x=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=_===void 0?0:_,this.textOffsetY_=y===void 0?0:y,this.textRotateWithView_=p===void 0?!1:p,this.textKeepUpright_=E===void 0?!0:E,this.textRotation_=x===void 0?0:x,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:kt(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=s.font+s.scale+(s.textAlign||"?")+(s.repeat||"?")+(s.justify||"?")+(s.textBaseline||"?"),this.fillKey_=a&&a.fillStyle?typeof a.fillStyle=="string"?a.fillStyle:"|"+kt(a.fillStyle):""}this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}const _R={Circle:Zy,Default:no,Image:hR,LineString:fR,Polygon:Zy,Text:mR};class yR{constructor(t,n,s,a){this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=a,this.resolution_=s,this.buildersByZIndex_={}}finish(){const t={};for(const n in this.buildersByZIndex_){t[n]=t[n]||{};const s=this.buildersByZIndex_[n];for(const a in s){const o=s[a].finish();t[n][a]=o}}return t}getBuilder(t,n){const s=t!==void 0?t.toString():"0";let a=this.buildersByZIndex_[s];a===void 0&&(a={},this.buildersByZIndex_[s]=a);let o=a[n];if(o===void 0){const c=_R[n];o=new c(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),a[n]=o}return o}}function pR(r,t,n,s,a,o,c,h,d,g,_,y,p=!0){let E=r[t],x=r[t+1],C=0,R=0,T=0,b=0;function O(){C=E,R=x,t+=s,E=r[t],x=r[t+1],b+=T,T=Math.sqrt((E-C)*(E-C)+(x-R)*(x-R))}do O();while(t<n-s&&b+T<o);let D=T===0?0:(o-b)/T;const w=Sn(C,E,D),X=Sn(R,x,D),K=t-s,P=b,k=o+h*d(g,a,_);for(;t<n-s&&b+T<k;)O();D=T===0?0:(k-b)/T;const q=Sn(C,E,D),it=Sn(R,x,D);let rt=!1;if(p)if(y){const $=[w,X,q,it];$p($,0,4,2,y,$,$),rt=$[0]>$[2]}else rt=w>q;const ot=Math.PI,tt=[],mt=K+s===t;t=K,T=0,b=P,E=r[t],x=r[t+1];let F;if(mt){O(),F=Math.atan2(x-R,E-C),rt&&(F+=F>0?-ot:ot);const $=(q+w)/2,Q=(it+X)/2;return tt[0]=[$,Q,(k-o)/2,F,a],tt}a=a.replace(/\n/g," ");for(let $=0,Q=a.length;$<Q;){O();let nt=Math.atan2(x-R,E-C);if(rt&&(nt+=nt>0?-ot:ot),F!==void 0){let at=nt-F;if(at+=at>ot?-2*ot:at<-ot?2*ot:0,Math.abs(at)>c)return null}F=nt;const M=$;let B=0;for(;$<Q;++$){const at=rt?Q-$-1:$,ct=h*d(g,a[at],_);if(t+s<n&&b+T<o+B+ct/2)break;B+=ct}if($===M)continue;const U=rt?a.substring(Q-M,Q-$):a.substring(M,$);D=T===0?0:(o+B/2-b)/T;const et=Sn(C,E,D),J=Sn(R,x,D);tt.push([et,J,B/2,nt,U]),o+=B}return tt}class w1{constructor(){Y_(this,"pushMethodArgs_",(...t)=>(this.instructions_[this.zIndex+this.offset_].push(t),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Xu(),{get:(t,n)=>{if(typeof Xu()[n]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n),this.pushMethodArgs_},set:(t,n,s)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n,s),!0)})}pushFunction(t){this.instructions_[this.zIndex+this.offset_].push(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach(n=>{for(let s=0,a=n.length;s<a;++s){const o=n[s];if(typeof o=="function"){o(t);continue}const c=n[++s];if(typeof t[o]=="function")t[o](...c);else{if(typeof c=="function"){t[o]=c(t);continue}t[o]=c}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const jr=wn(),ls=[],Ri=[],Ti=[],os=[];function Vy(r){return r[3].declutterBox}const qy=new RegExp("[-----]");function jf(r,t){return t==="start"?t=qy.test(r)?"right":"left":t==="end"&&(t=qy.test(r)?"left":"right"),Pu[t]}function vR(r,t,n){return n>0&&r.push(`
`,""),r.push(t,""),r}class ER{constructor(t,n,s,a,o){this.overlaps=s,this.pixelRatio=n,this.resolution=t,this.alignAndScaleFill_,this.instructions=a.instructions,this.coordinates=a.coordinates,this.coordinateCache_={},this.renderedTransform_=Fn(),this.hitDetectionInstructions=a.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=a.fillStates||{},this.strokeStates=a.strokeStates||{},this.textStates=a.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=o?new w1:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,n,s,a){const o=t+n+s+a;if(this.labels_[o])return this.labels_[o];const c=a?this.strokeStates[a]:null,h=s?this.fillStates[s]:null,d=this.textStates[n],g=this.pixelRatio,_=[d.scale[0]*g,d.scale[1]*g],y=d.justify?Pu[d.justify]:jf(Array.isArray(t)?t[0]:t,d.textAlign||Hl),p=a&&c.lineWidth?c.lineWidth:0,E=Array.isArray(t)?t:String(t).split(`
`).reduce(vR,[]),{width:x,height:C,widths:R,heights:T,lineWidths:b}=kC(d,E),O=x+p,D=[],w=(O+2)*_[0],X=(C+p)*_[1],K={width:w<0?Math.floor(w):Math.ceil(w),height:X<0?Math.floor(X):Math.ceil(X),contextInstructions:D};(_[0]!=1||_[1]!=1)&&D.push("scale",_),a&&(D.push("strokeStyle",c.strokeStyle),D.push("lineWidth",p),D.push("lineCap",c.lineCap),D.push("lineJoin",c.lineJoin),D.push("miterLimit",c.miterLimit),D.push("setLineDash",[c.lineDash]),D.push("lineDashOffset",c.lineDashOffset)),s&&D.push("fillStyle",h.fillStyle),D.push("textBaseline","middle"),D.push("textAlign","center");const P=.5-y;let k=y*O+P*p;const q=[],it=[];let rt=0,ot=0,tt=0,mt=0,F;for(let $=0,Q=E.length;$<Q;$+=2){const nt=E[$];if(nt===`
`){ot+=rt,rt=0,k=y*O+P*p,++mt;continue}const M=E[$+1]||d.font;M!==F&&(a&&q.push("font",M),s&&it.push("font",M),F=M),rt=Math.max(rt,T[tt]);const B=[nt,k+P*R[tt]+y*(R[tt]-b[mt]),.5*(p+rt)+ot];k+=R[tt],a&&q.push("strokeText",B),s&&it.push("fillText",B),++tt}return Array.prototype.push.apply(D,q),Array.prototype.push.apply(D,it),this.labels_[o]=K,K}replayTextBackground_(t,n,s,a,o,c,h){t.beginPath(),t.moveTo.apply(t,n),t.lineTo.apply(t,s),t.lineTo.apply(t,a),t.lineTo.apply(t,o),t.lineTo.apply(t,n),c&&(this.alignAndScaleFill_=c[2],t.fillStyle=c[1],this.fill_(t)),h&&(this.setStrokeStyle_(t,h),t.stroke())}calculateImageOrLabelDimensions_(t,n,s,a,o,c,h,d,g,_,y,p,E,x,C,R){h*=p[0],d*=p[1];let T=s-h,b=a-d;const O=o+g>t?t-g:o,D=c+_>n?n-_:c,w=x[3]+O*p[0]+x[1],X=x[0]+D*p[1]+x[2],K=T-x[3],P=b-x[0];(C||y!==0)&&(ls[0]=K,os[0]=K,ls[1]=P,Ri[1]=P,Ri[0]=K+w,Ti[0]=Ri[0],Ti[1]=P+X,os[1]=Ti[1]);let k;return y!==0?(k=zi(Fn(),s,a,1,1,y,-s,-a),pe(k,ls),pe(k,Ri),pe(k,Ti),pe(k,os),vs(Math.min(ls[0],Ri[0],Ti[0],os[0]),Math.min(ls[1],Ri[1],Ti[1],os[1]),Math.max(ls[0],Ri[0],Ti[0],os[0]),Math.max(ls[1],Ri[1],Ti[1],os[1]),jr)):vs(Math.min(K,K+w),Math.min(P,P+X),Math.max(K,K+w),Math.max(P,P+X),jr),E&&(T=Math.round(T),b=Math.round(b)),{drawImageX:T,drawImageY:b,drawImageW:O,drawImageH:D,originX:g,originY:_,declutterBox:{minX:jr[0],minY:jr[1],maxX:jr[2],maxY:jr[3],value:R},canvasTransform:k,scale:p}}replayImageOrLabel_(t,n,s,a,o,c,h){const d=!!(c||h),g=a.declutterBox,_=h?h[2]*a.scale[0]/2:0;return g.minX-_<=n[0]&&g.maxX+_>=0&&g.minY-_<=n[1]&&g.maxY+_>=0&&(d&&this.replayTextBackground_(t,ls,Ri,Ti,os,c,h),GC(t,a.canvasTransform,o,s,a.originX,a.originY,a.drawImageW,a.drawImageH,a.drawImageX,a.drawImageY,a.scale)),!0}fill_(t){const n=this.alignAndScaleFill_;if(n){const s=pe(this.renderedTransform_,[0,0]),a=512*this.pixelRatio;t.save(),t.translate(s[0]%a,s[1]%a),n!==1&&t.scale(n,n),t.rotate(this.viewRotation_)}t.fill(),n&&t.restore()}setStrokeStyle_(t,n){t.strokeStyle=n[1],t.lineWidth=n[2],t.lineCap=n[3],t.lineJoin=n[4],t.miterLimit=n[5],t.lineDashOffset=n[7],t.setLineDash(n[6])}drawLabelWithPointPlacement_(t,n,s,a){const o=this.textStates[n],c=this.createLabel(t,n,a,s),h=this.strokeStates[s],d=this.pixelRatio,g=jf(Array.isArray(t)?t[0]:t,o.textAlign||Hl),_=Pu[o.textBaseline||Bu],y=h&&h.lineWidth?h.lineWidth:0,p=c.width/d-2*o.scale[0],E=g*p+2*(.5-g)*y,x=_*c.height/d+2*(.5-_)*y;return{label:c,anchorX:E,anchorY:x}}execute_(t,n,s,a,o,c,h,d){const g=this.zIndexContext_;let _;this.pixelCoordinates_&&xs(s,this.renderedTransform_)?_=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),_=ys(this.coordinates,0,this.coordinates.length,2,s,this.pixelCoordinates_),VS(this.renderedTransform_,s));let y=0;const p=a.length;let E=0,x,C,R,T,b,O,D,w,X,K,P,k,q,it=0,rt=0;const ot=this.coordinateCache_,tt=this.viewRotation_,mt=Math.round(Math.atan2(-s[1],s[0])*1e12)/1e12,F={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:tt},$=this.instructions!=a||this.overlaps?0:200;let Q,nt,M,B;for(;y<p;){const U=a[y];switch(U[0]){case ht.BEGIN_GEOMETRY:Q=U[1],B=U[3],Q.getGeometry()?h!==void 0&&!qe(h,B.getExtent())?y=U[2]+1:++y:y=U[2],g&&(g.zIndex=U[4]);break;case ht.BEGIN_PATH:it>$&&(this.fill_(t),it=0),rt>$&&(t.stroke(),rt=0),!it&&!rt&&(t.beginPath(),b=NaN,O=NaN),++y;break;case ht.CIRCLE:E=U[1];const J=_[E],at=_[E+1],ct=_[E+2],Gt=_[E+3],yt=ct-J,Xt=Gt-at,Et=Math.sqrt(yt*yt+Xt*Xt);t.moveTo(J+Et,at),t.arc(J,at,Et,0,2*Math.PI,!0),++y;break;case ht.CLOSE_PATH:t.closePath(),++y;break;case ht.CUSTOM:E=U[1],x=U[2];const ze=U[3],Xn=U[4],$e=U[5];F.geometry=ze,F.feature=Q,y in ot||(ot[y]=[]);const Je=ot[y];$e?$e(_,E,x,2,Je):(Je[0]=_[E],Je[1]=_[E+1],Je.length=2),g&&(g.zIndex=U[6]),Xn(Je,F),++y;break;case ht.DRAW_IMAGE:E=U[1],x=U[2],X=U[3],C=U[4],R=U[5];let Bn=U[6];const Ee=U[7],Xe=U[8],bn=U[9],An=U[10];let Hn=U[11];const si=U[12];let Mn=U[13];T=U[14]||"declutter";const ri=U[15];if(!X&&U.length>=20){K=U[19],P=U[20],k=U[21],q=U[22];const he=this.drawLabelWithPointPlacement_(K,P,k,q);X=he.label,U[3]=X;const ai=U[23];C=(he.anchorX-ai)*this.pixelRatio,U[4]=C;const Ne=U[24];R=(he.anchorY-Ne)*this.pixelRatio,U[5]=R,Bn=X.height,U[6]=Bn,Mn=X.width,U[13]=Mn}let Pt;U.length>25&&(Pt=U[25]);let xa,Ss,Cs;U.length>17?(xa=U[16],Ss=U[17],Cs=U[18]):(xa=Js,Ss=null,Cs=null),An&&mt?Hn+=tt:!An&&!mt&&(Hn-=tt);let lr=0;for(;E<x;E+=2){if(Pt&&Pt[lr++]<Mn/this.pixelRatio)continue;const he=this.calculateImageOrLabelDimensions_(X.width,X.height,_[E],_[E+1],Mn,Bn,C,R,Xe,bn,Hn,si,o,xa,!!Ss||!!Cs,Q),ai=[t,n,X,he,Ee,Ss,Cs];if(d){let Ne,tn,be;if(ri){const qt=x-E;if(!ri[qt]){ri[qt]={args:ai,declutterMode:T};continue}const fe=ri[qt];Ne=fe.args,tn=fe.declutterMode,delete ri[qt],be=Vy(Ne)}let ke,On;if(Ne&&(tn!=="declutter"||!d.collides(be))&&(ke=!0),(T!=="declutter"||!d.collides(he.declutterBox))&&(On=!0),tn==="declutter"&&T==="declutter"){const qt=ke&&On;ke=qt,On=qt}ke&&(tn!=="none"&&d.insert(be),this.replayImageOrLabel_.apply(this,Ne)),On&&(T!=="none"&&d.insert(he.declutterBox),this.replayImageOrLabel_.apply(this,ai))}else this.replayImageOrLabel_.apply(this,ai)}++y;break;case ht.DRAW_CHARS:const lo=U[1],Sa=U[2],Ca=U[3],yc=U[4];q=U[5];const Rs=U[6],Te=U[7],oo=U[8];k=U[9];const ln=U[10];K=U[11],P=U[12];const we=[U[13],U[13]];T=U[14]||"declutter";const pc=U[15],Ra=this.textStates[P],Ts=Ra.font,Pn=[Ra.scale[0]*Te,Ra.scale[1]*Te];let jn;Ts in this.widths_?jn=this.widths_[Ts]:(jn={},this.widths_[Ts]=jn);const Zn=_C(_,lo,Sa,2),ws=Math.abs(Pn[0])*Ny(Ts,K,jn);if(yc||ws<=Zn){const he=this.textStates[P].textAlign,ai=(Zn-ws)*jf(K,he),Ne=pR(_,lo,Sa,2,K,ai,Rs,Math.abs(Pn[0]),Ny,Ts,jn,mt?0:this.viewRotation_,pc);t:if(Ne){const tn=[];let be,ke,On,qt,fe;if(k)for(be=0,ke=Ne.length;be<ke;++be){fe=Ne[be],On=fe[4],qt=this.createLabel(On,P,"",k),C=fe[2]+(Pn[0]<0?-ln:ln),R=Ca*qt.height+(.5-Ca)*2*ln*Pn[1]/Pn[0]-oo;const on=this.calculateImageOrLabelDimensions_(qt.width,qt.height,fe[0],fe[1],qt.width,qt.height,C,R,0,0,fe[3],we,!1,Js,!1,Q);if(d&&T==="declutter"&&d.collides(on.declutterBox))break t;tn.push([t,n,qt,on,1,null,null])}if(q)for(be=0,ke=Ne.length;be<ke;++be){fe=Ne[be],On=fe[4],qt=this.createLabel(On,P,q,""),C=fe[2],R=Ca*qt.height-oo;const on=this.calculateImageOrLabelDimensions_(qt.width,qt.height,fe[0],fe[1],qt.width,qt.height,C,R,0,0,fe[3],we,!1,Js,!1,Q);if(d&&T==="declutter"&&d.collides(on.declutterBox))break t;tn.push([t,n,qt,on,1,null,null])}d&&T!=="none"&&d.load(tn.map(Vy));for(let on=0,uo=tn.length;on<uo;++on)this.replayImageOrLabel_.apply(this,tn[on])}}++y;break;case ht.END_GEOMETRY:if(c!==void 0){Q=U[1];const he=c(Q,B,T);if(he)return he}++y;break;case ht.FILL:$?it++:this.fill_(t),++y;break;case ht.MOVE_TO_LINE_TO:for(E=U[1],x=U[2],nt=_[E],M=_[E+1],t.moveTo(nt,M),b=nt+.5|0,O=M+.5|0,E+=2;E<x;E+=2)nt=_[E],M=_[E+1],D=nt+.5|0,w=M+.5|0,(E==x-2||D!==b||w!==O)&&(t.lineTo(nt,M),b=D,O=w);++y;break;case ht.SET_FILL_STYLE:this.alignAndScaleFill_=U[2],it&&(this.fill_(t),it=0,rt&&(t.stroke(),rt=0)),t.fillStyle=U[1],++y;break;case ht.SET_STROKE_STYLE:rt&&(t.stroke(),rt=0),this.setStrokeStyle_(t,U),++y;break;case ht.STROKE:$?rt++:t.stroke(),++y;break;default:++y;break}}it&&this.fill_(t),rt&&t.stroke()}execute(t,n,s,a,o,c){this.viewRotation_=a,this.execute_(t,n,s,this.instructions,o,void 0,void 0,c)}executeHitDetection(t,n,s,a,o){return this.viewRotation_=s,this.execute_(t,[t.canvas.width,t.canvas.height],n,this.hitDetectionInstructions,!0,a,o)}}const ia=["Polygon","Circle","LineString","Image","Text","Default"],b1=["Image","Text"],xR=ia.filter(r=>!b1.includes(r));class SR{constructor(t,n,s,a,o,c,h){this.maxExtent_=t,this.overlaps_=a,this.pixelRatio_=s,this.resolution_=n,this.renderBuffer_=c,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Fn(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(o,h)}clip(t,n){const s=this.getClipCoords(n);t.beginPath(),t.moveTo(s[0],s[1]),t.lineTo(s[2],s[3]),t.lineTo(s[4],s[5]),t.lineTo(s[6],s[7]),t.clip()}createExecutors_(t,n){for(const s in t){let a=this.executorsByZIndex_[s];a===void 0&&(a={},this.executorsByZIndex_[s]=a);const o=t[s];for(const c in o){const h=o[c];a[c]=new ER(this.resolution_,this.pixelRatio_,this.overlaps_,h,n)}}}hasExecutors(t){for(const n in this.executorsByZIndex_){const s=this.executorsByZIndex_[n];for(let a=0,o=t.length;a<o;++a)if(t[a]in s)return!0}return!1}forEachFeatureAtCoordinate(t,n,s,a,o,c){a=Math.round(a);const h=a*2+1,d=zi(this.hitDetectionTransform_,a+.5,a+.5,1/n,-1/n,-s,-t[0],-t[1]),g=!this.hitDetectionContext_;g&&(this.hitDetectionContext_=ve(h,h,void 0,{willReadFrequently:!0}));const _=this.hitDetectionContext_;_.canvas.width!==h||_.canvas.height!==h?(_.canvas.width=h,_.canvas.height=h):g||_.clearRect(0,0,h,h);let y;this.renderBuffer_!==void 0&&(y=wn(),Il(y,t),Od(y,n*(this.renderBuffer_+a),y));const p=CR(a);let E;function x(w,X,K){const P=_.getImageData(0,0,h,h).data;for(let k=0,q=p.length;k<q;k++)if(P[p[k]]>0){if(!c||K==="none"||E!=="Image"&&E!=="Text"||c.includes(w)){const it=(p[k]-3)/4,rt=a-it%h,ot=a-(it/h|0),tt=o(w,X,rt*rt+ot*ot);if(tt)return tt}_.clearRect(0,0,h,h);break}}const C=Object.keys(this.executorsByZIndex_).map(Number);C.sort(Oi);let R,T,b,O,D;for(R=C.length-1;R>=0;--R){const w=C[R].toString();for(b=this.executorsByZIndex_[w],T=ia.length-1;T>=0;--T)if(E=ia[T],O=b[E],O!==void 0&&(D=O.executeHitDetection(_,d,s,x,y),D))return D}}getClipCoords(t){const n=this.maxExtent_;if(!n)return null;const s=n[0],a=n[1],o=n[2],c=n[3],h=[s,a,s,c,o,c,o,a];return ys(h,0,8,2,t,h),h}isEmpty(){return ha(this.executorsByZIndex_)}execute(t,n,s,a,o,c,h){const d=Object.keys(this.executorsByZIndex_).map(Number);d.sort(h?tS:Oi),c=c||ia;const g=ia.length;for(let _=0,y=d.length;_<y;++_){const p=d[_].toString(),E=this.executorsByZIndex_[p];for(let x=0,C=c.length;x<C;++x){const R=c[x],T=E[R];if(T!==void 0){const b=h===null?void 0:T.getZIndexContext(),O=b?b.getContext():t,D=this.maxExtent_&&R!=="Image"&&R!=="Text";if(D&&(O.save(),this.clip(O,s)),!b||R==="Text"||R==="Image"?T.execute(O,n,s,a,o,h):b.pushFunction(w=>T.execute(w,n,s,a,o,h)),D&&O.restore(),b){b.offset();const w=d[_]*g+x;this.deferredZIndexContexts_[w]||(this.deferredZIndexContexts_[w]=[]),this.deferredZIndexContexts_[w].push(b)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const t=this.deferredZIndexContexts_,n=Object.keys(t).map(Number).sort(Oi);for(let s=0,a=n.length;s<a;++s)t[n[s]].forEach(o=>{o.draw(this.renderedContext_),o.clear()}),t[n[s]].length=0}}const Zf={};function CR(r){if(Zf[r]!==void 0)return Zf[r];const t=r*2+1,n=r*r,s=new Array(n+1);for(let o=0;o<=r;++o)for(let c=0;c<=r;++c){const h=o*o+c*c;if(h>n)break;let d=s[h];d||(d=[],s[h]=d),d.push(((r+o)*t+(r+c))*4+3),o>0&&d.push(((r-o)*t+(r+c))*4+3),c>0&&(d.push(((r+o)*t+(r-c))*4+3),o>0&&d.push(((r-o)*t+(r-c))*4+3))}const a=[];for(let o=0,c=s.length;o<c;++o)s[o]&&a.push(...s[o]);return Zf[r]=a,a}function Ky(r,t,n,s){return n!==void 0&&s!==void 0?[n/r,s/t]:n!==void 0?n/r:s!==void 0?s/t:1}class io extends hc{constructor(t){t=t||{};const n=t.opacity!==void 0?t.opacity:1,s=t.rotation!==void 0?t.rotation:0,a=t.scale!==void 0?t.scale:1,o=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:n,rotation:s,scale:a,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:o,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:"top-left",this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:"fraction",this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:"fraction",this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;const c=t.img!==void 0?t.img:null;let h=t.src;zt(!(h!==void 0&&c),"`image` and `src` cannot be provided at the same time"),(h===void 0||h.length===0)&&c&&(h=c.src||kt(c)),zt(h!==void 0&&h.length>0,"A defined and non-empty `src` or `image` must be provided"),zt(!((t.width!==void 0||t.height!==void 0)&&t.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let d;if(t.src!==void 0?d=Ct.IDLE:c!==void 0&&("complete"in c?c.complete?d=c.src?Ct.LOADED:Ct.IDLE:d=Ct.LOADING:d=Ct.LOADED),this.color_=t.color!==void 0?ga(t.color):null,this.iconImage_=Wd(c,h,this.crossOrigin_,d,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:"top-left",this.origin_=null,this.size_=t.size!==void 0?t.size:null,this.initialOptions_,t.width!==void 0||t.height!==void 0){let g,_;if(t.size)[g,_]=t.size;else{const y=this.getImage(1);if(y.width&&y.height)g=y.width,_=y.height;else if(y instanceof HTMLImageElement){this.initialOptions_=t;const p=()=>{if(this.unlistenImageChange(p),!this.initialOptions_)return;const E=this.iconImage_.getSize();this.setScale(Ky(E[0],E[1],t.width,t.height))};this.listenImageChange(p);return}}g!==void 0&&this.setScale(Ky(g,_,t.width,t.height))}}clone(){let t,n,s;return this.initialOptions_?(n=this.initialOptions_.width,s=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new io({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:n,height:s,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const a=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!a)return null;t=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(t[0]*=a[0]),this.anchorYUnits_=="fraction"&&(t[1]*=a[1])}if(this.anchorOrigin_!="top-left"){if(!a)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(t[0]=-t[0]+a[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+a[1])}this.normalizedAnchor_=t}const n=this.getDisplacement(),s=this.getScaleArray();return[t[0]-n[0]/s[0],t[1]+n[1]/s[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),s=this.iconImage_.getSize();if(!n||!s)return null;t=t.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(t[0]=s[0]-n[0]-t[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(t[1]=s[1]-n[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();if(this.size_)return this.size_[0]*t[0];if(this.iconImage_.getImageState()==Ct.LOADED)return this.iconImage_.getSize()[0]*t[0]}getHeight(){const t=this.getScaleArray();if(this.size_)return this.size_[1]*t[1];if(this.iconImage_.getImageState()==Ct.LOADED)return this.iconImage_.getSize()[1]*t[1]}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(vt.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(vt.CHANGE,t)}ready(){return this.iconImage_.ready()}}const $n=.5;function RR(r,t,n,s,a,o,c,h,d){const g=a,_=r[0]*$n,y=r[1]*$n,p=ve(_,y);p.imageSmoothingEnabled=!1;const E=p.canvas,x=new FC(p,$n,a,null,c,h,null),C=n.length,R=Math.floor((256*256*256-1)/C),T={};for(let O=1;O<=C;++O){const D=n[O-1],w=D.getStyleFunction()||s;if(!w)continue;let X=w(D,o);if(!X)continue;Array.isArray(X)||(X=[X]);const P=(O*R).toString(16).padStart(7,"#00000");for(let k=0,q=X.length;k<q;++k){const it=X[k],rt=it.getGeometryFunction()(D);if(!rt||!qe(g,rt.getExtent()))continue;const ot=it.clone(),tt=ot.getFill();tt&&tt.setColor(P);const mt=ot.getStroke();mt&&(mt.setColor(P),mt.setLineDash(null)),ot.setText(void 0);const F=it.getImage();if(F){const M=F.getImageSize();if(!M)continue;const B=ve(M[0],M[1],void 0,{alpha:!1}),U=B.canvas;B.fillStyle=P,B.fillRect(0,0,U.width,U.height),ot.setImage(new io({img:U,anchor:F.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:F.getOrigin(),opacity:1,size:F.getSize(),scale:F.getScale(),rotation:F.getRotation(),rotateWithView:F.getRotateWithView()}))}const $=ot.getZIndex()||0;let Q=T[$];Q||(Q={},T[$]=Q,Q.Polygon=[],Q.Circle=[],Q.LineString=[],Q.Point=[]);const nt=rt.getType();if(nt==="GeometryCollection"){const M=rt.getGeometriesArrayRecursive();for(let B=0,U=M.length;B<U;++B){const et=M[B];Q[et.getType().replace("Multi","")].push(et,ot)}}else Q[nt.replace("Multi","")].push(rt,ot)}}const b=Object.keys(T).map(Number).sort(Oi);for(let O=0,D=b.length;O<D;++O){const w=T[b[O]];for(const X in w){const K=w[X];for(let P=0,k=K.length;P<k;P+=2){x.setStyle(K[P+1]);for(let q=0,it=t.length;q<it;++q)x.setTransform(t[q]),x.drawGeometry(K[P])}}}return p.getImageData(0,0,E.width,E.height)}function TR(r,t,n){const s=[];if(n){const a=Math.floor(Math.round(r[0])*$n),o=Math.floor(Math.round(r[1])*$n),c=(le(a,0,n.width-1)+le(o,0,n.height-1)*n.width)*4,h=n.data[c],d=n.data[c+1],_=n.data[c+2]+256*(d+256*h),y=Math.floor((256*256*256-1)/t.length);_&&_%y===0&&s.push(t[_/y-1])}return s}class A1 extends ki{constructor(t,n,s,a){super(t),this.inversePixelTransform=n,this.frameState=s,this.context=a}}const wR=5;class bR extends Jl{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.staleKeys_=new Array,this.maxStaleKeys=wR}getStaleKeys(){return this.staleKeys_}prependStaleKey(t){this.staleKeys_.unshift(t),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(t){return Lt()}getData(t){return null}prepareFrame(t){return Lt()}renderFrame(t,n){return Lt()}forEachFeatureAtCoordinate(t,n,s,a,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const n=t.target;(n.getState()===Ct.LOADED||n.getState()===Ct.ERROR)&&this.renderIfReadyAndVisible()}loadImage(t){let n=t.getState();return n!=Ct.LOADED&&n!=Ct.ERROR&&t.addEventListener(vt.CHANGE,this.boundHandleImageChange_),n==Ct.IDLE&&(t.load(),n=t.getState()),n==Ct.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const Wy=[];let Jr=null;function AR(){Jr=ve(1,1,void 0,{willReadFrequently:!0})}class M1 extends bR{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=Fn(),this.pixelTransform=Fn(),this.inversePixelTransform=Fn(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(t,n,s){Jr||AR(),Jr.clearRect(0,0,1,1);let a;try{Jr.drawImage(t,n,s,1,1,0,0,1,1),a=Jr.getImageData(0,0,1,1).data}catch{return Jr=null,null}return a}getBackground(t){let s=this.getLayer().getBackground();return typeof s=="function"&&(s=s(t.viewState.resolution)),s||void 0}useContainer(t,n,s){const a=this.getLayer().getClassName();let o,c;if(t&&t.className===a&&(!s||t&&t.style.backgroundColor&&xs(ga(t.style.backgroundColor),ga(s)))){const h=t.firstElementChild;h instanceof HTMLCanvasElement&&(c=h.getContext("2d"))}if(c&&c.canvas.style.transform===n?(this.container=t,this.context=c,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){o=document.createElement("div"),o.className=a;let h=o.style;h.position="absolute",h.width="100%",h.height="100%",c=ve();const d=c.canvas;o.appendChild(d),h=d.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=o,this.context=c}!this.containerReused&&s&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=s)}clipUnrotated(t,n,s){const a=rr(s),o=ic(s),c=nc(s),h=ec(s);pe(n.coordinateToPixelTransform,a),pe(n.coordinateToPixelTransform,o),pe(n.coordinateToPixelTransform,c),pe(n.coordinateToPixelTransform,h);const d=this.inversePixelTransform;pe(d,a),pe(d,o),pe(d,c),pe(d,h),t.save(),t.beginPath(),t.moveTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(c[0]),Math.round(c[1])),t.lineTo(Math.round(h[0]),Math.round(h[1])),t.clip()}prepareContainer(t,n){const s=t.extent,a=t.viewState.resolution,o=t.viewState.rotation,c=t.pixelRatio,h=Math.round(Yt(s)/a*c),d=Math.round(Ye(s)/a*c);zi(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/c,1/c,o,-h/2,-d/2),Qp(this.inversePixelTransform,this.pixelTransform);const g=KS(this.pixelTransform);if(this.useContainer(n,g,this.getBackground(t)),!this.containerReused){const _=this.context.canvas;_.width!=h||_.height!=d?(_.width=h,_.height=d):this.context.clearRect(0,0,h,d),g!==_.style.transform&&(_.style.transform=g)}}dispatchRenderEvent_(t,n,s){const a=this.getLayer();if(a.hasListener(t)){const o=new A1(t,this.inversePixelTransform,s,n);a.dispatchEvent(o)}}preRender(t,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(Cn.PRERENDER,t,n)}postRender(t,n){n.declutter||this.dispatchRenderEvent_(Cn.POSTRENDER,t,n)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new w1),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(Cn.PRERENDER,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(Cn.POSTRENDER,this.context,t))}getRenderTransform(t,n,s,a,o,c,h){const d=o/2,g=c/2,_=a/n,y=-_,p=-t[0]+h,E=-t[1];return zi(this.tempTransform,d,g,_,y,-s,p,E)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class MR extends M1{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=wn(),this.wrappedRenderedExtent_=wn(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,n,s){const a=n.extent,o=n.viewState,c=o.center,h=o.resolution,d=o.projection,g=o.rotation,_=d.getExtent(),y=this.getLayer().getSource(),p=this.getLayer().getDeclutter(),E=n.pixelRatio,x=n.viewHints,C=!(x[Le.ANIMATING]||x[Le.INTERACTING]),R=this.context,T=Math.round(Yt(a)/h*E),b=Math.round(Ye(a)/h*E),O=y.getWrapX()&&d.canWrapX(),D=O?Yt(_):null,w=O?Math.ceil((a[2]-_[2])/D)+1:1;let X=O?Math.floor((a[0]-_[0])/D):0;do{let K=this.getRenderTransform(c,h,0,E,T,b,X*D);n.declutter&&(K=K.slice(0)),t.execute(R,[R.canvas.width,R.canvas.height],K,g,C,s===void 0?ia:s?b1:xR,s?p&&n.declutter[p]:void 0)}while(++X<w)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=ve(this.context.canvas.width,this.context.canvas.height,Wy))}resetDrawContext_(){if(this.opacity_!==1){const t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,oc(this.context),Wy.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(t,n){const s=t.layerStatesArray[t.layerIndex];this.opacity_=s.opacity;const a=t.viewState;this.prepareContainer(t,n);const o=this.context,c=this.replayGroup_;let h=c&&!c.isEmpty();if(!h&&!(this.getLayer().hasListener(Cn.PRERENDER)||this.getLayer().hasListener(Cn.POSTRENDER)))return null;if(this.setDrawContext_(),this.preRender(o,t),a.projection,this.clipped_=!1,h&&s.extent&&this.clipping){const d=gs(s.extent);h=qe(d,t.extent),this.clipped_=h&&!wl(d,t.extent),this.clipped_&&this.clipUnrotated(o,t,d)}return h&&this.renderWorlds(c,t,this.getLayer().getDeclutter()?!1:void 0),!t.declutter&&this.clipped_&&o.restore(),this.postRender(o,t),this.renderedRotation_!==a.rotation&&(this.renderedRotation_=a.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const s=this.frameState.size.slice(),a=this.renderedCenter_,o=this.renderedResolution_,c=this.renderedRotation_,h=this.renderedProjection_,d=this.wrappedRenderedExtent_,g=this.getLayer(),_=[],y=s[0]*$n,p=s[1]*$n;_.push(this.getRenderTransform(a,o,c,$n,y,p,0).slice());const E=g.getSource(),x=h.getExtent();if(E.getWrapX()&&h.canWrapX()&&!wl(x,d)){let C=d[0];const R=Yt(x);let T=0,b;for(;C<x[0];)--T,b=R*T,_.push(this.getRenderTransform(a,o,c,$n,y,p,b).slice()),C+=R;for(T=0,C=d[2];C>x[2];)++T,b=R*T,_.push(this.getRenderTransform(a,o,c,$n,y,p,b).slice()),C-=R}this.hitDetectionImageData_=RR(s,_,this.renderedFeatures_,g.getStyleFunction(),d,o,c,ky(o,this.renderedPixelRatio_))}n(TR(t,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(t,n,s,a,o){var p,E;if(!this.replayGroup_)return;const c=n.viewState.resolution,h=n.viewState.rotation,d=this.getLayer(),g={},_=function(x,C,R){const T=kt(x),b=g[T];if(b){if(b!==!0&&R<b.distanceSq){if(R===0)return g[T]=!0,o.splice(o.lastIndexOf(b),1),a(x,d,C);b.geometry=C,b.distanceSq=R}}else{if(R===0)return g[T]=!0,a(x,d,C);o.push(g[T]={feature:x,layer:d,geometry:C,distanceSq:R,callback:a})}},y=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(t,c,h,s,_,y?(E=(p=n.declutter)==null?void 0:p[y])==null?void 0:E.all().map(x=>x.value):null)}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const n=this.getLayer(),s=n.getSource();if(!s)return!1;const a=t.viewHints[Le.ANIMATING],o=t.viewHints[Le.INTERACTING],c=n.getUpdateWhileAnimating(),h=n.getUpdateWhileInteracting();if(this.ready&&!c&&a||!h&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const d=t.extent,g=t.viewState,_=g.projection,y=g.resolution,p=t.pixelRatio,E=n.getRevision(),x=n.getRenderBuffer();let C=n.getRenderOrder();C===void 0&&(C=XC);const R=g.center.slice(),T=Od(d,x*y),b=T.slice(),O=[T.slice()],D=_.getExtent();if(s.getWrapX()&&_.canWrapX()&&!wl(D,t.extent)){const tt=Yt(D),mt=Math.max(Yt(T)/2,tt);T[0]=D[0]-mt,T[2]=D[2]+mt,Hp(R,_);const F=Yp(O[0],_);F[0]<D[0]&&F[2]<D[2]?O.push([F[0]+tt,F[1],F[2]+tt,F[3]]):F[0]>D[0]&&F[2]>D[2]&&O.push([F[0]-tt,F[1],F[2]-tt,F[3]])}if(this.ready&&this.renderedResolution_==y&&this.renderedRevision_==E&&this.renderedRenderOrder_==C&&this.renderedFrameDeclutter_===!!t.declutter&&wl(this.wrappedRenderedExtent_,T))return xs(this.renderedExtent_,b)||(this.hitDetectionImageData_=null,this.renderedExtent_=b),this.renderedCenter_=R,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const w=new yR(E1(y,p),T,y,p);let X;for(let tt=0,mt=O.length;tt<mt;++tt)s.loadFeatures(O[tt],y,_);const K=ky(y,p);let P=!0;const k=(tt,mt)=>{let F;const $=tt.getStyleFunction()||n.getStyleFunction();if($&&(F=$(tt,y)),F){const Q=this.renderFeature(tt,K,F,w,X,this.getLayer().getDeclutter(),mt);P=P&&!Q}},q=Wp(T),it=s.getFeaturesInExtent(q);C&&it.sort(C);for(let tt=0,mt=it.length;tt<mt;++tt)k(it[tt],tt);this.renderedFeatures_=it,this.ready=P;const rt=w.finish(),ot=new SR(T,y,p,s.getOverlaps(),rt,n.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=y,this.renderedRevision_=E,this.renderedRenderOrder_=C,this.renderedFrameDeclutter_=!!t.declutter,this.renderedExtent_=b,this.wrappedRenderedExtent_=T,this.renderedCenter_=R,this.renderedProjection_=_,this.renderedPixelRatio_=p,this.replayGroup_=ot,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,n,s,a,o,c,h){if(!s)return!1;let d=!1;if(Array.isArray(s))for(let g=0,_=s.length;g<_;++g)d=Gy(a,t,s[g],n,this.boundHandleStyleImageChange_,o,c,h)||d;else d=Gy(a,t,s,n,this.boundHandleStyleImageChange_,o,c,h);return d}}let ar=0;const Fe=1<<ar++,At=1<<ar++,Ve=1<<ar++,Gn=1<<ar++,ir=1<<ar++,Ml=1<<ar++,Au=Math.pow(2,ar)-1,Jd={[Fe]:"boolean",[At]:"number",[Ve]:"string",[Gn]:"color",[ir]:"number[]",[Ml]:"size"},OR=Object.keys(Jd).map(Number).sort(Oi);function DR(r){return r in Jd}function Ol(r){const t=[];for(const n of OR)Dl(r,n)&&t.push(Jd[n]);return t.length===0?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function Dl(r,t){return(r&t)===t}function us(r,t){return r===t}class ce{constructor(t,n){if(!DR(t))throw new Error(`literal expressions must have a specific type, got ${Ol(t)}`);this.type=t,this.value=n}}class LR{constructor(t,n,...s){this.type=t,this.operator=n,this.args=s}}function O1(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function Re(r,t,n){switch(typeof r){case"boolean":{if(us(t,Ve))return new ce(Ve,r?"true":"false");if(!Dl(t,Fe))throw new Error(`got a boolean, but expected ${Ol(t)}`);return new ce(Fe,r)}case"number":{if(us(t,Ml))return new ce(Ml,We(r));if(us(t,Fe))return new ce(Fe,!!r);if(us(t,Ve))return new ce(Ve,r.toString());if(!Dl(t,At))throw new Error(`got a number, but expected ${Ol(t)}`);return new ce(At,r)}case"string":{if(us(t,Gn))return new ce(Gn,qd(r));if(us(t,Fe))return new ce(Fe,!!r);if(!Dl(t,Ve))throw new Error(`got a string, but expected ${Ol(t)}`);return new ce(Ve,r)}}if(!Array.isArray(r))throw new Error("expression must be an array or a primitive value");if(r.length===0)throw new Error("empty expression");if(typeof r[0]=="string")return HR(r,t,n);for(const s of r)if(typeof s!="number")throw new Error("expected an array of numbers");if(us(t,Ml)){if(r.length!==2)throw new Error(`expected an array of two values for a size, got ${r.length}`);return new ce(Ml,r)}if(us(t,Gn)){if(r.length===3)return new ce(Gn,[...r,1]);if(r.length===4)return new ce(Gn,r);throw new Error(`expected an array of 3 or 4 values for a color, got ${r.length}`)}if(!Dl(t,ir))throw new Error(`got an array of numbers, but expected ${Ol(t)}`);return new ce(ir,r)}const Z={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},IR={[Z.Get]:_t(St(1,1/0),Qy),[Z.Var]:_t(St(1,1),zR),[Z.Has]:_t(St(1,1/0),Qy),[Z.Id]:_t(NR,Zr),[Z.Concat]:_t(St(2,1/0),Nt(Ve)),[Z.GeometryType]:_t(kR,Zr),[Z.LineMetric]:_t(Zr),[Z.Resolution]:_t(Vf,Zr),[Z.Zoom]:_t(Vf,Zr),[Z.Time]:_t(Vf,Zr),[Z.Any]:_t(St(2,1/0),Nt(Fe)),[Z.All]:_t(St(2,1/0),Nt(Fe)),[Z.Not]:_t(St(1,1),Nt(Fe)),[Z.Equal]:_t(St(2,2),Nt(Au)),[Z.NotEqual]:_t(St(2,2),Nt(Au)),[Z.GreaterThan]:_t(St(2,2),Nt(At)),[Z.GreaterThanOrEqualTo]:_t(St(2,2),Nt(At)),[Z.LessThan]:_t(St(2,2),Nt(At)),[Z.LessThanOrEqualTo]:_t(St(2,2),Nt(At)),[Z.Multiply]:_t(St(2,1/0),$y),[Z.Coalesce]:_t(St(2,1/0),$y),[Z.Divide]:_t(St(2,2),Nt(At)),[Z.Add]:_t(St(2,1/0),Nt(At)),[Z.Subtract]:_t(St(2,2),Nt(At)),[Z.Clamp]:_t(St(3,3),Nt(At)),[Z.Mod]:_t(St(2,2),Nt(At)),[Z.Pow]:_t(St(2,2),Nt(At)),[Z.Abs]:_t(St(1,1),Nt(At)),[Z.Floor]:_t(St(1,1),Nt(At)),[Z.Ceil]:_t(St(1,1),Nt(At)),[Z.Round]:_t(St(1,1),Nt(At)),[Z.Sin]:_t(St(1,1),Nt(At)),[Z.Cos]:_t(St(1,1),Nt(At)),[Z.Atan]:_t(St(1,2),Nt(At)),[Z.Sqrt]:_t(St(1,1),Nt(At)),[Z.Match]:_t(St(4,1/0),Jy,UR),[Z.Between]:_t(St(3,3),Nt(At)),[Z.Interpolate]:_t(St(6,1/0),Jy,FR),[Z.Case]:_t(St(3,1/0),GR,YR),[Z.In]:_t(St(2,2),XR),[Z.Number]:_t(St(1,1/0),Nt(Au)),[Z.String]:_t(St(1,1/0),Nt(Au)),[Z.Array]:_t(St(1,1/0),Nt(At)),[Z.Color]:_t(St(1,4),Nt(At)),[Z.Band]:_t(St(1,3),Nt(At)),[Z.Palette]:_t(St(2,2),BR),[Z.ToString]:_t(St(1,1),Nt(Fe|At|Ve|Gn))};function Qy(r,t,n){const s=r.length-1,a=new Array(s);for(let o=0;o<s;++o){const c=r[o+1];switch(typeof c){case"number":{a[o]=new ce(At,c);break}case"string":{a[o]=new ce(Ve,c);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${c}`)}o===0&&n.properties.add(String(c))}return a}function zR(r,t,n){const s=r[1];if(typeof s!="string")throw new Error("expected a string argument for var operation");return n.variables.add(s),[new ce(Ve,s)]}function NR(r,t,n){n.featureId=!0}function kR(r,t,n){n.geometryType=!0}function Vf(r,t,n){n.mapState=!0}function Zr(r,t,n){const s=r[0];if(r.length!==1)throw new Error(`expected no arguments for ${s} operation`);return[]}function St(r,t){return function(n,s,a){const o=n[0],c=n.length-1;if(r===t){if(c!==r){const h=r===1?"":"s";throw new Error(`expected ${r} argument${h} for ${o}, got ${c}`)}}else if(c<r||c>t){const h=t===1/0?`${r} or more`:`${r} to ${t}`;throw new Error(`expected ${h} arguments for ${o}, got ${c}`)}}}function $y(r,t,n){const s=r.length-1,a=new Array(s);for(let o=0;o<s;++o){const c=Re(r[o+1],t,n);a[o]=c}return a}function Nt(r){return function(t,n,s){const a=t.length-1,o=new Array(a);for(let c=0;c<a;++c){const h=Re(t[c+1],r,s);o[c]=h}return o}}function GR(r,t,n){const s=r[0],a=r.length-1;if(a%2===0)throw new Error(`expected an odd number of arguments for ${s}, got ${a} instead`)}function Jy(r,t,n){const s=r[0],a=r.length-1;if(a%2===1)throw new Error(`expected an even number of arguments for operation ${s}, got ${a} instead`)}function UR(r,t,n){const s=r.length-1,a=Ve|At|Fe,o=Re(r[1],a,n),c=Re(r[r.length-1],t,n),h=new Array(s-2);for(let d=0;d<s-2;d+=2){try{const g=Re(r[d+2],o.type,n);h[d]=g}catch(g){throw new Error(`failed to parse argument ${d+1} of match expression: ${g.message}`)}try{const g=Re(r[d+3],c.type,n);h[d+1]=g}catch(g){throw new Error(`failed to parse argument ${d+2} of match expression: ${g.message}`)}}return[o,...h,c]}function FR(r,t,n){const s=r[1];let a;switch(s[0]){case"linear":a=1;break;case"exponential":const d=s[1];if(typeof d!="number"||d<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(d)} instead`);a=d;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(s)}`)}const o=new ce(At,a);let c;try{c=Re(r[2],At,n)}catch(d){throw new Error(`failed to parse argument 1 in interpolate expression: ${d.message}`)}const h=new Array(r.length-3);for(let d=0;d<h.length;d+=2){try{const g=Re(r[d+3],At,n);h[d]=g}catch(g){throw new Error(`failed to parse argument ${d+2} for interpolate expression: ${g.message}`)}try{const g=Re(r[d+4],t,n);h[d+1]=g}catch(g){throw new Error(`failed to parse argument ${d+3} for interpolate expression: ${g.message}`)}}return[o,c,...h]}function YR(r,t,n){const s=Re(r[r.length-1],t,n),a=new Array(r.length-1);for(let o=0;o<a.length-1;o+=2){try{const c=Re(r[o+1],Fe,n);a[o]=c}catch(c){throw new Error(`failed to parse argument ${o} of case expression: ${c.message}`)}try{const c=Re(r[o+2],s.type,n);a[o+1]=c}catch(c){throw new Error(`failed to parse argument ${o+1} of case expression: ${c.message}`)}}return a[a.length-1]=s,a}function XR(r,t,n){let s=r[2];if(!Array.isArray(s))throw new Error('the second argument for the "in" operator must be an array');let a;if(typeof s[0]=="string"){if(s[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(s[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');s=s[1],a=Ve}else a=At;const o=new Array(s.length);for(let h=0;h<o.length;h++)try{const d=Re(s[h],a,n);o[h]=d}catch(d){throw new Error(`failed to parse haystack item ${h} for "in" expression: ${d.message}`)}return[Re(r[1],a,n),...o]}function BR(r,t,n){let s;try{s=Re(r[1],At,n)}catch(c){throw new Error(`failed to parse first argument in palette expression: ${c.message}`)}const a=r[2];if(!Array.isArray(a))throw new Error("the second argument of palette must be an array");const o=new Array(a.length);for(let c=0;c<o.length;c++){let h;try{h=Re(a[c],Gn,n)}catch(d){throw new Error(`failed to parse color at index ${c} in palette expression: ${d.message}`)}if(!(h instanceof ce))throw new Error(`the palette color at index ${c} must be a literal value`);o[c]=h}return[s,...o]}function _t(...r){return function(t,n,s){const a=t[0];let o;for(let c=0;c<r.length;c++){const h=r[c](t,n,s);if(c==r.length-1){if(!h)throw new Error("expected last argument validator to return the parsed args");o=h}}return new LR(n,a,...o)}}function HR(r,t,n){const s=r[0],a=IR[s];if(!a)throw new Error(`unknown operator: ${s}`);return a(r,t,n)}function D1(r){if(!r)return"";const t=r.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return D1(r.getGeometries()[0]);default:return""}}function L1(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Gi(r,t,n){const s=Re(r,t,n);return Yn(s)}function Yn(r,t){if(r instanceof ce){if(r.type===Gn&&typeof r.value=="string"){const s=qd(r.value);return function(){return s}}return function(){return r.value}}const n=r.operator;switch(n){case Z.Number:case Z.String:case Z.Coalesce:return PR(r);case Z.Get:case Z.Var:case Z.Has:return jR(r);case Z.Id:return s=>s.featureId;case Z.GeometryType:return s=>s.geometryType;case Z.Concat:{const s=r.args.map(a=>Yn(a));return a=>"".concat(...s.map(o=>o(a).toString()))}case Z.Resolution:return s=>s.resolution;case Z.Any:case Z.All:case Z.Between:case Z.In:case Z.Not:return VR(r);case Z.Equal:case Z.NotEqual:case Z.LessThan:case Z.LessThanOrEqualTo:case Z.GreaterThan:case Z.GreaterThanOrEqualTo:return ZR(r);case Z.Multiply:case Z.Divide:case Z.Add:case Z.Subtract:case Z.Clamp:case Z.Mod:case Z.Pow:case Z.Abs:case Z.Floor:case Z.Ceil:case Z.Round:case Z.Sin:case Z.Cos:case Z.Atan:case Z.Sqrt:return qR(r);case Z.Case:return KR(r);case Z.Match:return WR(r);case Z.Interpolate:return QR(r);case Z.ToString:return $R(r);default:throw new Error(`Unsupported operator ${n}`)}}function PR(r,t){const n=r.operator,s=r.args.length,a=new Array(s);for(let o=0;o<s;++o)a[o]=Yn(r.args[o]);switch(n){case Z.Coalesce:return o=>{for(let c=0;c<s;++c){const h=a[c](o);if(typeof h<"u"&&h!==null)return h}throw new Error("Expected one of the values to be non-null")};case Z.Number:case Z.String:return o=>{for(let c=0;c<s;++c){const h=a[c](o);if(typeof h===n)return h}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function jR(r,t){const s=r.args[0].value;switch(r.operator){case Z.Get:return a=>{const o=r.args;let c=a.properties[s];for(let h=1,d=o.length;h<d;++h){const _=o[h].value;c=c[_]}return c};case Z.Var:return a=>a.variables[s];case Z.Has:return a=>{const o=r.args;if(!(s in a.properties))return!1;let c=a.properties[s];for(let h=1,d=o.length;h<d;++h){const _=o[h].value;if(!c||!Object.hasOwn(c,_))return!1;c=c[_]}return!0};default:throw new Error(`Unsupported accessor operator ${r.operator}`)}}function ZR(r,t){const n=r.operator,s=Yn(r.args[0]),a=Yn(r.args[1]);switch(n){case Z.Equal:return o=>s(o)===a(o);case Z.NotEqual:return o=>s(o)!==a(o);case Z.LessThan:return o=>s(o)<a(o);case Z.LessThanOrEqualTo:return o=>s(o)<=a(o);case Z.GreaterThan:return o=>s(o)>a(o);case Z.GreaterThanOrEqualTo:return o=>s(o)>=a(o);default:throw new Error(`Unsupported comparison operator ${n}`)}}function VR(r,t){const n=r.operator,s=r.args.length,a=new Array(s);for(let o=0;o<s;++o)a[o]=Yn(r.args[o]);switch(n){case Z.Any:return o=>{for(let c=0;c<s;++c)if(a[c](o))return!0;return!1};case Z.All:return o=>{for(let c=0;c<s;++c)if(!a[c](o))return!1;return!0};case Z.Between:return o=>{const c=a[0](o),h=a[1](o),d=a[2](o);return c>=h&&c<=d};case Z.In:return o=>{const c=a[0](o);for(let h=1;h<s;++h)if(c===a[h](o))return!0;return!1};case Z.Not:return o=>!a[0](o);default:throw new Error(`Unsupported logical operator ${n}`)}}function qR(r,t){const n=r.operator,s=r.args.length,a=new Array(s);for(let o=0;o<s;++o)a[o]=Yn(r.args[o]);switch(n){case Z.Multiply:return o=>{let c=1;for(let h=0;h<s;++h)c*=a[h](o);return c};case Z.Divide:return o=>a[0](o)/a[1](o);case Z.Add:return o=>{let c=0;for(let h=0;h<s;++h)c+=a[h](o);return c};case Z.Subtract:return o=>a[0](o)-a[1](o);case Z.Clamp:return o=>{const c=a[0](o),h=a[1](o);if(c<h)return h;const d=a[2](o);return c>d?d:c};case Z.Mod:return o=>a[0](o)%a[1](o);case Z.Pow:return o=>Math.pow(a[0](o),a[1](o));case Z.Abs:return o=>Math.abs(a[0](o));case Z.Floor:return o=>Math.floor(a[0](o));case Z.Ceil:return o=>Math.ceil(a[0](o));case Z.Round:return o=>Math.round(a[0](o));case Z.Sin:return o=>Math.sin(a[0](o));case Z.Cos:return o=>Math.cos(a[0](o));case Z.Atan:return s===2?o=>Math.atan2(a[0](o),a[1](o)):o=>Math.atan(a[0](o));case Z.Sqrt:return o=>Math.sqrt(a[0](o));default:throw new Error(`Unsupported numeric operator ${n}`)}}function KR(r,t){const n=r.args.length,s=new Array(n);for(let a=0;a<n;++a)s[a]=Yn(r.args[a]);return a=>{for(let o=0;o<n-1;o+=2)if(s[o](a))return s[o+1](a);return s[n-1](a)}}function WR(r,t){const n=r.args.length,s=new Array(n);for(let a=0;a<n;++a)s[a]=Yn(r.args[a]);return a=>{const o=s[0](a);for(let c=1;c<n;c+=2)if(o===s[c](a))return s[c+1](a);return s[n-1](a)}}function QR(r,t){const n=r.args.length,s=new Array(n);for(let a=0;a<n;++a)s[a]=Yn(r.args[a]);return a=>{const o=s[0](a),c=s[1](a);let h,d;for(let g=2;g<n;g+=2){const _=s[g](a);let y=s[g+1](a);const p=Array.isArray(y);if(p&&(y=RC(y)),_>=c)return g===2?y:p?JR(o,c,h,d,_,y):Ll(o,c,h,d,_,y);h=_,d=y}return d}}function $R(r,t){const n=r.operator,s=r.args.length,a=new Array(s);for(let o=0;o<s;++o)a[o]=Yn(r.args[o]);switch(n){case Z.ToString:return o=>{const c=a[0](o);return r.args[0].type===Gn?Kd(c):c.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function Ll(r,t,n,s,a,o){const c=a-n;if(c===0)return s;const h=t-n,d=r===1?h/c:(Math.pow(r,h)-1)/(Math.pow(r,c)-1);return s+d*(o-s)}function JR(r,t,n,s,a,o){if(a-n===0)return s;const h=Dy(s),d=Dy(o);let g=d[2]-h[2];g>180?g-=360:g<-180&&(g+=360);const _=[Ll(r,t,n,h[0],a,d[0]),Ll(r,t,n,h[1],a,d[1]),h[2]+Ll(r,t,n,0,a,g),Ll(r,t,n,s[3],a,o[3])];return d1(TC(_))}function tT(r){return!0}function eT(r){const t=O1(),n=nT(r,t),s=L1();return function(a,o){if(s.properties=a.getPropertiesInternal(),s.resolution=o,t.featureId){const c=a.getId();c!==void 0?s.featureId=c:s.featureId=null}return t.geometryType&&(s.geometryType=D1(a.getGeometry())),n(s)}}function tp(r){const t=O1(),n=r.length,s=new Array(n);for(let c=0;c<n;++c)s[c]=md(r[c],t);const a=L1(),o=new Array(n);return function(c,h){if(a.properties=c.getPropertiesInternal(),a.resolution=h,t.featureId){const g=c.getId();g!==void 0?a.featureId=g:a.featureId=null}let d=0;for(let g=0;g<n;++g){const _=s[g](a);_&&(o[d]=_,d+=1)}return o.length=d,o}}function nT(r,t){const n=r.length,s=new Array(n);for(let a=0;a<n;++a){const o=r[a],c="filter"in o?Gi(o.filter,Fe,t):tT;let h;if(Array.isArray(o.style)){const d=o.style.length;h=new Array(d);for(let g=0;g<d;++g)h[g]=md(o.style[g],t)}else h=[md(o.style,t)];s[a]={filter:c,styles:h}}return function(a){const o=[];let c=!1;for(let h=0;h<n;++h){const d=s[h].filter;if(d(a)&&!(r[h].else&&c)){c=!0;for(const g of s[h].styles){const _=g(a);_&&o.push(_)}}}return o}}function md(r,t){const n=jl(r,"",t),s=Zl(r,"",t),a=iT(r,t),o=sT(r,t),c=Ke(r,"z-index",t);if(!n&&!s&&!a&&!o&&!ha(r))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(r));const h=new ps;return function(d){let g=!0;if(n){const _=n(d);_&&(g=!1),h.setFill(_)}if(s){const _=s(d);_&&(g=!1),h.setStroke(_)}if(a){const _=a(d);_&&(g=!1),h.setText(_)}if(o){const _=o(d);_&&(g=!1),h.setImage(_)}return c&&h.setZIndex(c(d)),g?null:h}}function jl(r,t,n){let s;if(t+"fill-pattern-src"in r)s=oT(r,t+"fill-",n);else{if(r[t+"fill-color"]==="none")return o=>null;s=tg(r,t+"fill-color",n)}if(!s)return null;const a=new eo;return function(o){const c=s(o);return c===Vd?null:(a.setColor(c),a)}}function Zl(r,t,n){const s=Ke(r,t+"stroke-width",n),a=tg(r,t+"stroke-color",n);if(!s&&!a)return null;const o=Ai(r,t+"stroke-line-cap",n),c=Ai(r,t+"stroke-line-join",n),h=I1(r,t+"stroke-line-dash",n),d=Ke(r,t+"stroke-line-dash-offset",n),g=Ke(r,t+"stroke-miter-limit",n),_=new cc;return function(y){if(a){const p=a(y);if(p===Vd)return null;_.setColor(p)}if(s&&_.setWidth(s(y)),o){const p=o(y);if(p!=="butt"&&p!=="round"&&p!=="square")throw new Error("Expected butt, round, or square line cap");_.setLineCap(p)}if(c){const p=c(y);if(p!=="bevel"&&p!=="round"&&p!=="miter")throw new Error("Expected bevel, round, or miter line join");_.setLineJoin(p)}return h&&_.setLineDash(h(y)),d&&_.setLineDashOffset(d(y)),g&&_.setMiterLimit(g(y)),_}}function iT(r,t){const n="text-",s=Ai(r,n+"value",t);if(!s)return null;const a=jl(r,n,t),o=jl(r,n+"background-",t),c=Zl(r,n,t),h=Zl(r,n+"background-",t),d=Ai(r,n+"font",t),g=Ke(r,n+"max-angle",t),_=Ke(r,n+"offset-x",t),y=Ke(r,n+"offset-y",t),p=la(r,n+"overflow",t),E=Ai(r,n+"placement",t),x=Ke(r,n+"repeat",t),C=gc(r,n+"scale",t),R=la(r,n+"rotate-with-view",t),T=Ke(r,n+"rotation",t),b=Ai(r,n+"align",t),O=Ai(r,n+"justify",t),D=Ai(r,n+"baseline",t),w=la(r,n+"keep-upright",t),X=I1(r,n+"padding",t),K=mc(r,n+"declutter-mode"),P=new $d({declutterMode:K});return function(k){if(P.setText(s(k)),a&&P.setFill(a(k)),o&&P.setBackgroundFill(o(k)),c&&P.setStroke(c(k)),h&&P.setBackgroundStroke(h(k)),d&&P.setFont(d(k)),g&&P.setMaxAngle(g(k)),_&&P.setOffsetX(_(k)),y&&P.setOffsetY(y(k)),p&&P.setOverflow(p(k)),E){const q=E(k);if(q!=="point"&&q!=="line")throw new Error("Expected point or line for text-placement");P.setPlacement(q)}if(x&&P.setRepeat(x(k)),C&&P.setScale(C(k)),R&&P.setRotateWithView(R(k)),T&&P.setRotation(T(k)),b){const q=b(k);if(q!=="left"&&q!=="center"&&q!=="right"&&q!=="end"&&q!=="start")throw new Error("Expected left, right, center, start, or end for text-align");P.setTextAlign(q)}if(O){const q=O(k);if(q!=="left"&&q!=="right"&&q!=="center")throw new Error("Expected left, right, or center for text-justify");P.setJustify(q)}if(D){const q=D(k);if(q!=="bottom"&&q!=="top"&&q!=="middle"&&q!=="alphabetic"&&q!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");P.setTextBaseline(q)}return X&&P.setPadding(X(k)),w&&P.setKeepUpright(w(k)),P}}function sT(r,t){return"icon-src"in r?rT(r,t):"shape-points"in r?aT(r,t):"circle-radius"in r?lT(r,t):null}function rT(r,t){const n="icon-",s=n+"src",a=z1(r[s],s),o=ju(r,n+"anchor",t),c=gc(r,n+"scale",t),h=Ke(r,n+"opacity",t),d=ju(r,n+"displacement",t),g=Ke(r,n+"rotation",t),_=la(r,n+"rotate-with-view",t),y=np(r,n+"anchor-origin"),p=ip(r,n+"anchor-x-units"),E=ip(r,n+"anchor-y-units"),x=fT(r,n+"color"),C=cT(r,n+"cross-origin"),R=hT(r,n+"offset"),T=np(r,n+"offset-origin"),b=Zu(r,n+"width"),O=Zu(r,n+"height"),D=uT(r,n+"size"),w=mc(r,n+"declutter-mode"),X=new io({src:a,anchorOrigin:y,anchorXUnits:p,anchorYUnits:E,color:x,crossOrigin:C,offset:R,offsetOrigin:T,height:O,width:b,size:D,declutterMode:w});return function(K){return h&&X.setOpacity(h(K)),d&&X.setDisplacement(d(K)),g&&X.setRotation(g(K)),_&&X.setRotateWithView(_(K)),c&&X.setScale(c(K)),o&&X.setAnchor(o(K)),X}}function aT(r,t){const n="shape-",s=n+"points",a=n+"radius",o=_d(r[s],s),c=_d(r[a],a),h=jl(r,n,t),d=Zl(r,n,t),g=gc(r,n+"scale",t),_=ju(r,n+"displacement",t),y=Ke(r,n+"rotation",t),p=la(r,n+"rotate-with-view",t),E=Zu(r,n+"radius2"),x=Zu(r,n+"angle"),C=mc(r,n+"declutter-mode"),R=new fc({points:o,radius:c,radius2:E,angle:x,declutterMode:C});return function(T){return h&&R.setFill(h(T)),d&&R.setStroke(d(T)),_&&R.setDisplacement(_(T)),y&&R.setRotation(y(T)),p&&R.setRotateWithView(p(T)),g&&R.setScale(g(T)),R}}function lT(r,t){const n="circle-",s=jl(r,n,t),a=Zl(r,n,t),o=Ke(r,n+"radius",t),c=gc(r,n+"scale",t),h=ju(r,n+"displacement",t),d=Ke(r,n+"rotation",t),g=la(r,n+"rotate-with-view",t),_=mc(r,n+"declutter-mode"),y=new dc({radius:5,declutterMode:_});return function(p){return o&&y.setRadius(o(p)),s&&y.setFill(s(p)),a&&y.setStroke(a(p)),h&&y.setDisplacement(h(p)),d&&y.setRotation(d(p)),g&&y.setRotateWithView(g(p)),c&&y.setScale(c(p)),y}}function Ke(r,t,n){if(!(t in r))return;const s=Gi(r[t],At,n);return function(a){return _d(s(a),t)}}function Ai(r,t,n){if(!(t in r))return null;const s=Gi(r[t],Ve,n);return function(a){return z1(s(a),t)}}function oT(r,t,n){const s=Ai(r,t+"pattern-src",n),a=ep(r,t+"pattern-offset",n),o=ep(r,t+"pattern-size",n),c=tg(r,t+"color",n);return function(h){return{src:s(h),offset:a&&a(h),size:o&&o(h),color:c&&c(h)}}}function la(r,t,n){if(!(t in r))return null;const s=Gi(r[t],Fe,n);return function(a){const o=s(a);if(typeof o!="boolean")throw new Error(`Expected a boolean for ${t}`);return o}}function tg(r,t,n){if(!(t in r))return null;const s=Gi(r[t],Gn,n);return function(a){return N1(s(a),t)}}function I1(r,t,n){if(!(t in r))return null;const s=Gi(r[t],ir,n);return function(a){return so(s(a),t)}}function ju(r,t,n){if(!(t in r))return null;const s=Gi(r[t],ir,n);return function(a){const o=so(s(a),t);if(o.length!==2)throw new Error(`Expected two numbers for ${t}`);return o}}function ep(r,t,n){if(!(t in r))return null;const s=Gi(r[t],ir,n);return function(a){return k1(s(a),t)}}function gc(r,t,n){if(!(t in r))return null;const s=Gi(r[t],ir|At,n);return function(a){return dT(s(a),t)}}function Zu(r,t){const n=r[t];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${t}`);return n}}function uT(r,t){const n=r[t];if(n!==void 0){if(typeof n=="number")return We(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${t}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${t}`);return n}}function cT(r,t){const n=r[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);return n}}function np(r,t){const n=r[t];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return n}}function ip(r,t){const n=r[t];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${t}`);return n}}function hT(r,t){const n=r[t];if(n!==void 0)return so(n,t)}function mc(r,t){const n=r[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${t}`);return n}}function fT(r,t){const n=r[t];if(n!==void 0)return N1(n,t)}function so(r,t){if(!Array.isArray(r))throw new Error(`Expected an array for ${t}`);const n=r.length;for(let s=0;s<n;++s)if(typeof r[s]!="number")throw new Error(`Expected an array of numbers for ${t}`);return r}function z1(r,t){if(typeof r!="string")throw new Error(`Expected a string for ${t}`);return r}function _d(r,t){if(typeof r!="number")throw new Error(`Expected a number for ${t}`);return r}function N1(r,t){if(typeof r=="string")return r;const n=so(r,t),s=n.length;if(s<3||s>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return n}function k1(r,t){const n=so(r,t);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${t}`);return n}function dT(r,t){return typeof r=="number"?r:k1(r,t)}const Nn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function sp(r,t,n){return function(s,a,o,c,h){if(!s)return;if(!a&&!t)return s;const d=t?0:o[0]*a,g=t?0:o[1]*a,_=h?h[0]:0,y=h?h[1]:0;let p=r[0]+d/2+_,E=r[2]-d/2+_,x=r[1]+g/2+y,C=r[3]-g/2+y;p>E&&(p=(E+p)/2,E=p),x>C&&(x=(C+x)/2,C=x);let R=le(s[0],p,E),T=le(s[1],x,C);if(c&&n&&a){const b=30*a;R+=-b*Math.log(1+Math.max(0,p-s[0])/b)+b*Math.log(1+Math.max(0,s[0]-E)/b),T+=-b*Math.log(1+Math.max(0,x-s[1])/b)+b*Math.log(1+Math.max(0,s[1]-C)/b)}return[R,T]}}function gT(r){return r}function G1(r){return Math.pow(r,3)}function va(r){return 1-G1(1-r)}function mT(r){return 3*r*r-2*r*r*r}function _T(r){return r}function eg(r,t,n,s){const a=Yt(t)/n[0],o=Ye(t)/n[1];return s?Math.min(r,Math.max(a,o)):Math.min(r,Math.min(a,o))}function ng(r,t,n){let s=Math.min(r,t);const a=50;return s*=Math.log(1+a*Math.max(0,r/t-1))/a+1,n&&(s=Math.max(s,n),s/=Math.log(1+a*Math.max(0,n/r-1))/a+1),le(s,n/2,t*2)}function yT(r,t,n,s){return t=t!==void 0?t:!0,function(a,o,c,h){if(a!==void 0){const d=r[0],g=r[r.length-1],_=n?eg(d,n,c,s):d;if(h)return t?ng(a,_,g):le(a,g,_);const y=Math.min(_,a),p=Math.floor(bd(r,y,o));return r[p]>_&&p<r.length-1?r[p+1]:r[p]}}}function pT(r,t,n,s,a,o){return s=s!==void 0?s:!0,n=n!==void 0?n:0,function(c,h,d,g){if(c!==void 0){const _=a?eg(t,a,d,o):t;if(g)return s?ng(c,_,n):le(c,n,_);const y=1e-9,p=Math.ceil(Math.log(t/_)/Math.log(r)-y),E=-h*(.5-y)+.5,x=Math.min(_,c),C=Math.floor(Math.log(t/x)/Math.log(r)+E),R=Math.max(p,C),T=t/Math.pow(r,R);return le(T,n,_)}}}function rp(r,t,n,s,a){return n=n!==void 0?n:!0,function(o,c,h,d){if(o!==void 0){const g=s?eg(r,s,h,a):r;return!n||!d?le(o,t,g):ng(o,g,t)}}}function ig(r){if(r!==void 0)return 0}function ap(r){if(r!==void 0)return r}function vT(r){const t=2*Math.PI/r;return function(n,s){if(s)return n;if(n!==void 0)return n=Math.floor(n/t+.5)*t,n}}function ET(r){const t=_s(5);return function(n,s){return s||n===void 0?n:Math.abs(n)<=t?0:n}}const xT=42,sg=256,qf=0;class Un extends ii{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Fd(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&Kp(),t.center&&(t.center=wi(t.center,this.projection_)),t.extent&&(t.extent=gs(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const n=Object.assign({},t);for(const h in Nn)delete n[h];this.setProperties(n,!0);const s=CT(t);this.maxResolution_=s.maxResolution,this.minResolution_=s.minResolution,this.zoomFactor_=s.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=s.minZoom;const a=ST(t),o=s.constraint,c=RT(t);this.constraints_={center:a,resolution:o,rotation:c},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let n=this.padding_;this.padding_=t;const s=this.getCenterInternal();if(s){const a=t||[0,0,0,0];n=n||[0,0,0,0];const o=this.getResolution(),c=o/2*(a[3]-n[3]+n[1]-a[1]),h=o/2*(a[0]-n[0]+n[2]-a[2]);this.setCenterInternal([s[0]+c,s[1]-h])}}getUpdatedOptions_(t){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let s=0;s<n.length;++s){let a=arguments[s];a.center&&(a=Object.assign({},a),a.center=wi(a.center,this.getProjection())),a.anchor&&(a=Object.assign({},a),a.anchor=wi(a.anchor,this.getProjection())),n[s]=a}this.animateInternal.apply(this,n)}animateInternal(t){let n=arguments.length,s;n>1&&typeof arguments[n-1]=="function"&&(s=arguments[n-1],--n);let a=0;for(;a<n&&!this.isDef();++a){const _=arguments[a];_.center&&this.setCenterInternal(_.center),_.zoom!==void 0?this.setZoom(_.zoom):_.resolution&&this.setResolution(_.resolution),_.rotation!==void 0&&this.setRotation(_.rotation)}if(a===n){s&&Mu(s,!0);return}let o=Date.now(),c=this.targetCenter_.slice(),h=this.targetResolution_,d=this.targetRotation_;const g=[];for(;a<n;++a){const _=arguments[a],y={start:o,complete:!1,anchor:_.anchor,duration:_.duration!==void 0?_.duration:1e3,easing:_.easing||mT,callback:s};if(_.center&&(y.sourceCenter=c,y.targetCenter=_.center.slice(),c=y.targetCenter),_.zoom!==void 0?(y.sourceResolution=h,y.targetResolution=this.getResolutionForZoom(_.zoom),h=y.targetResolution):_.resolution&&(y.sourceResolution=h,y.targetResolution=_.resolution,h=y.targetResolution),_.rotation!==void 0){y.sourceRotation=d;const p=ra(_.rotation-d+Math.PI,2*Math.PI)-Math.PI;y.targetRotation=d+p,d=y.targetRotation}TT(y)?y.complete=!0:o+=y.duration,g.push(y)}this.animations_.push(g),this.setHint(Le.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Le.ANIMATING]>0}getInteracting(){return this.hints_[Le.INTERACTING]>0}cancelAnimations(){this.setHint(Le.ANIMATING,-this.hints_[Le.ANIMATING]);let t;for(let n=0,s=this.animations_.length;n<s;++n){const a=this.animations_[n];if(a[0].callback&&Mu(a[0].callback,!1),!t)for(let o=0,c=a.length;o<c;++o){const h=a[o];if(!h.complete){t=h.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let n=!1;for(let s=this.animations_.length-1;s>=0;--s){const a=this.animations_[s];let o=!0;for(let c=0,h=a.length;c<h;++c){const d=a[c];if(d.complete)continue;const g=t-d.start;let _=d.duration>0?g/d.duration:1;_>=1?(d.complete=!0,_=1):o=!1;const y=d.easing(_);if(d.sourceCenter){const p=d.sourceCenter[0],E=d.sourceCenter[1],x=d.targetCenter[0],C=d.targetCenter[1];this.nextCenter_=d.targetCenter;const R=p+y*(x-p),T=E+y*(C-E);this.targetCenter_=[R,T]}if(d.sourceResolution&&d.targetResolution){const p=y===1?d.targetResolution:d.sourceResolution+y*(d.targetResolution-d.sourceResolution);if(d.anchor){const E=this.getViewportSize_(this.getRotation()),x=this.constraints_.resolution(p,0,E,!0);this.targetCenter_=this.calculateCenterZoom(x,d.anchor)}this.nextResolution_=d.targetResolution,this.targetResolution_=p,this.applyTargetState_(!0)}if(d.sourceRotation!==void 0&&d.targetRotation!==void 0){const p=y===1?ra(d.targetRotation+Math.PI,2*Math.PI)-Math.PI:d.sourceRotation+y*(d.targetRotation-d.sourceRotation);if(d.anchor){const E=this.constraints_.rotation(p,!0);this.targetCenter_=this.calculateCenterRotate(E,d.anchor)}this.nextRotation_=d.targetRotation,this.targetRotation_=p}if(this.applyTargetState_(!0),n=!0,!d.complete)break}if(o){this.animations_[s]=null,this.setHint(Le.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const c=a[0].callback;c&&Mu(c,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,n){let s;const a=this.getCenterInternal();return a!==void 0&&(s=[a[0]-n[0],a[1]-n[1]],Id(s,t-this.getRotation()),mS(s,n)),s}calculateCenterZoom(t,n){let s;const a=this.getCenterInternal(),o=this.getResolution();if(a!==void 0&&o!==void 0){const c=n[0]-t*(n[0]-a[0])/o,h=n[1]-t*(n[1]-a[1])/o;s=[c,h]}return s}getViewportSize_(t){const n=this.viewportSize_;if(t){const s=n[0],a=n[1];return[Math.abs(s*Math.cos(t))+Math.abs(a*Math.sin(t)),Math.abs(s*Math.sin(t))+Math.abs(a*Math.cos(t))]}return n}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t&&fd(t,this.getProjection())}getCenterInternal(){return this.get(Nn.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const n=this.calculateExtentInternal(t);return Wp(n,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();zt(n,"The view center is not defined");const s=this.getResolution();zt(s!==void 0,"The view resolution is not defined");const a=this.getRotation();return zt(a!==void 0,"The view rotation is not defined"),ld(n,s,a,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(Nn.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,n){return this.getResolutionForExtentInternal(gs(t,this.getProjection()),n)}getResolutionForExtentInternal(t,n){n=n||this.getViewportSizeMinusPadding_();const s=Yt(t)/n[0],a=Ye(t)/n[1];return Math.max(s,a)}getResolutionForValueFunction(t){t=t||2;const n=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,a=Math.log(n/s)/Math.log(t);return function(o){return n/Math.pow(t,o*a)}}getRotation(){return this.get(Nn.ROTATION)}getValueForResolutionFunction(t){const n=Math.log(t||2),s=this.getConstrainedResolution(this.maxResolution_),a=this.minResolution_,o=Math.log(s/a)/n;return function(c){return Math.log(s/c)/n/o}}getViewportSizeMinusPadding_(t){let n=this.getViewportSize_(t);const s=this.padding_;return s&&(n=[n[0]-s[1]-s[3],n[1]-s[0]-s[2]]),n}getState(){const t=this.getProjection(),n=this.getResolution(),s=this.getRotation();let a=this.getCenterInternal();const o=this.padding_;if(o){const c=this.getViewportSizeMinusPadding_();a=Kf(a,this.getViewportSize_(),[c[0]/2+o[3],c[1]/2+o[0]],n,s)}return{center:a.slice(0),projection:t!==void 0?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:s,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const n=this.getResolution();return n!==void 0&&(t=this.getZoomForResolution(n)),t}getZoomForResolution(t){let n=this.minZoom_||0,s,a;if(this.resolutions_){const o=bd(this.resolutions_,t,1);n=o,s=this.resolutions_[o],o==this.resolutions_.length-1?a=2:a=s/this.resolutions_[o+1]}else s=this.maxResolution_,a=this.zoomFactor_;return n+Math.log(s/t)/Math.log(a)}getResolutionForZoom(t){var n;if((n=this.resolutions_)!=null&&n.length){if(this.resolutions_.length===1)return this.resolutions_[0];const s=le(Math.floor(t),0,this.resolutions_.length-2),a=this.resolutions_[s]/this.resolutions_[s+1];return this.resolutions_[s]/Math.pow(a,le(t-s,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,n){let s;if(zt(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){zt(!sc(t),"Cannot fit empty extent provided as `geometry`");const a=gs(t,this.getProjection());s=by(a)}else if(t.getType()==="Circle"){const a=gs(t.getExtent(),this.getProjection());s=by(a),s.rotate(this.getRotation(),nr(a))}else s=t;this.fitInternal(s,n)}rotatedExtentForGeometry(t){const n=this.getRotation(),s=Math.cos(n),a=Math.sin(-n),o=t.getFlatCoordinates(),c=t.getStride();let h=1/0,d=1/0,g=-1/0,_=-1/0;for(let y=0,p=o.length;y<p;y+=c){const E=o[y]*s-o[y+1]*a,x=o[y]*a+o[y+1]*s;h=Math.min(h,E),d=Math.min(d,x),g=Math.max(g,E),_=Math.max(_,x)}return[h,d,g,_]}fitInternal(t,n){n=n||{};let s=n.size;s||(s=this.getViewportSizeMinusPadding_());const a=n.padding!==void 0?n.padding:[0,0,0,0],o=n.nearest!==void 0?n.nearest:!1;let c;n.minResolution!==void 0?c=n.minResolution:n.maxZoom!==void 0?c=this.getResolutionForZoom(n.maxZoom):c=0;const h=this.rotatedExtentForGeometry(t);let d=this.getResolutionForExtentInternal(h,[s[0]-a[1]-a[3],s[1]-a[0]-a[2]]);d=isNaN(d)?c:Math.max(d,c),d=this.getConstrainedResolution(d,o?0:1);const g=this.getRotation(),_=Math.sin(g),y=Math.cos(g),p=nr(h);p[0]+=(a[1]-a[3])/2*d,p[1]+=(a[0]-a[2])/2*d;const E=p[0]*y-p[1]*_,x=p[1]*y+p[0]*_,C=this.getConstrainedCenter([E,x],d),R=n.callback?n.callback:ca;n.duration!==void 0?this.animateInternal({resolution:d,center:C,duration:n.duration,easing:n.easing},R):(this.targetResolution_=d,this.targetCenter_=C,this.applyTargetState_(!1,!0),Mu(R,!0))}centerOn(t,n,s){this.centerOnInternal(wi(t,this.getProjection()),n,s)}centerOnInternal(t,n,s){this.setCenterInternal(Kf(t,n,s,this.getResolution(),this.getRotation()))}calculateCenterShift(t,n,s,a){let o;const c=this.padding_;if(c&&t){const h=this.getViewportSizeMinusPadding_(-s),d=Kf(t,a,[h[0]/2+c[3],h[1]/2+c[0]],n,s);o=[t[0]-d[0],t[1]-d[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){const n=fd(this.targetCenter_,this.getProjection());this.setCenter([n[0]+t[0],n[1]+t[1]])}adjustCenterInternal(t){const n=this.targetCenter_;this.setCenterInternal([n[0]+t[0],n[1]+t[1]])}adjustResolution(t,n){n=n&&wi(n,this.getProjection()),this.adjustResolutionInternal(t,n)}adjustResolutionInternal(t,n){const s=this.getAnimating()||this.getInteracting(),a=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,a,s);n&&(this.targetCenter_=this.calculateCenterZoom(o,n)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,n){this.adjustResolution(Math.pow(this.zoomFactor_,-t),n)}adjustRotation(t,n){n&&(n=wi(n,this.getProjection())),this.adjustRotationInternal(t,n)}adjustRotationInternal(t,n){const s=this.getAnimating()||this.getInteracting(),a=this.constraints_.rotation(this.targetRotation_+t,s);n&&(this.targetCenter_=this.calculateCenterRotate(a,n)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&wi(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,n){return this.hints_[t]+=n,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,n){const s=this.getAnimating()||this.getInteracting()||n,a=this.constraints_.rotation(this.targetRotation_,s),o=this.getViewportSize_(a),c=this.constraints_.resolution(this.targetResolution_,0,o,s),h=this.constraints_.center(this.targetCenter_,c,o,s,this.calculateCenterShift(this.targetCenter_,c,a,o));this.get(Nn.ROTATION)!==a&&this.set(Nn.ROTATION,a),this.get(Nn.RESOLUTION)!==c&&(this.set(Nn.RESOLUTION,c),this.set("zoom",this.getZoom(),!0)),(!h||!this.get(Nn.CENTER)||!ku(this.get(Nn.CENTER),h))&&this.set(Nn.CENTER,h),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,n,s){t=t!==void 0?t:200;const a=n||0,o=this.constraints_.rotation(this.targetRotation_),c=this.getViewportSize_(o),h=this.constraints_.resolution(this.targetResolution_,a,c),d=this.constraints_.center(this.targetCenter_,h,c,!1,this.calculateCenterShift(this.targetCenter_,h,o,c));if(t===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=o,this.targetCenter_=d,this.applyTargetState_();return}s=s||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==o||!this.getCenterInternal()||!ku(this.getCenterInternal(),d))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:d,resolution:h,duration:t,easing:va,anchor:s}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Le.INTERACTING,1)}endInteraction(t,n,s){s=s&&wi(s,this.getProjection()),this.endInteractionInternal(t,n,s)}endInteractionInternal(t,n,s){this.getInteracting()&&(this.setHint(Le.INTERACTING,-1),this.resolveConstraints(t,n,s))}getConstrainedCenter(t,n){const s=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,n||this.getResolution(),s)}getConstrainedZoom(t,n){const s=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(s,n))}getConstrainedResolution(t,n){n=n||0;const s=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,s)}}function Mu(r,t){setTimeout(function(){r(t)},0)}function ST(r){if(r.extent!==void 0){const n=r.smoothExtentConstraint!==void 0?r.smoothExtentConstraint:!0;return sp(r.extent,r.constrainOnlyCenter,n)}const t=Fd(r.projection,"EPSG:3857");if(r.multiWorld!==!0&&t.isGlobal()){const n=t.getExtent().slice();return n[0]=-1/0,n[2]=1/0,sp(n,!1,!1)}return gT}function CT(r){let t,n,s,c=r.minZoom!==void 0?r.minZoom:qf,h=r.maxZoom!==void 0?r.maxZoom:28;const d=r.zoomFactor!==void 0?r.zoomFactor:2,g=r.multiWorld!==void 0?r.multiWorld:!1,_=r.smoothResolutionConstraint!==void 0?r.smoothResolutionConstraint:!0,y=r.showFullExtent!==void 0?r.showFullExtent:!1,p=Fd(r.projection,"EPSG:3857"),E=p.getExtent();let x=r.constrainOnlyCenter,C=r.extent;if(!g&&!C&&p.isGlobal()&&(x=!1,C=E),r.resolutions!==void 0){const R=r.resolutions;n=R[c],s=R[h]!==void 0?R[h]:R[R.length-1],r.constrainResolution?t=yT(R,_,!x&&C,y):t=rp(n,s,_,!x&&C,y)}else{const T=(E?Math.max(Yt(E),Ye(E)):360*zd.degrees/p.getMetersPerUnit())/sg/Math.pow(2,qf),b=T/Math.pow(2,28-qf);n=r.maxResolution,n!==void 0?c=0:n=T/Math.pow(d,c),s=r.minResolution,s===void 0&&(r.maxZoom!==void 0?r.maxResolution!==void 0?s=n/Math.pow(d,h):s=T/Math.pow(d,h):s=b),h=c+Math.floor(Math.log(n/s)/Math.log(d)),s=n/Math.pow(d,h-c),r.constrainResolution?t=pT(d,n,s,_,!x&&C,y):t=rp(n,s,_,!x&&C,y)}return{constraint:t,maxResolution:n,minResolution:s,minZoom:c,zoomFactor:d}}function RT(r){if(r.enableRotation!==void 0?r.enableRotation:!0){const n=r.constrainRotation;return n===void 0||n===!0?ET():n===!1?ap:typeof n=="number"?vT(n):ap}return ig}function TT(r){return!(r.sourceCenter&&r.targetCenter&&!ku(r.sourceCenter,r.targetCenter)||r.sourceResolution!==r.targetResolution||r.sourceRotation!==r.targetRotation)}function Kf(r,t,n,s,a){const o=Math.cos(-a);let c=Math.sin(-a),h=r[0]*o-r[1]*c,d=r[1]*o+r[0]*c;h+=(t[0]/2-n[0])*s,d+=(n[1]-t[1]/2)*s,c=-c;const g=h*o-d*c,_=d*o+h*c;return[g,_]}const Ft={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class U1 extends ii{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const n=Object.assign({},t);typeof t.properties=="object"&&(delete n.properties,Object.assign(n,t.properties)),n[Ft.OPACITY]=t.opacity!==void 0?t.opacity:1,zt(typeof n[Ft.OPACITY]=="number","Layer opacity must be a number"),n[Ft.VISIBLE]=t.visible!==void 0?t.visible:!0,n[Ft.Z_INDEX]=t.zIndex,n[Ft.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,n[Ft.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,n[Ft.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,n[Ft.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const n=this.state_||{layer:this,managed:t===void 0?!0:t},s=this.getZIndex();return n.opacity=le(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=s===void 0&&!n.managed?1/0:s,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(t){return Lt()}getLayerStatesArray(t){return Lt()}getExtent(){return this.get(Ft.EXTENT)}getMaxResolution(){return this.get(Ft.MAX_RESOLUTION)}getMinResolution(){return this.get(Ft.MIN_RESOLUTION)}getMinZoom(){return this.get(Ft.MIN_ZOOM)}getMaxZoom(){return this.get(Ft.MAX_ZOOM)}getOpacity(){return this.get(Ft.OPACITY)}getSourceState(){return Lt()}getVisible(){return this.get(Ft.VISIBLE)}getZIndex(){return this.get(Ft.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(Ft.EXTENT,t)}setMaxResolution(t){this.set(Ft.MAX_RESOLUTION,t)}setMinResolution(t){this.set(Ft.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(Ft.MAX_ZOOM,t)}setMinZoom(t){this.set(Ft.MIN_ZOOM,t)}setOpacity(t){zt(typeof t=="number","Layer opacity must be a number"),this.set(Ft.OPACITY,t)}setVisible(t){this.set(Ft.VISIBLE,t)}setZIndex(t){this.set(Ft.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class _c extends U1{constructor(t){const n=Object.assign({},t);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(Ft.SOURCE,this.handleSourcePropertyChange_);const s=t.source?t.source:null;this.setSource(s)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(Ft.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Kt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=It(t,vt.CHANGE,this.handleSourceChange_,this),t.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0)),this.clearRenderer()),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)}isVisible(t){let n;const s=this.getMapInternal();!t&&s&&(t=s.getView()),t instanceof Un?n={viewState:t.getState(),extent:t.calculateExtent()}:n=t,!n.layerStatesArray&&s&&(n.layerStatesArray=s.getLayerGroup().getLayerStatesArray());let a;if(n.layerStatesArray){if(a=n.layerStatesArray.find(c=>c.layer===this),!a)return!1}else a=this.getLayerState();const o=this.getExtent();return rg(a,n.viewState)&&(!o||qe(o,n.extent))}getAttributions(t){var o;if(!this.isVisible(t))return[];const n=(o=this.getSource())==null?void 0:o.getAttributions();if(!n)return[];const s=t instanceof Un?t.getViewStateAndExtent():t;let a=n(s);return Array.isArray(a)||(a=[a]),a}render(t,n){const s=this.getRenderer();return s.prepareFrame(t)?(this.rendered=!0,s.renderFrame(t,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,n){}renderDeferred(t){const n=this.getRenderer();n&&n.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(Ft.MAP,t)}getMapInternal(){return this.get(Ft.MAP)}setMap(t){this.mapPrecomposeKey_&&(Kt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Kt(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=It(t,Cn.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=It(this,vt.CHANGE,t.render,t),this.changed())}handlePrecompose_(t){const n=t.frameState.layerStatesArray,s=this.getLayerState(!1);zt(!n.some(a=>a.layer===s.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(s)}setSource(t){this.set(Ft.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function rg(r,t){if(!r.visible)return!1;const n=t.resolution;if(n<r.minResolution||n>=r.maxResolution)return!1;const s=t.zoom;return s>r.minZoom&&s<=r.maxZoom}const lp={RENDER_ORDER:"renderOrder"};class F1 extends _c{constructor(t){t=t||{};const n=Object.assign({},t);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(lp.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,n){const s=this.getDeclutter();s in t.declutter||(t.declutter[s]=new C1(9)),this.getRenderer().renderDeclutter(t,n)}setRenderOrder(t){this.set(lp.RENDER_ORDER,t)}setStyle(t){this.style_=t===void 0?T1:t;const n=wT(t);this.styleFunction_=t===null?void 0:uR(n),this.changed()}setDeclutter(t){this.declutter_=t?String(t):void 0,this.changed()}}function wT(r){if(r===void 0)return T1;if(!r)return null;if(typeof r=="function"||r instanceof ps)return r;if(!Array.isArray(r))return tp([r]);if(r.length===0)return[];const t=r.length,n=r[0];if(n instanceof ps){const a=new Array(t);for(let o=0;o<t;++o){const c=r[o];if(!(c instanceof ps))throw new Error("Expected a list of style instances");a[o]=c}return a}if("style"in n){const a=new Array(t);for(let o=0;o<t;++o){const c=r[o];if(!("style"in c))throw new Error("Expected a list of rules with a style property");a[o]=c}return eT(a)}return tp(r)}class bT extends F1{constructor(t){super(t)}createRenderer(){return new MR(this)}}const ft={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class ag extends Ju{constructor(t,n,s){super(),s=s||{},this.tileCoord=t,this.state=n,this.key="",this.transition_=s.transition===void 0?250:s.transition,this.transitionStarts_={},this.interpolate=!!s.interpolate}changed(){this.dispatchEvent(vt.CHANGE)}release(){this.setState(ft.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==ft.EMPTY){if(this.state!==ft.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}}load(){Lt()}getAlpha(t,n){if(!this.transition_)return 1;let s=this.transitionStarts_[t];if(!s)s=n,this.transitionStarts_[t]=s;else if(s===-1)return 1;const a=n-s+1e3/60;return a>=this.transition_?1:G1(a/this.transition_)}inTransition(t){return this.transition_?this.transitionStarts_[t]!==-1:!1}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}class Y1 extends ag{constructor(t,n,s,a,o,c){super(t,n,c),this.crossOrigin_=a,this.src_=s,this.key=s,this.image_=new Image,a!==null&&(this.image_.crossOrigin=a),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(t){this.image_=t,this.state=ft.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=ft.ERROR,this.unlistenImage_(),this.image_=AT(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=ft.LOADED:this.state=ft.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==ft.ERROR&&(this.state=ft.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==ft.IDLE&&(this.state=ft.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=AC(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function AT(){const r=ve(1,1);return r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1),r.canvas}class MT{constructor(t,n,s){this.decay_=t,this.minVelocity_=n,this.delay_=s,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,n){this.points_.push(t,n,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<t)return!1;let s=n-3;for(;s>0&&this.points_[s+2]>t;)s-=3;const a=this.points_[n+2]-this.points_[s+2];if(a<1e3/60)return!1;const o=this.points_[n]-this.points_[s],c=this.points_[n+1]-this.points_[s+1];return this.angle_=Math.atan2(c,o),this.initialVelocity_=Math.sqrt(o*o+c*c)/a,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class ta extends ki{constructor(t,n,s){super(t),this.map=n,this.frameState=s!==void 0?s:null}}class hs extends ta{constructor(t,n,s,a,o,c){super(t,n,o),this.originalEvent=s,this.pixel_=null,this.coordinate_=null,this.dragging=a!==void 0?a:!1,this.activePointers=c}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const ne={SINGLECLICK:"singleclick",CLICK:vt.CLICK,DBLCLICK:vt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},yd={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class OT extends Ju{constructor(t,n){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const s=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=s,this.pointerdownListenerKey_=It(s,yd.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=It(s,yd.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(vt.TOUCHMOVE,this.boundHandleTouchMove_,h1?{passive:!1}:!1)}emulateClick_(t){let n=new hs(ne.CLICK,this.map_,t);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new hs(ne.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const s=new hs(ne.SINGLECLICK,this.map_,t);this.dispatchEvent(s)},250)}updateActivePointers_(t){const n=t,s=n.pointerId;if(n.type==ne.POINTERUP||n.type==ne.POINTERCANCEL){delete this.trackedTouches_[s];for(const a in this.trackedTouches_)if(this.trackedTouches_[a].target!==n.target){delete this.trackedTouches_[a];break}}else(n.type==ne.POINTERDOWN||n.type==ne.POINTERMOVE)&&(this.trackedTouches_[s]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const n=new hs(ne.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Kt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);const n=new hs(ne.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){const s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(It(s,ne.POINTERMOVE,this.handlePointerMove_,this),It(s,ne.POINTERUP,this.handlePointerUp_,this),It(this.element_,ne.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(It(this.element_.getRootNode(),ne.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const n=new hs(ne.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const n=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new hs(ne.POINTERMOVE,this.map_,t,n))}handleTouchMove_(t){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Kt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(vt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Kt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Kt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const fs={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},De={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Vu=1/0;class DT{constructor(t,n){this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,$l(this.queuedElements_)}dequeue(){const t=this.elements_,n=this.priorities_,s=t[0];t.length==1?(t.length=0,n.length=0):(t[0]=t.pop(),n[0]=n.pop(),this.siftUp_(0));const a=this.keyFunction_(s);return delete this.queuedElements_[a],s}enqueue(t){zt(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(t);return n!=Vu?(this.elements_.push(t),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const n=this.elements_,s=this.priorities_,a=n.length,o=n[t],c=s[t],h=t;for(;t<a>>1;){const d=this.getLeftChildIndex_(t),g=this.getRightChildIndex_(t),_=g<a&&s[g]<s[d]?g:d;n[t]=n[_],s[t]=s[_],t=_}n[t]=o,s[t]=c,this.siftDown_(h,t)}siftDown_(t,n){const s=this.elements_,a=this.priorities_,o=s[n],c=a[n];for(;n>t;){const h=this.getParentIndex_(n);if(a[h]>c)s[n]=s[h],a[n]=a[h],n=h;else break}s[n]=o,a[n]=c}reprioritize(){const t=this.priorityFunction_,n=this.elements_,s=this.priorities_;let a=0;const o=n.length;let c,h,d;for(h=0;h<o;++h)c=n[h],d=t(c),d==Vu?delete this.queuedElements_[this.keyFunction_(c)]:(s[a]=d,n[a++]=c);n.length=a,s.length=a,this.heapify_()}}class LT extends DT{constructor(t,n){super(s=>t.apply(null,s),s=>s[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const n=super.enqueue(t);return n&&t[0].addEventListener(vt.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const n=t.target,s=n.getState();if(s===ft.LOADED||s===ft.ERROR||s===ft.EMPTY){s!==ft.ERROR&&n.removeEventListener(vt.CHANGE,this.boundHandleTileChange_);const a=n.getKey();a in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[a],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,n){let s=0;for(;this.tilesLoading_<t&&s<n&&this.getCount()>0;){const a=this.dequeue()[0],o=a.getKey();a.getState()===ft.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++s,a.load())}}}function IT(r,t,n,s,a){if(!r||!(n in r.wantedTiles)||!r.wantedTiles[n][t.getKey()])return Vu;const o=r.viewState.center,c=s[0]-o[0],h=s[1]-o[1];return 65536*Math.log(a)+Math.sqrt(c*c+h*h)/a}class lg extends ii{constructor(t){super();const n=t.element;n&&!t.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){var t;(t=this.element)==null||t.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(t){var n;this.map_&&((n=this.element)==null||n.remove());for(let s=0,a=this.listenerKeys.length;s<a;++s)Kt(this.listenerKeys[s]);if(this.listenerKeys.length=0,this.map_=t,t){const s=this.target_??t.getOverlayContainerStopEvent();this.element&&s.appendChild(this.element),this.render!==ca&&this.listenerKeys.push(It(t,fs.POSTRENDER,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}}class zT extends lg{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=t.attributions;const n=t.className!==void 0?t.className:"ol-attribution",s=t.tipLabel!==void 0?t.tipLabel:"Attributions",a=t.expandClassName!==void 0?t.expandClassName:n+"-expand",o=t.collapseLabel!==void 0?t.collapseLabel:"",c=t.collapseClassName!==void 0?t.collapseClassName:n+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=c):this.collapseLabel_=o;const h=t.label!==void 0?t.label:"i";typeof h=="string"?(this.label_=document.createElement("span"),this.label_.textContent=h,this.label_.className=a):this.label_=h;const d=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=s,this.toggleButton_.appendChild(d),this.toggleButton_.addEventListener(vt.CLICK,this.handleClick_.bind(this),!1);const g=n+" "+uc+" "+Qd+(this.collapsed_&&this.collapsible_?" "+Iy:"")+(this.collapsible_?"":" ol-uncollapsible"),_=this.element;_.className=g,_.appendChild(this.toggleButton_),_.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const n=this.getMap().getAllLayers(),s=new Set(n.flatMap(a=>a.getAttributions(t)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(a=>s.add(a)):s.add(this.attributions_)),!this.overrideCollapsible_){const a=!n.some(o=>{var c;return((c=o.getSource())==null?void 0:c.getAttributionsCollapsible())===!1});this.setCollapsible(a)}return Array.from(s)}async updateElement_(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(t).map(a=>iS(()=>a))),s=n.length>0;if(this.renderedVisible_!=s&&(this.element.style.display=s?"":"none",this.renderedVisible_=s),!xs(n,this.renderedAttributions_)){wC(this.ulElement_);for(let a=0,o=n.length;a<o;++a){const c=document.createElement("li");c.innerHTML=n[a],this.ulElement_.appendChild(c)}this.renderedAttributions_=n}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(Iy),this.collapsed_?Ly(this.collapseLabel_,this.label_):Ly(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}class NT extends lg{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const n=t.className!==void 0?t.className:"ol-rotate",s=t.label!==void 0?t.label:"",a=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof s=="string"?(this.label_=document.createElement("span"),this.label_.className=a,this.label_.textContent=s):(this.label_=s,this.label_.classList.add(a));const o=t.tipLabel?t.tipLabel:"Reset rotation",c=document.createElement("button");c.className=n+"-reset",c.setAttribute("type","button"),c.title=o,c.appendChild(this.label_),c.addEventListener(vt.CLICK,this.handleClick_.bind(this),!1);const h=n+" "+uc+" "+Qd,d=this.element;d.className=h,d.appendChild(c),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Ru)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const s=n.getRotation();s!==void 0&&(this.duration_>0&&s%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:va}):n.setRotation(0))}render(t){const n=t.frameState;if(!n)return;const s=n.viewState.rotation;if(s!=this.rotation_){const a="rotate("+s+"rad)";if(this.autoHide_){const o=this.element.classList.contains(Ru);!o&&s===0?this.element.classList.add(Ru):o&&s!==0&&this.element.classList.remove(Ru)}this.label_.style.transform=a}this.rotation_=s}}class kT extends lg{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const n=t.className!==void 0?t.className:"ol-zoom",s=t.delta!==void 0?t.delta:1,a=t.zoomInClassName!==void 0?t.zoomInClassName:n+"-in",o=t.zoomOutClassName!==void 0?t.zoomOutClassName:n+"-out",c=t.zoomInLabel!==void 0?t.zoomInLabel:"+",h=t.zoomOutLabel!==void 0?t.zoomOutLabel:"",d=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",g=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",_=document.createElement("button");_.className=a,_.setAttribute("type","button"),_.title=d,_.appendChild(typeof c=="string"?document.createTextNode(c):c),_.addEventListener(vt.CLICK,this.handleClick_.bind(this,s),!1);const y=document.createElement("button");y.className=o,y.setAttribute("type","button"),y.title=g,y.appendChild(typeof h=="string"?document.createTextNode(h):h),y.addEventListener(vt.CLICK,this.handleClick_.bind(this,-s),!1);const p=n+" "+uc+" "+Qd,E=this.element;E.className=p,E.appendChild(_),E.appendChild(y),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,n){n.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const s=this.getMap().getView();if(!s)return;const a=s.getZoom();if(a!==void 0){const o=s.getConstrainedZoom(a+t);this.duration_>0?(s.getAnimating()&&s.cancelAnimations(),s.animate({zoom:o,duration:this.duration_,easing:va})):s.setZoom(o)}}}function GT(r){r=r||{};const t=new Jn;return(r.zoom!==void 0?r.zoom:!0)&&t.push(new kT(r.zoomOptions)),(r.rotate!==void 0?r.rotate:!0)&&t.push(new NT(r.rotateOptions)),(r.attribution!==void 0?r.attribution:!0)&&t.push(new zT(r.attributionOptions)),t}const op={ACTIVE:"active"};class ro extends ii{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(op.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(op.ACTIVE,t)}setMap(t){this.map_=t}}function UT(r,t,n){const s=r.getCenterInternal();if(s){const a=[s[0]+t[0],s[1]+t[1]];r.animateInternal({duration:n!==void 0?n:250,easing:_T,center:r.getConstrainedCenter(a)})}}function og(r,t,n,s){const a=r.getZoom();if(a===void 0)return;const o=r.getConstrainedZoom(a+t),c=r.getResolutionForZoom(o);r.getAnimating()&&r.cancelAnimations(),r.animate({resolution:c,anchor:n,duration:s!==void 0?s:250,easing:va})}class FT extends ro{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let n=!1;if(t.type==ne.DBLCLICK){const s=t.originalEvent,a=t.map,o=t.coordinate,c=s.shiftKey?-this.delta_:this.delta_,h=a.getView();og(h,c,o,this.duration_),s.preventDefault(),n=!0}return!n}}function pd(r){const t=arguments;return function(n){let s=!0;for(let a=0,o=t.length;a<o&&(s=s&&t[a](n),!!s);++a);return s}}const YT=function(r){const t=r.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},XT=function(r){const t=r.map.getTargetElement(),n=t.getRootNode(),s=r.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(s):t.contains(s)},X1=function(r){const t=r.map.getTargetElement(),n=t.getRootNode();return(n instanceof ShadowRoot?n.host:t).hasAttribute("tabindex")?XT(r):!0},BT=Nl,B1=function(r){const t=r.originalEvent;return t.button==0&&!(vC&&l1&&t.ctrlKey)},H1=function(r){const t=r.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},HT=function(r){const t=r.originalEvent;return l1?t.metaKey:t.ctrlKey},PT=function(r){const t=r.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},P1=function(r){const t=r.originalEvent,n=t.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!t.target.isContentEditable},Wf=function(r){const t=r.originalEvent;return zt(t!==void 0,"mapBrowserEvent must originate from a pointer event"),t.pointerType=="mouse"},jT=function(r){const t=r.originalEvent;return zt(t!==void 0,"mapBrowserEvent must originate from a pointer event"),t.isPrimary&&t.button===0};class ao extends ro{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==ne.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==ne.POINTERUP){const s=this.handleUpEvent(t);this.handlingDownUpSequence=s&&this.targetPointers.length>0}}else if(t.type==ne.POINTERDOWN){const s=this.handleDownEvent(t);this.handlingDownUpSequence=s,n=this.stopDown(s)}else t.type==ne.POINTERMOVE&&this.handleMoveEvent(t);return!n}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function ug(r){const t=r.length;let n=0,s=0;for(let a=0;a<t;a++)n+=r[a].clientX,s+=r[a].clientY;return{clientX:n/t,clientY:s/t}}class ZT extends ao{constructor(t){super({stopDown:$u}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=t.condition?t.condition:pd(H1,jT);this.condition_=t.onFocusOnly?pd(X1,n):n,this.noKinetic_=!1}handleDragEvent(t){const n=t.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const s=this.targetPointers,a=n.getEventPixel(ug(s));if(s.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(a[0],a[1]),this.lastCentroid){const o=[this.lastCentroid[0]-a[0],a[1]-this.lastCentroid[1]],h=t.map.getView();_S(o,h.getResolution()),Id(o,h.getRotation()),h.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=a,this.lastPointersCount_=s.length,t.originalEvent.preventDefault()}handleUpEvent(t){const n=t.map,s=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const a=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),c=s.getCenterInternal(),h=n.getPixelFromCoordinateInternal(c),d=n.getCoordinateFromPixelInternal([h[0]-a*Math.cos(o),h[1]-a*Math.sin(o)]);s.animateInternal({center:s.getConstrainedCenter(d),duration:500,easing:va})}return this.panning_&&(this.panning_=!1,s.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const s=t.map.getView();return this.lastCentroid=null,s.getAnimating()&&s.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class VT extends ao{constructor(t){t=t||{},super({stopDown:$u}),this.condition_=t.condition?t.condition:YT,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!Wf(t))return;const n=t.map,s=n.getView();if(s.getConstraints().rotation===ig)return;const a=n.getSize(),o=t.pixel,c=Math.atan2(a[1]/2-o[1],o[0]-a[0]/2);if(this.lastAngle_!==void 0){const h=c-this.lastAngle_;s.adjustRotationInternal(-h)}this.lastAngle_=c}handleUpEvent(t){return Wf(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return Wf(t)&&B1(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class qT extends Qu{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,n=this.endPixel_,s="px",a=this.element_.style;a.left=Math.min(t[0],n[0])+s,a.top=Math.min(t[1],n[1])+s,a.width=Math.abs(n[0]-t[0])+s,a.height=Math.abs(n[1]-t[1])+s}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,n){this.startPixel_=t,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const t=this.startPixel_,n=this.endPixel_,a=[t,[t[0],n[1]],n,[n[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);a[4]=a[0].slice(),this.geometry_?this.geometry_.setCoordinates([a]):this.geometry_=new Fl([a])}getGeometry(){return this.geometry_}}const Vr={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class Tl extends ki{constructor(t,n,s){super(t),this.coordinate=n,this.mapBrowserEvent=s}}class KT extends ao{constructor(t){super(),this.on,this.once,this.un,t=t??{},this.box_=new qT(t.className||"ol-dragbox"),this.minArea_=t.minArea??64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition??B1,this.boxEndCondition_=t.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(t,n,s){const a=s[0]-n[0],o=s[1]-n[1];return a*a+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Tl(Vr.BOXDRAG,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;const n=this.boxEndCondition_(t,this.startPixel_,t.pixel);return n&&this.onBoxEnd(t),this.dispatchEvent(new Tl(n?Vr.BOXEND:Vr.BOXCANCEL,t.coordinate,t)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Tl(Vr.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Tl(Vr.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}setMap(t){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Tl(Vr.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(t)}}class WT extends KT{constructor(t){t=t||{};const n=t.condition?t.condition:PT;super({condition:n,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){const s=this.getMap().getView();let a=this.getGeometry();if(this.out_){const o=s.rotatedExtentForGeometry(a),c=s.getResolutionForExtentInternal(o),h=s.getResolution()/c;a=a.clone(),a.scale(h*h)}s.fitInternal(a,{duration:this.duration_,easing:va})}}const Ks={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class QT extends ro{constructor(t){super(),t=t||{},this.defaultCondition_=function(n){return H1(n)&&P1(n)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let n=!1;if(t.type==vt.KEYDOWN){const s=t.originalEvent,a=s.key;if(this.condition_(t)&&(a==Ks.DOWN||a==Ks.LEFT||a==Ks.RIGHT||a==Ks.UP)){const c=t.map.getView(),h=c.getResolution()*this.pixelDelta_;let d=0,g=0;a==Ks.DOWN?g=-h:a==Ks.LEFT?d=-h:a==Ks.RIGHT?d=h:g=h;const _=[d,g];Id(_,c.getRotation()),UT(c,_,this.duration_),s.preventDefault(),n=!0}}return!n}}class $T extends ro{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(n){return!HT(n)&&P1(n)},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let n=!1;if(t.type==vt.KEYDOWN||t.type==vt.KEYPRESS){const s=t.originalEvent,a=s.key;if(this.condition_(t)&&(a==="+"||a==="-")){const o=t.map,c=a==="+"?this.delta_:-this.delta_,h=o.getView();og(h,c,void 0,this.duration_),s.preventDefault(),n=!0}}return!n}}class JT extends ro{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;const n=t.condition?t.condition:BT;this.condition_=t.onFocusOnly?pd(X1,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(t){if(!this.condition_(t)||t.type!==vt.WHEEL)return!0;const s=t.map,a=t.originalEvent;a.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.pixel);let o;if(t.type==vt.WHEEL&&(o=a.deltaY,yC&&a.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=o1),a.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),o===0)return!1;this.lastDelta_=o;const c=Date.now();this.startTime_===void 0&&(this.startTime_=c),(!this.mode_||c-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");const h=s.getView();if(this.mode_==="trackpad"&&!(h.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(h.getAnimating()&&h.cancelAnimations(),h.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),h.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_?s.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=c,!1;this.totalDelta_+=o;const d=Math.max(this.timeout_-(c-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,s),d),!1}handleWheelZoom_(t){const n=t.getView();n.getAnimating()&&n.cancelAnimations();let s=-le(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(s=s?s>0?1:-1:0),og(n,s,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}class tw extends ao{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=$u),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let n=0;const s=this.targetPointers[0],a=this.targetPointers[1],o=Math.atan2(a.clientY-s.clientY,a.clientX-s.clientX);if(this.lastAngle_!==void 0){const d=o-this.lastAngle_;this.rotationDelta_+=d,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=d}this.lastAngle_=o;const c=t.map,h=c.getView();h.getConstraints().rotation!==ig&&(this.anchor_=c.getCoordinateFromPixelInternal(c.getEventPixel(ug(this.targetPointers))),this.rotating_&&(c.render(),h.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class ew extends ao{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=$u),super(n),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let n=1;const s=this.targetPointers[0],a=this.targetPointers[1],o=s.clientX-a.clientX,c=s.clientY-a.clientY,h=Math.sqrt(o*o+c*c);this.lastDistance_!==void 0&&(n=this.lastDistance_/h),this.lastDistance_=h;const d=t.map,g=d.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=d.getCoordinateFromPixelInternal(d.getEventPixel(ug(this.targetPointers))),d.render(),g.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const s=t.map.getView(),a=this.lastScaleDelta_>1?1:-1;return s.endInteraction(this.duration_,a),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function nw(r){r=r||{};const t=new Jn,n=new MT(-.005,.05,100);return(r.altShiftDragRotate!==void 0?r.altShiftDragRotate:!0)&&t.push(new VT),(r.doubleClickZoom!==void 0?r.doubleClickZoom:!0)&&t.push(new FT({delta:r.zoomDelta,duration:r.zoomDuration})),(r.dragPan!==void 0?r.dragPan:!0)&&t.push(new ZT({onFocusOnly:r.onFocusOnly,kinetic:n})),(r.pinchRotate!==void 0?r.pinchRotate:!0)&&t.push(new tw),(r.pinchZoom!==void 0?r.pinchZoom:!0)&&t.push(new ew({duration:r.zoomDuration})),(r.keyboard!==void 0?r.keyboard:!0)&&(t.push(new QT),t.push(new $T({delta:r.zoomDelta,duration:r.zoomDuration}))),(r.mouseWheelZoom!==void 0?r.mouseWheelZoom:!0)&&t.push(new JT({onFocusOnly:r.onFocusOnly,duration:r.zoomDuration})),(r.shiftDragZoom!==void 0?r.shiftDragZoom:!0)&&t.push(new WT({duration:r.zoomDuration})),t}class ds extends ki{constructor(t,n){super(t),this.layer=n}}const Qf={LAYERS:"layers"};class Ea extends U1{constructor(t){t=t||{};const n=Object.assign({},t);delete n.layers;let s=t.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Qf.LAYERS,this.handleLayersChanged_),s?Array.isArray(s)?s=new Jn(s.slice(),{unique:!0}):zt(typeof s.getArray=="function","Expected `layers` to be an array or a `Collection`"):s=new Jn(void 0,{unique:!0}),this.setLayers(s)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Kt),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(It(t,je.ADD,this.handleLayersAdd_,this),It(t,je.REMOVE,this.handleLayersRemove_,this));for(const s in this.listenerKeys_)this.listenerKeys_[s].forEach(Kt);$l(this.listenerKeys_);const n=t.getArray();for(let s=0,a=n.length;s<a;s++){const o=n[s];this.registerLayerListeners_(o),this.dispatchEvent(new ds("addlayer",o))}this.changed()}registerLayerListeners_(t){const n=[It(t,ua.PROPERTYCHANGE,this.handleLayerChange_,this),It(t,vt.CHANGE,this.handleLayerChange_,this)];t instanceof Ea&&n.push(It(t,"addlayer",this.handleLayerGroupAdd_,this),It(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[kt(t)]=n}handleLayerGroupAdd_(t){this.dispatchEvent(new ds("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new ds("removelayer",t.layer))}handleLayersAdd_(t){const n=t.element;this.registerLayerListeners_(n),this.dispatchEvent(new ds("addlayer",n)),this.changed()}handleLayersRemove_(t){const n=t.element,s=kt(n);this.listenerKeys_[s].forEach(Kt),delete this.listenerKeys_[s],this.dispatchEvent(new ds("removelayer",n)),this.changed()}getLayers(){return this.get(Qf.LAYERS)}setLayers(t){const n=this.getLayers();if(n){const s=n.getArray();for(let a=0,o=s.length;a<o;++a)this.dispatchEvent(new ds("removelayer",s[a]))}this.set(Qf.LAYERS,t)}getLayersArray(t){return t=t!==void 0?t:[],this.getLayers().forEach(function(n){n.getLayersArray(t)}),t}getLayerStatesArray(t){const n=t!==void 0?t:[],s=n.length;this.getLayers().forEach(function(c){c.getLayerStatesArray(n)});const a=this.getLayerState();let o=a.zIndex;!t&&a.zIndex===void 0&&(o=0);for(let c=s,h=n.length;c<h;c++){const d=n[c];d.opacity*=a.opacity,d.visible=d.visible&&a.visible,d.maxResolution=Math.min(d.maxResolution,a.maxResolution),d.minResolution=Math.max(d.minResolution,a.minResolution),d.minZoom=Math.max(d.minZoom,a.minZoom),d.maxZoom=Math.min(d.maxZoom,a.maxZoom),a.extent!==void 0&&(d.extent!==void 0?d.extent=er(d.extent,a.extent):d.extent=a.extent),d.zIndex===void 0&&(d.zIndex=o)}return n}getSourceState(){return"ready"}}class iw extends Qu{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,n){Lt()}calculateMatrices2D(t){const n=t.viewState,s=t.coordinateToPixelTransform,a=t.pixelToCoordinateTransform;zi(s,t.size[0]/2,t.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),Qp(a,s)}forEachFeatureAtCoordinate(t,n,s,a,o,c,h,d){let g;const _=n.viewState;function y(D,w,X,K){return o.call(c,w,D?X:null,K)}const p=_.projection,E=Hp(t.slice(),p),x=[[0,0]];if(p.canWrapX()&&a){const D=p.getExtent(),w=Yt(D);x.push([-w,0],[w,0])}const C=n.layerStatesArray,R=C.length,T=[],b=[];for(let D=0;D<x.length;D++)for(let w=R-1;w>=0;--w){const X=C[w],K=X.layer;if(K.hasRenderer()&&rg(X,_)&&h.call(d,K)){const P=K.getRenderer(),k=K.getSource();if(P&&k){const q=k.getWrapX()?E:t,it=y.bind(null,X.managed);b[0]=q[0]+x[D][0],b[1]=q[1]+x[D][1],g=P.forEachFeatureAtCoordinate(b,n,s,it,T)}if(g)return g}}if(T.length===0)return;const O=1/T.length;return T.forEach((D,w)=>D.distanceSq+=w*O),T.sort((D,w)=>D.distanceSq-w.distanceSq),T.some(D=>g=D.callback(D.feature,D.layer,D.geometry)),g}hasFeatureAtCoordinate(t,n,s,a,o,c){return this.forEachFeatureAtCoordinate(t,n,s,a,Nl,this,o,c)!==void 0}getMap(){return this.map_}renderFrame(t){Lt()}scheduleExpireIconCache(t){Rn.canExpireCache()&&t.postRenderFunctions.push(sw)}}function sw(r,t){Rn.expire()}class rw extends iw{constructor(t){super(t),this.fontChangeListenerKey_=It(bi,ua.PROPERTYCHANGE,t.redrawText,t),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=uc+" ol-layers";const s=t.getViewport();s.insertBefore(this.element_,s.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,n){const s=this.getMap();if(s.hasListener(t)){const a=new A1(t,void 0,n);s.dispatchEvent(a)}}disposeInternal(){Kt(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(Cn.PRECOMPOSE,t);const n=t.layerStatesArray.sort((h,d)=>h.zIndex-d.zIndex);n.some(h=>h.layer instanceof F1&&h.layer.getDeclutter())&&(t.declutter={});const a=t.viewState;this.children_.length=0;const o=[];let c=null;for(let h=0,d=n.length;h<d;++h){const g=n[h];t.layerIndex=h;const _=g.layer,y=_.getSourceState();if(!rg(g,a)||y!="ready"&&y!="undefined"){_.unrender();continue}const p=_.render(t,c);p&&(p!==c&&(this.children_.push(p),c=p),o.push(g))}this.declutter(t,o),bC(this.element_,this.children_),this.dispatchRenderEvent(Cn.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,n){if(t.declutter){for(let s=n.length-1;s>=0;--s){const a=n[s],o=a.layer;o.getDeclutter()&&o.renderDeclutter(t,a)}n.forEach(s=>s.layer.renderDeferred(t))}}}function j1(r){if(r instanceof _c){r.setMapInternal(null);return}r instanceof Ea&&r.getLayers().forEach(j1)}function Z1(r,t){if(r instanceof _c){r.setMapInternal(t);return}if(r instanceof Ea){const n=r.getLayers().getArray();for(let s=0,a=n.length;s<a;++s)Z1(n[s],t)}}let aw=class extends ii{constructor(t){super(),t=t||{},this.on,this.once,this.un;const n=lw(t);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:o1,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Fn(),this.pixelToCoordinateTransform_=Fn(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||GT(),this.interactions=n.interactions||nw({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new LT(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(De.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(De.VIEW,this.handleViewChanged_),this.addChangeListener(De.SIZE,this.handleSizeChanged_),this.addChangeListener(De.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const s=this;t.view&&!(t.view instanceof Un)&&t.view.then(function(a){s.setView(new Un(a))}),this.controls.addEventListener(je.ADD,a=>{a.element.setMap(this)}),this.controls.addEventListener(je.REMOVE,a=>{a.element.setMap(null)}),this.interactions.addEventListener(je.ADD,a=>{a.element.setMap(this)}),this.interactions.addEventListener(je.REMOVE,a=>{a.element.setMap(null)}),this.overlays_.addEventListener(je.ADD,a=>{this.addOverlayInternal_(a.element)}),this.overlays_.addEventListener(je.REMOVE,a=>{const o=a.element.getId();o!==void 0&&delete this.overlayIdIndex_[o.toString()],a.element.setMap(null)}),this.controls.forEach(a=>{a.setMap(this)}),this.interactions.forEach(a=>{a.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){Z1(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const n=t.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,n,s){if(!this.frameState_||!this.renderer_)return;const a=this.getCoordinateFromPixelInternal(t);s=s!==void 0?s:{};const o=s.hitTolerance!==void 0?s.hitTolerance:0,c=s.layerFilter!==void 0?s.layerFilter:Nl,h=s.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(a,this.frameState_,o,h,n,null,c,null)}getFeaturesAtPixel(t,n){const s=[];return this.forEachFeatureAtPixel(t,function(a){s.push(a)},n),s}getAllLayers(){const t=[];function n(s){s.forEach(function(a){a instanceof Ea?n(a.getLayers()):t.push(a)})}return n(this.getLayers()),t}hasFeatureAtPixel(t,n){if(!this.frameState_||!this.renderer_)return!1;const s=this.getCoordinateFromPixelInternal(t);n=n!==void 0?n:{};const a=n.layerFilter!==void 0?n.layerFilter:Nl,o=n.hitTolerance!==void 0?n.hitTolerance:0,c=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(s,this.frameState_,o,c,a,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const s=this.viewport_.getBoundingClientRect(),a=this.getSize(),o=s.width/a[0],c=s.height/a[1],h="changedTouches"in t?t.changedTouches[0]:t;return[(h.clientX-s.left)/o,(h.clientY-s.top)/c]}getTarget(){return this.get(De.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return fd(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const n=this.frameState_;return n?pe(n.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const n=this.overlayIdIndex_[t.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(De.LAYERGROUP)}setLayers(t){const n=this.getLayerGroup();if(t instanceof Jn){n.setLayers(t);return}const s=n.getLayers();s.clear(),s.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let n=0,s=t.length;n<s;++n){const a=t[n];if(!a.visible)continue;const o=a.layer.getRenderer();if(o&&!o.ready)return!0;const c=a.layer.getSource();if(c&&c.loading)return!0}return!1}getPixelFromCoordinate(t){const n=wi(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(t){const n=this.frameState_;return n?pe(n.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(De.SIZE)}getView(){return this.get(De.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,n,s,a){return IT(this.frameState_,t,n,s,a)}handleBrowserEvent(t,n){n=n||t.type;const s=new hs(n,this,t);this.handleMapBrowserEvent(s)}handleMapBrowserEvent(t){if(!this.frameState_)return;const n=t.originalEvent,s=n.type;if(s===yd.POINTERDOWN||s===vt.WHEEL||s===vt.KEYDOWN){const a=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():a,c=n.target,h=o instanceof ShadowRoot?o.host===c?o.host.ownerDocument:o:o===a?a.documentElement:o;if(this.overlayContainerStopEvent_.contains(c)||!h.contains(c))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){const a=this.getInteractions().getArray().slice();for(let o=a.length-1;o>=0;o--){const c=a[o];if(c.getMap()!==this||!c.getActive()||!this.getTargetElement())continue;if(!c.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let a=this.maxTilesLoading_,o=a;if(t){const c=t.viewHints;if(c[Le.ANIMATING]||c[Le.INTERACTING]){const h=Date.now()-t.time>8;a=h?0:8,o=h?0:2}}n.getTilesLoading()<a&&(n.reprioritize(),n.loadMoreTiles(a,o))}t&&this.renderer_&&!t.animate&&(this.renderComplete_?(this.hasListener(Cn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Cn.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new ta(fs.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new ta(fs.LOADSTART,this,t))));const s=this.postRenderFunctions_;if(t)for(let a=0,o=s.length;a<o;++a)s[a](this,t);s.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let s=0,a=this.targetChangeHandlerKeys_.length;s<a;++s)Kt(this.targetChangeHandlerKeys_[s]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(vt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(vt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const s=this.targetElement_.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.unobserve(s.host),this.setSize(void 0)}const t=this.getTarget(),n=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new rw(this)),this.mapBrowserEventHandler_=new OT(this,this.moveTolerance_);for(const o in ne)this.mapBrowserEventHandler_.addEventListener(ne[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(vt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(vt.WHEEL,this.boundHandleBrowserEvent_,h1?{passive:!1}:!1);let s;if(this.keyboardEventTarget_)s=this.keyboardEventTarget_;else{const o=n.getRootNode();s=o instanceof ShadowRoot?o.host:n}this.targetChangeHandlerKeys_=[It(s,vt.KEYDOWN,this.handleBrowserEvent,this),It(s,vt.KEYPRESS,this.handleBrowserEvent,this)];const a=n.getRootNode();a instanceof ShadowRoot&&this.resizeObserver_.observe(a.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Kt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Kt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=It(t,ua.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=It(t,vt.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Kt),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new ds("addlayer",t)),this.layerGroupPropertyListenerKeys_=[It(t,ua.PROPERTYCHANGE,this.render,this),It(t,vt.CHANGE,this.render,this),It(t,"addlayer",this.handleLayerAdd_,this),It(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let n=0,s=t.length;n<s;++n){const a=t[n].layer;a.hasRenderer()&&a.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){j1(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const n=this.getSize(),s=this.getView(),a=this.frameState_;let o=null;if(n!==void 0&&Hy(n)&&s&&s.isDef()){const c=s.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=s.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:ld(h.center,h.resolution,h.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:h,viewHints:c,wantedTiles:{},mapId:kt(this),renderTargets:{}},h.nextCenter&&h.nextResolution){const d=isNaN(h.nextRotation)?h.rotation:h.nextRotation;o.nextExtent=ld(h.nextCenter,h.nextResolution,d,n)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),a&&(!this.previousExtent_||!sc(this.previousExtent_)&&!kl(o.extent,this.previousExtent_))&&(this.dispatchEvent(new ta(fs.MOVESTART,this,a)),this.previousExtent_=tc(this.previousExtent_)),this.previousExtent_&&!o.viewHints[Le.ANIMATING]&&!o.viewHints[Le.INTERACTING]&&!kl(o.extent,this.previousExtent_)&&(this.dispatchEvent(new ta(fs.MOVEEND,this,o)),Ip(o.extent,this.previousExtent_))),this.dispatchEvent(new ta(fs.POSTRENDER,this,o)),this.renderComplete_=(this.hasListener(fs.LOADSTART)||this.hasListener(fs.LOADEND)||this.hasListener(Cn.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new ds("removelayer",n)),this.set(De.LAYERGROUP,t)}setSize(t){this.set(De.SIZE,t)}setTarget(t){this.set(De.TARGET,t)}setView(t){if(!t||t instanceof Un){this.set(De.VIEW,t);return}this.set(De.VIEW,new Un);const n=this;t.then(function(s){n.setView(new Un(s))})}updateSize(){const t=this.getTargetElement();let n;if(t){const a=getComputedStyle(t),o=t.offsetWidth-parseFloat(a.borderLeftWidth)-parseFloat(a.paddingLeft)-parseFloat(a.paddingRight)-parseFloat(a.borderRightWidth),c=t.offsetHeight-parseFloat(a.borderTopWidth)-parseFloat(a.paddingTop)-parseFloat(a.paddingBottom)-parseFloat(a.borderBottomWidth);!isNaN(o)&&!isNaN(c)&&(n=[Math.max(0,o),Math.max(0,c)],!Hy(n)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&Bp("No map visible because the map container's width or height are 0."))}const s=this.getSize();n&&(!s||!xs(n,s))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(t){const n=this.getView();n&&n.setViewportSize(t)}};function lw(r){let t=null;r.keyboardEventTarget!==void 0&&(t=typeof r.keyboardEventTarget=="string"?document.getElementById(r.keyboardEventTarget):r.keyboardEventTarget);const n={},s=r.layers&&typeof r.layers.getLayers=="function"?r.layers:new Ea({layers:r.layers});n[De.LAYERGROUP]=s,n[De.TARGET]=r.target,n[De.VIEW]=r.view instanceof Un?r.view:new Un;let a;r.controls!==void 0&&(Array.isArray(r.controls)?a=new Jn(r.controls.slice()):(zt(typeof r.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),a=r.controls));let o;r.interactions!==void 0&&(Array.isArray(r.interactions)?o=new Jn(r.interactions.slice()):(zt(typeof r.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),o=r.interactions));let c;return r.overlays!==void 0?Array.isArray(r.overlays)?c=new Jn(r.overlays.slice()):(zt(typeof r.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),c=r.overlays):c=new Jn,{controls:a,interactions:o,keyboardEventTarget:t,overlays:c,values:n}}class cg{constructor(t,n,s,a){this.minX=t,this.maxX=n,this.minY=s,this.maxY=a}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,n){return this.minX<=t&&t<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function qr(r,t,n,s,a){return a!==void 0?(a.minX=r,a.maxX=t,a.minY=n,a.maxY=s,a):new cg(r,t,n,s)}function vd(r){return r instanceof Image||r instanceof HTMLCanvasElement||r instanceof HTMLVideoElement||r instanceof ImageBitmap?r:null}const ow=new Error("disposed"),uw=[256,256];class up extends ag{constructor(t){const n=ft.IDLE;super(t.tileCoord,n,{transition:t.transition,interpolate:t.interpolate}),this.loader_=t.loader,this.data_=null,this.error_=null,this.size_=t.size||null,this.controller_=t.controller||null}getSize(){if(this.size_)return this.size_;const t=vd(this.data_);return t?[t.width,t.height]:uw}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==ft.IDLE&&this.state!==ft.ERROR)return;this.state=ft.LOADING,this.changed();const t=this;this.loader_().then(function(n){t.data_=n,t.state=ft.LOADED,t.changed()}).catch(function(n){t.error_=n,t.state=ft.ERROR,t.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(ow),this.controller_=null),super.disposeInternal()}}let $f;const oa=[];function cp(r,t,n,s,a){r.beginPath(),r.moveTo(0,0),r.lineTo(t,n),r.lineTo(s,a),r.closePath(),r.save(),r.clip(),r.fillRect(0,0,Math.max(t,s)+1,Math.max(n,a)),r.restore()}function Jf(r,t){return Math.abs(r[t*4]-210)>2||Math.abs(r[t*4+3]-.75*255)>2}function cw(){if($f===void 0){const r=ve(6,6,oa);r.globalCompositeOperation="lighter",r.fillStyle="rgba(210, 0, 0, 0.75)",cp(r,4,5,4,0),cp(r,4,5,0,5);const t=r.getImageData(0,0,3,3).data;$f=Jf(t,0)||Jf(t,4)||Jf(t,8),oc(r),oa.push(r.canvas)}return $f}function hp(r,t,n,s){const a=Xd(n,t,r);let o=vy(t,s,n);const c=t.getMetersPerUnit();c!==void 0&&(o*=c);const h=r.getMetersPerUnit();h!==void 0&&(o/=h);const d=r.getExtent();if(!d||fa(d,a)){const g=vy(r,o,a)/o;isFinite(g)&&g>0&&(o/=g)}return o}function hw(r,t,n,s){const a=nr(n);let o=hp(r,t,a,s);return(!isFinite(o)||o<=0)&&Up(n,function(c){return o=hp(r,t,c,s),isFinite(o)&&o>0}),o}function fw(r,t,n,s,a,o,c,h,d,g,_,y,p,E){const x=ve(Math.round(n*r),Math.round(n*t),oa);if(y||(x.imageSmoothingEnabled=!1),d.length===0)return x.canvas;x.scale(n,n);function C(w){return Math.round(w*n)/n}x.globalCompositeOperation="lighter";const R=wn();d.forEach(function(w,X,K){lS(R,w.extent)});let T;const b=n/s,O=(y?1:1+Math.pow(2,-24))/b;T=ve(Math.round(Yt(R)*b),Math.round(Ye(R)*b),oa),y||(T.imageSmoothingEnabled=!1),d.forEach(function(w,X,K){if(w.image.width>0&&w.image.height>0){if(w.clipExtent){T.save();const rt=(w.clipExtent[0]-R[0])*b,ot=-(w.clipExtent[3]-R[3])*b,tt=Yt(w.clipExtent)*b,mt=Ye(w.clipExtent)*b;T.rect(y?rt:Math.round(rt),y?ot:Math.round(ot),y?tt:Math.round(rt+tt)-Math.round(rt),y?mt:Math.round(ot+mt)-Math.round(ot)),T.clip()}const P=(w.extent[0]-R[0])*b,k=-(w.extent[3]-R[3])*b,q=Yt(w.extent)*b,it=Ye(w.extent)*b;T.drawImage(w.image,g,g,w.image.width-2*g,w.image.height-2*g,y?P:Math.round(P),y?k:Math.round(k),y?q:Math.round(P+q)-Math.round(P),y?it:Math.round(k+it)-Math.round(k)),w.clipExtent&&T.restore()}});const D=rr(c);return h.getTriangles().forEach(function(w,X,K){const P=w.source,k=w.target;let q=P[0][0],it=P[0][1],rt=P[1][0],ot=P[1][1],tt=P[2][0],mt=P[2][1];const F=C((k[0][0]-D[0])/o),$=C(-(k[0][1]-D[1])/o),Q=C((k[1][0]-D[0])/o),nt=C(-(k[1][1]-D[1])/o),M=C((k[2][0]-D[0])/o),B=C(-(k[2][1]-D[1])/o),U=q,et=it;q=0,it=0,rt-=U,ot-=et,tt-=U,mt-=et;const J=[[rt,ot,0,0,Q-F],[tt,mt,0,0,M-F],[0,0,rt,ot,nt-$],[0,0,tt,mt,B-$]],at=dS(J);if(!at)return;if(x.save(),x.beginPath(),cw()||!y){x.moveTo(Q,nt);const Gt=4,yt=F-Q,Xt=$-nt;for(let Et=0;Et<Gt;Et++)x.lineTo(Q+C((Et+1)*yt/Gt),nt+C(Et*Xt/(Gt-1))),Et!=Gt-1&&x.lineTo(Q+C((Et+1)*yt/Gt),nt+C((Et+1)*Xt/(Gt-1)));x.lineTo(M,B)}else x.moveTo(Q,nt),x.lineTo(F,$),x.lineTo(M,B);x.clip(),x.transform(at[0],at[2],at[1],at[3],F,$),x.translate(R[0]-U,R[3]-et);let ct;if(T)ct=T.canvas,x.scale(O,-O);else{const Gt=d[0],yt=Gt.extent;ct=Gt.image,x.scale(Yt(yt)/ct.width,-Ye(yt)/ct.height)}x.drawImage(ct,0,0),x.restore()}),T&&(oc(T),oa.push(T.canvas)),_&&(x.save(),x.globalCompositeOperation="source-over",x.strokeStyle="black",x.lineWidth=1,h.getTriangles().forEach(function(w,X,K){const P=w.target,k=(P[0][0]-D[0])/o,q=-(P[0][1]-D[1])/o,it=(P[1][0]-D[0])/o,rt=-(P[1][1]-D[1])/o,ot=(P[2][0]-D[0])/o,tt=-(P[2][1]-D[1])/o;x.beginPath(),x.moveTo(it,rt),x.lineTo(k,q),x.lineTo(ot,tt),x.closePath(),x.stroke()}),x.restore()),x.canvas}const dw=10,fp=.25;class gw{constructor(t,n,s,a,o,c,h){this.sourceProj_=t,this.targetProj_=n;let d={};const g=h?PS(O=>pe(h,Xd(O,this.targetProj_,this.sourceProj_))):Fu(this.targetProj_,this.sourceProj_);this.transformInv_=function(O){const D=O[0]+"/"+O[1];return d[D]||(d[D]=g(O)),d[D]},this.maxSourceExtent_=a,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!a&&!!this.sourceProj_.getExtent()&&Yt(a)>=Yt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Yt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Yt(this.targetProj_.getExtent()):null;const _=rr(s),y=ic(s),p=nc(s),E=ec(s),x=this.transformInv_(_),C=this.transformInv_(y),R=this.transformInv_(p),T=this.transformInv_(E),b=dw+(c?Math.max(0,Math.ceil(Math.log2(ad(s)/(c*c*256*256)))):0);if(this.addQuad_(_,y,p,E,x,C,R,T,b),this.wrapsXInSource_){let O=1/0;this.triangles_.forEach(function(D,w,X){O=Math.min(O,D.source[0][0],D.source[1][0],D.source[2][0])}),this.triangles_.forEach(D=>{if(Math.max(D.source[0][0],D.source[1][0],D.source[2][0])-O>this.sourceWorldWidth_/2){const w=[[D.source[0][0],D.source[0][1]],[D.source[1][0],D.source[1][1]],[D.source[2][0],D.source[2][1]]];w[0][0]-O>this.sourceWorldWidth_/2&&(w[0][0]-=this.sourceWorldWidth_),w[1][0]-O>this.sourceWorldWidth_/2&&(w[1][0]-=this.sourceWorldWidth_),w[2][0]-O>this.sourceWorldWidth_/2&&(w[2][0]-=this.sourceWorldWidth_);const X=Math.min(w[0][0],w[1][0],w[2][0]);Math.max(w[0][0],w[1][0],w[2][0])-X<this.sourceWorldWidth_/2&&(D.source=w)}})}d={}}addTriangle_(t,n,s,a,o,c){this.triangles_.push({source:[a,o,c],target:[t,n,s]})}addQuad_(t,n,s,a,o,c,h,d,g){const _=uy([o,c,h,d]),y=this.sourceWorldWidth_?Yt(_)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,E=this.sourceProj_.canWrapX()&&y>.5&&y<1;let x=!1;if(g>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const R=uy([t,n,s,a]);x=Yt(R)/this.targetWorldWidth_>fp||x}!E&&this.sourceProj_.isGlobal()&&y&&(x=y>fp||x)}if(!x&&this.maxSourceExtent_&&isFinite(_[0])&&isFinite(_[1])&&isFinite(_[2])&&isFinite(_[3])&&!qe(_,this.maxSourceExtent_))return;let C=0;if(!x&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(h[0])||!isFinite(h[1])||!isFinite(d[0])||!isFinite(d[1]))){if(g>0)x=!0;else if(C=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(c[0])||!isFinite(c[1])?4:0)+(!isFinite(h[0])||!isFinite(h[1])?2:0)+(!isFinite(d[0])||!isFinite(d[1])?1:0),C!=1&&C!=2&&C!=4&&C!=8)return}if(g>0){if(!x){const R=[(t[0]+s[0])/2,(t[1]+s[1])/2],T=this.transformInv_(R);let b;E?b=(ra(o[0],p)+ra(h[0],p))/2-ra(T[0],p):b=(o[0]+h[0])/2-T[0];const O=(o[1]+h[1])/2-T[1];x=b*b+O*O>this.errorThresholdSquared_}if(x){if(Math.abs(t[0]-s[0])<=Math.abs(t[1]-s[1])){const R=[(n[0]+s[0])/2,(n[1]+s[1])/2],T=this.transformInv_(R),b=[(a[0]+t[0])/2,(a[1]+t[1])/2],O=this.transformInv_(b);this.addQuad_(t,n,R,b,o,c,T,O,g-1),this.addQuad_(b,R,s,a,O,T,h,d,g-1)}else{const R=[(t[0]+n[0])/2,(t[1]+n[1])/2],T=this.transformInv_(R),b=[(s[0]+a[0])/2,(s[1]+a[1])/2],O=this.transformInv_(b);this.addQuad_(t,R,b,a,o,T,O,d,g-1),this.addQuad_(R,n,s,b,T,c,h,O,g-1)}return}}if(E){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(C&11)==0&&this.addTriangle_(t,s,a,o,h,d),(C&14)==0&&this.addTriangle_(t,s,n,o,h,c),C&&((C&13)==0&&this.addTriangle_(n,a,t,c,d,o),(C&7)==0&&this.addTriangle_(n,a,s,c,d,h))}calculateSourceExtent(){const t=wn();return this.triangles_.forEach(function(n,s,a){const o=n.source;Il(t,o[0]),Il(t,o[1]),Il(t,o[2])}),t}getTriangles(){return this.triangles_}}const mw=.5;class V1 extends ag{constructor(t,n,s,a,o,c,h,d,g,_,y,p){super(o,ft.IDLE,p),this.renderEdges_=y!==void 0?y:!1,this.pixelRatio_=h,this.gutter_=d,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=a,this.wrappedTileCoord_=c||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;const E=a.getTileCoordExtent(this.wrappedTileCoord_),x=this.targetTileGrid_.getExtent();let C=this.sourceTileGrid_.getExtent();const R=x?er(E,x):E;if(ad(R)===0){this.state=ft.EMPTY;return}const T=t.getExtent();T&&(C?C=er(C,T):C=T);const b=a.getResolution(this.wrappedTileCoord_[0]),O=hw(t,s,R,b);if(!isFinite(O)||O<=0){this.state=ft.EMPTY;return}const D=_!==void 0?_:mw;if(this.triangulation_=new gw(t,s,R,C,O*D,b),this.triangulation_.getTriangles().length===0){this.state=ft.EMPTY;return}this.sourceZ_=n.getZForResolution(O);let w=this.triangulation_.calculateSourceExtent();if(C&&(t.canWrapX()?(w[1]=le(w[1],C[1],C[3]),w[3]=le(w[3],C[1],C[3])):w=er(w,C)),!ad(w))this.state=ft.EMPTY;else{let X=0,K=0;t.canWrapX()&&(X=Yt(T),K=Math.floor((w[0]-T[0])/X)),Xp(w.slice(),t,!0).forEach(k=>{const q=n.getTileRangeForExtentAndZ(k,this.sourceZ_);for(let it=q.minX;it<=q.maxX;it++)for(let rt=q.minY;rt<=q.maxY;rt++){const ot=g(this.sourceZ_,it,rt,h);if(ot){const tt=K*X;this.sourceTiles_.push({tile:ot,offset:tt})}}++K}),this.sourceTiles_.length===0&&(this.state=ft.EMPTY)}}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach(n=>{var a;const s=n.tile;if(s&&s.getState()==ft.LOADED){const o=this.sourceTileGrid_.getTileCoordExtent(s.tileCoord);o[0]+=n.offset,o[2]+=n.offset;const c=(a=this.clipExtent_)==null?void 0:a.slice();c&&(c[0]+=n.offset,c[2]+=n.offset),t.push({extent:o,clipExtent:c,image:s.getImage()})}}),this.sourceTiles_.length=0,t.length===0)this.state=ft.ERROR;else{const n=this.wrappedTileCoord_[0],s=this.targetTileGrid_.getTileSize(n),a=typeof s=="number"?s:s[0],o=typeof s=="number"?s:s[1],c=this.targetTileGrid_.getResolution(n),h=this.sourceTileGrid_.getResolution(this.sourceZ_),d=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=fw(a,o,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),c,d,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=ft.LOADED}this.changed()}load(){if(this.state==ft.IDLE){this.state=ft.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const s=n.getState();if(s==ft.IDLE||s==ft.LOADING){t++;const a=It(n,vt.CHANGE,o=>{const c=n.getState();(c==ft.LOADED||c==ft.ERROR||c==ft.EMPTY)&&(Kt(a),t--,t===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(a)}}),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},s,a){n.getState()==ft.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Kt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(oc(this.canvas_.getContext("2d")),oa.push(this.canvas_),this.canvas_=null),super.release()}}class _w{constructor(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const t=this.pop();t instanceof Qu&&t.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let n=this.oldest_;for(;n;)t(n.value_,n.key_,this),n=n.newer}get(t,n){const s=this.entries_[t];return zt(s!==void 0,"Tried to get a value for a key that does not exist in the cache"),s===this.newest_||(s===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(s.newer.older=s.older,s.older.newer=s.newer),s.newer=null,s.older=this.newest_,this.newest_.newer=s,this.newest_=s),s.value_}remove(t){const n=this.entries_[t];return zt(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[t],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let n=0,s;for(s=this.newest_;s;s=s.older)t[n++]=s.key_;return t}getValues(){const t=new Array(this.count_);let n=0,s;for(s=this.newest_;s;s=s.older)t[n++]=s.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){var n;return(n=this.entries_[t])==null?void 0:n.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,n){this.get(t),this.entries_[t].value_=n}set(t,n){zt(!(t in this.entries_),"Tried to set a value for a key that is used already");const s={key_:t,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=s:this.oldest_=s,this.newest_=s,this.entries_[t]=s,++this.count_}setSize(t){this.highWaterMark=t}}function qu(r,t,n,s){return s!==void 0?(s[0]=r,s[1]=t,s[2]=n,s):[r,t,n]}function yw(r,t,n){return r+"/"+t+"/"+n}function pw(r){return vw(r[0],r[1],r[2])}function vw(r,t,n){return(t<<r)+n}function Ew(r,t){const n=r[0],s=r[1],a=r[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;const o=t.getFullTileRange(n);return o?o.containsXY(s,a):!0}function td(r,t,n,s){return`${r},${yw(t,n,s)}`}function ed(r,t,n){if(!(n in r))return r[n]=new Set([t]),!0;const s=r[n],a=s.has(t);return a||s.add(t),!a}function xw(r,t,n){const s=r[n];return s?s.delete(t):!1}function dp(r,t){const n=r.layerStatesArray[r.layerIndex];n.extent&&(t=er(t,gs(n.extent,r.viewState.projection)));const s=n.layer.getRenderSource();if(!s.getWrapX()){const a=s.getTileGridForProjection(r.viewState.projection).getExtent();a&&(t=er(t,a))}return t}class Sw extends M1{constructor(t,n){super(t),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision_,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=wn(),this.tempTileRange_=new cg(0,0,0,0),this.tempTileCoord_=qu(0,0,0);const s=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new _w(s),this.maxStaleKeys=s*.5}getTileCache(){return this.tileCache_}getOrCreateTile(t,n,s,a){const o=this.tileCache_,h=this.getLayer().getSource(),d=td(h.getKey(),t,n,s);let g;if(o.containsKey(d))g=o.get(d);else{if(g=h.getTile(t,n,s,a.pixelRatio,a.viewState.projection),!g)return null;o.set(d,g)}return g}getTile(t,n,s,a){const o=this.getOrCreateTile(t,n,s,a);return o||null}getData(t){const n=this.frameState;if(!n)return null;const s=this.getLayer(),a=pe(n.pixelToCoordinateTransform,t.slice()),o=s.getExtent();if(o&&!fa(o,a))return null;const c=n.viewState,h=s.getRenderSource(),d=h.getTileGridForProjection(c.projection),g=h.getTilePixelRatio(n.pixelRatio);for(let _=d.getZForResolution(c.resolution);_>=d.getMinZoom();--_){const y=d.getTileCoordForCoordAndZ(a,_),p=this.getTile(_,y[1],y[2],n);if(!p||p.getState()!==ft.LOADED)continue;const E=d.getOrigin(_),x=We(d.getTileSize(_)),C=d.getResolution(_);let R;if(p instanceof Y1||p instanceof V1)R=p.getImage();else if(p instanceof up){if(R=vd(p.getData()),!R)continue}else continue;const T=Math.floor(g*((a[0]-E[0])/C-y[1]*x[0])),b=Math.floor(g*((E[1]-a[1])/C-y[2]*x[1])),O=Math.round(g*h.getGutterForProjection(c.projection));return this.getImageData(R,T+O,b+O)}return null}prepareFrame(t){this.renderedProjection?t.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=t.viewState.projection):this.renderedProjection=t.viewState.projection;const n=this.getLayer().getSource();if(!n)return!1;const s=n.getRevision();return this.renderedRevision_?this.renderedRevision_!==s&&(this.renderedRevision_=s,this.renderedSourceKey_===n.getKey()&&this.tileCache_.clear()):this.renderedRevision_=s,!0}enqueueTiles(t,n,s,a,o){const c=t.viewState,h=this.getLayer(),d=h.getRenderSource(),g=d.getTileGridForProjection(c.projection),_=kt(d);_ in t.wantedTiles||(t.wantedTiles[_]={});const y=t.wantedTiles[_],p=h.getMapInternal(),E=Math.max(s-o,g.getMinZoom(),g.getZForResolution(Math.min(h.getMaxResolution(),p?p.getView().getResolutionForZoom(Math.max(h.getMinZoom(),0)):g.getResolution(0)),d.zDirection)),x=c.rotation,C=x?Fp(c.center,c.resolution,x,t.size):void 0;for(let R=s;R>=E;--R){const T=g.getTileRangeForExtentAndZ(n,R,this.tempTileRange_),b=g.getResolution(R);for(let O=T.minX;O<=T.maxX;++O)for(let D=T.minY;D<=T.maxY;++D){if(x&&!g.tileCoordIntersectsViewport([R,O,D],C))continue;const w=this.getTile(R,O,D,t);if(!w||!ed(a,w,R))continue;const K=w.getKey();if(y[K]=!0,w.getState()===ft.IDLE&&!t.tileQueue.isKeyQueued(K)){const P=qu(R,O,D,this.tempTileCoord_);t.tileQueue.enqueue([w,_,g.getTileCoordCenter(P),b])}}}}findStaleTile_(t,n){const s=this.tileCache_,a=t[0],o=t[1],c=t[2],h=this.getStaleKeys();for(let d=0;d<h.length;++d){const g=td(h[d],a,o,c);if(s.containsKey(g)){const _=s.peek(g);if(_.getState()===ft.LOADED)return _.endTransition(kt(this)),ed(n,_,a),!0}}return!1}findAltTiles_(t,n,s,a){const o=t.getTileRangeForTileCoordAndZ(n,s,this.tempTileRange_);if(!o)return!1;let c=!0;const h=this.tileCache_,g=this.getLayer().getRenderSource().getKey();for(let _=o.minX;_<=o.maxX;++_)for(let y=o.minY;y<=o.maxY;++y){const p=td(g,s,_,y);let E=!1;if(h.containsKey(p)){const x=h.peek(p);x.getState()===ft.LOADED&&(ed(a,x,s),E=!0)}E||(c=!1)}return c}renderFrame(t,n){let s=!0;this.renderComplete=!0;const a=t.layerStatesArray[t.layerIndex],o=t.viewState,c=o.projection,h=o.resolution,d=o.center,g=t.pixelRatio,_=this.getLayer(),y=_.getSource(),p=y.getTileGridForProjection(c),E=p.getZForResolution(h,y.zDirection),x=p.getResolution(E),C=y.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==C&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=C):this.renderedSourceKey_=C;let R=t.extent;const T=y.getTilePixelRatio(g);this.prepareContainer(t,n);const b=this.context.canvas.width,O=this.context.canvas.height,D=a.extent&&gs(a.extent);D&&(R=er(R,gs(a.extent)));const w=x*b/2/T,X=x*O/2/T,K=[d[0]-w,d[1]-X,d[0]+w,d[1]+X],P={};this.renderedTiles.length=0;const k=_.getPreload();if(t.nextExtent){const nt=p.getZForResolution(o.nextResolution,y.zDirection),M=dp(t,t.nextExtent);this.enqueueTiles(t,M,nt,P,k)}const q=dp(t,R);if(this.enqueueTiles(t,q,E,P,0),k>0&&setTimeout(()=>{this.enqueueTiles(t,q,E-1,P,k-1)},0),!(E in P))return this.container;const it=kt(this),rt=t.time;for(const nt of P[E]){const M=nt.getState();if(M===ft.EMPTY)continue;const B=nt.tileCoord;if(M===ft.LOADED&&nt.getAlpha(it,rt)===1){nt.endTransition(it);continue}if(M!==ft.IDLE&&(s=!1),M!==ft.ERROR&&(this.renderComplete=!1),this.findStaleTile_(B,P)){xw(P,nt,E),t.animate=!0;continue}if(this.findAltTiles_(p,B,E+1,P))continue;const J=p.getMinZoom();for(let at=E-1;at>=J&&!this.findAltTiles_(p,B,at,P);--at);}const ot=x/h*g/T,tt=this.getRenderContext(t);zi(this.tempTransform,b/2,O/2,ot,ot,0,-b/2,-O/2),a.extent&&this.clipUnrotated(tt,t,D),y.getInterpolate()||(tt.imageSmoothingEnabled=!1),this.preRender(tt,t);const mt=Object.keys(P).map(Number);mt.sort(Oi);let F;const $=[],Q=[];for(let nt=mt.length-1;nt>=0;--nt){const M=mt[nt],B=y.getTilePixelSize(M,g,c),et=p.getResolution(M)/x,J=B[0]*et*ot,at=B[1]*et*ot,ct=p.getTileCoordForCoordAndZ(rr(K),M),Gt=p.getTileCoordExtent(ct),yt=pe(this.tempTransform,[T*(Gt[0]-K[0])/x,T*(K[3]-Gt[3])/x]),Xt=T*y.getGutterForProjection(c);for(const Et of P[M]){if(Et.getState()!==ft.LOADED)continue;const ze=Et.tileCoord,Xn=ct[1]-ze[1],$e=Math.round(yt[0]-(Xn-1)*J),Je=ct[2]-ze[2],Bn=Math.round(yt[1]-(Je-1)*at),Ee=Math.round(yt[0]-Xn*J),Xe=Math.round(yt[1]-Je*at),bn=$e-Ee,An=Bn-Xe,Hn=mt.length===1;let si=!1;F=[Ee,Xe,Ee+bn,Xe,Ee+bn,Xe+An,Ee,Xe+An];for(let Mn=0,ri=$.length;Mn<ri;++Mn)if(!Hn&&M<Q[Mn]){const Pt=$[Mn];qe([Ee,Xe,Ee+bn,Xe+An],[Pt[0],Pt[3],Pt[4],Pt[7]])&&(si||(tt.save(),si=!0),tt.beginPath(),tt.moveTo(F[0],F[1]),tt.lineTo(F[2],F[3]),tt.lineTo(F[4],F[5]),tt.lineTo(F[6],F[7]),tt.moveTo(Pt[6],Pt[7]),tt.lineTo(Pt[4],Pt[5]),tt.lineTo(Pt[2],Pt[3]),tt.lineTo(Pt[0],Pt[1]),tt.clip())}$.push(F),Q.push(M),this.drawTile(Et,t,Ee,Xe,bn,An,Xt,Hn),si&&tt.restore(),this.renderedTiles.unshift(Et),this.updateUsedTiles(t.usedTiles,y,Et)}}if(this.renderedResolution=x,this.extentChanged=!this.renderedExtent_||!kl(this.renderedExtent_,K),this.renderedExtent_=K,this.renderedPixelRatio=g,this.postRender(this.context,t),a.extent&&tt.restore(),tt.imageSmoothingEnabled=!0,this.renderComplete){const nt=(M,B)=>{const U=kt(y),et=B.wantedTiles[U],J=et?Object.keys(et).length:0;this.updateCacheSize(J),this.tileCache_.expireCache()};t.postRenderFunctions.push(nt)}return!this.renderComplete&&!s&&(t.animate=!0),this.container}updateCacheSize(t){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,t*2)}drawTile(t,n,s,a,o,c,h,d){let g;if(t instanceof up){if(g=vd(t.getData()),!g)throw new Error("Rendering array data is not yet supported")}else g=this.getTileImage(t);if(!g)return;const _=this.getRenderContext(n),y=kt(this),p=n.layerStatesArray[n.layerIndex],E=p.opacity*(d?t.getAlpha(y,n.time):1),x=E!==_.globalAlpha;x&&(_.save(),_.globalAlpha=E),_.drawImage(g,h,h,g.width-2*h,g.height-2*h,s,a,o,c),x&&_.restore(),E!==p.opacity?n.animate=!0:d&&t.endTransition(y)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}updateUsedTiles(t,n,s){const a=kt(n);a in t||(t[a]={}),t[a][s.getKey()]=!0}}const Ou={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class Cw extends _c{constructor(t){t=t||{};const n=Object.assign({},t),s=t.cacheSize;delete t.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=s,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Ou.PRELOAD)}setPreload(t){this.set(Ou.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(Ou.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(Ou.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}class Ed extends Cw{constructor(t){super(t)}createRenderer(){return new Sw(this,{cacheSize:this.getCacheSize()})}}const Kr=[0,0,0],cs=5;class q1{constructor(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,zt(nS(this.resolutions_,(a,o)=>o-a),"`resolutions` must be sorted in descending order");let n;if(!t.origins){for(let a=0,o=this.resolutions_.length-1;a<o;++a)if(!n)n=this.resolutions_[a]/this.resolutions_[a+1];else if(this.resolutions_[a]/this.resolutions_[a+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,zt(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const s=t.extent;s!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=rr(s)),zt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,zt(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:sg,zt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=s!==void 0?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map((a,o)=>{const c=new cg(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1));if(s){const h=this.getTileRangeForExtentAndZ(s,o);c.minX=Math.max(h.minX,c.minX),c.maxX=Math.min(h.maxX,c.maxX),c.minY=Math.max(h.minY,c.minY),c.maxY=Math.min(h.maxY,c.maxY)}return c}):s&&this.calculateTileRanges_(s)}forEachTileCoord(t,n,s){const a=this.getTileRangeForExtentAndZ(t,n);for(let o=a.minX,c=a.maxX;o<=c;++o)for(let h=a.minY,d=a.maxY;h<=d;++h)s([n,o,h])}forEachTileCoordParentTileRange(t,n,s,a){let o,c,h,d=null,g=t[0]-1;for(this.zoomFactor_===2?(c=t[1],h=t[2]):d=this.getTileCoordExtent(t,a);g>=this.minZoom;){if(c!==void 0&&h!==void 0?(c=Math.floor(c/2),h=Math.floor(h/2),o=qr(c,c,h,h,s)):o=this.getTileRangeForExtentAndZ(d,g,s),n(g,o))return!0;--g}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,n,s){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){const o=t[1]*2,c=t[2]*2;return qr(o,o+1,c,c+1,n)}const a=this.getTileCoordExtent(t,s||this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,t[0]+1,n)}return null}getTileRangeForTileCoordAndZ(t,n,s){if(n>this.maxZoom||n<this.minZoom)return null;const a=t[0],o=t[1],c=t[2];if(n===a)return qr(o,c,o,c,s);if(this.zoomFactor_){const d=Math.pow(this.zoomFactor_,n-a),g=Math.floor(o*d),_=Math.floor(c*d);if(n<a)return qr(g,g,_,_,s);const y=Math.floor(d*(o+1))-1,p=Math.floor(d*(c+1))-1;return qr(g,y,_,p,s)}const h=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,n,s)}getTileRangeForExtentAndZ(t,n,s){this.getTileCoordForXYAndZ_(t[0],t[3],n,!1,Kr);const a=Kr[1],o=Kr[2];this.getTileCoordForXYAndZ_(t[2],t[1],n,!0,Kr);const c=Kr[1],h=Kr[2];return qr(a,c,o,h,s)}getTileCoordCenter(t){const n=this.getOrigin(t[0]),s=this.getResolution(t[0]),a=We(this.getTileSize(t[0]),this.tmpSize_);return[n[0]+(t[1]+.5)*a[0]*s,n[1]-(t[2]+.5)*a[1]*s]}getTileCoordExtent(t,n){const s=this.getOrigin(t[0]),a=this.getResolution(t[0]),o=We(this.getTileSize(t[0]),this.tmpSize_),c=s[0]+t[1]*o[0]*a,h=s[1]-(t[2]+1)*o[1]*a,d=c+o[0]*a,g=h+o[1]*a;return vs(c,h,d,g,n)}getTileCoordForCoordAndResolution(t,n,s){return this.getTileCoordForXYAndResolution_(t[0],t[1],n,!1,s)}getTileCoordForXYAndResolution_(t,n,s,a,o){const c=this.getZForResolution(s),h=s/this.getResolution(c),d=this.getOrigin(c),g=We(this.getTileSize(c),this.tmpSize_);let _=h*(t-d[0])/s/g[0],y=h*(d[1]-n)/s/g[1];return a?(_=Su(_,cs)-1,y=Su(y,cs)-1):(_=xu(_,cs),y=xu(y,cs)),qu(c,_,y,o)}getTileCoordForXYAndZ_(t,n,s,a,o){const c=this.getOrigin(s),h=this.getResolution(s),d=We(this.getTileSize(s),this.tmpSize_);let g=(t-c[0])/h/d[0],_=(c[1]-n)/h/d[1];return a?(g=Su(g,cs)-1,_=Su(_,cs)-1):(g=xu(g,cs),_=xu(_,cs)),qu(s,g,_,o)}getTileCoordForCoordAndZ(t,n,s){return this.getTileCoordForXYAndZ_(t[0],t[1],n,!1,s)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,n){const s=bd(this.resolutions_,t,n||0);return le(s,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,n){return a1(n,0,n.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const n=this.resolutions_.length,s=new Array(n);for(let a=this.minZoom;a<n;++a)s[a]=this.getTileRangeForExtentAndZ(t,a);this.fullTileRanges_=s}}function K1(r){let t=r.getDefaultTileGrid();return t||(t=bw(r),r.setDefaultTileGrid(t)),t}function Rw(r,t,n){const s=t[0],a=r.getTileCoordCenter(t),o=hg(n);if(!fa(o,a)){const c=Yt(o),h=Math.ceil((o[0]-a[0])/c);return a[0]+=c*h,r.getTileCoordForCoordAndZ(a,s)}return t}function Tw(r,t,n,s){s=s!==void 0?s:"top-left";const a=W1(r,t,n);return new q1({extent:r,origin:uS(r,s),resolutions:a,tileSize:n})}function ww(r){const t=r||{},n=t.extent||Qe("EPSG:3857").getExtent(),s={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:W1(n,t.maxZoom,t.tileSize,t.maxResolution)};return new q1(s)}function W1(r,t,n,s){t=t!==void 0?t:xT,n=We(n!==void 0?n:sg);const a=Ye(r),o=Yt(r);s=s>0?s:Math.max(o/n[0],a/n[1]);const c=t+1,h=new Array(c);for(let d=0;d<c;++d)h[d]=s/Math.pow(2,d);return h}function bw(r,t,n,s){const a=hg(r);return Tw(a,t,n,s)}function hg(r){r=Qe(r);let t=r.getExtent();if(!t){const n=180*zd.degrees/r.getMetersPerUnit();t=vs(-n,-n,n,n)}return t}const Aw=/\{z\}/g,Mw=/\{x\}/g,Ow=/\{y\}/g,Dw=/\{-y\}/g;function Lw(r,t,n,s,a){return r.replace(Aw,t.toString()).replace(Mw,n.toString()).replace(Ow,s.toString()).replace(Dw,function(){if(a===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(a-s).toString()})}function Iw(r){const t=[];let n=/\{([a-z])-([a-z])\}/.exec(r);if(n){const s=n[1].charCodeAt(0),a=n[2].charCodeAt(0);let o;for(o=s;o<=a;++o)t.push(r.replace(n[0],String.fromCharCode(o)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(r),n){const s=parseInt(n[2],10);for(let a=parseInt(n[1],10);a<=s;a++)t.push(r.replace(n[0],a.toString()));return t}return t.push(r),t}function zw(r,t){return function(n,s,a){if(!n)return;let o;const c=n[0];if(t){const h=t.getFullTileRange(c);h&&(o=h.getHeight()-1)}return Lw(r,c,n[1],n[2],o)}}function Nw(r,t){const n=r.length,s=new Array(n);for(let a=0;a<n;++a)s[a]=zw(r[a],t);return kw(s)}function kw(r){return r.length===1?r[0]:function(t,n,s){if(!t)return;const a=pw(t),o=ra(a,r.length);return r[o](t,n,s)}}class Gw extends R1{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;const n=[256,256];this.tileGrid&&We(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tmpSize=[0,0],this.key_=t.key||kt(this),this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getResolutions(t){const n=t?this.getTileGridForProjection(t):this.tileGrid;return n?n.getResolutions():null}getTile(t,n,s,a,o){return Lt()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:K1(t)}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,n,s){const a=this.getTileGridForProjection(s),o=this.getTilePixelRatio(n),c=We(a.getTileSize(t),this.tmpSize);return o==1?c:oR(c,o,this.tmpSize)}getTileCoordForTileUrlFunction(t,n){const s=n!==void 0?n:this.getProjection(),a=n!==void 0?this.getTileGridForProjection(s):this.tileGrid||this.getTileGridForProjection(s);return this.getWrapX()&&s.isGlobal()&&(t=Rw(a,t,s)),Ew(t,a)?t:null}clear(){}refresh(){this.clear(),super.refresh()}}class Uw extends ki{constructor(t,n){super(t),this.tile=n}}const nd={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class fg extends Gw{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===fg.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const n=t.target,s=kt(n),a=n.getState();let o;a==ft.LOADING?(this.tileLoadingKeys_[s]=!0,o=nd.TILELOADSTART):s in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[s],o=a==ft.ERROR?nd.TILELOADERROR:a==ft.LOADED?nd.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new Uw(o,n))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,n){this.tileUrlFunction=t,typeof n<"u"?this.setKey(n):this.changed()}setUrl(t){const n=Iw(t);this.urls=n,this.setUrls(n)}setUrls(t){this.urls=t;const n=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(Nw(t,this.tileGrid),n):this.setKey(n)}tileUrlFunction(t,n,s){}}class Fw extends fg{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Yw,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate!==void 0?t.interpolate:!0,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,this.tileClass=t.tileClass!==void 0?t.tileClass:Y1,this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(t){return this.getProjection()&&t&&!kf(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){const n=this.getProjection();if(this.tileGrid&&(!n||kf(n,t)))return this.tileGrid;const s=kt(t);return s in this.tileGridForProjection||(this.tileGridForProjection[s]=K1(t)),this.tileGridForProjection[s]}createTile_(t,n,s,a,o,c){const h=[t,n,s],d=this.getTileCoordForTileUrlFunction(h,o),g=d?this.tileUrlFunction(d,a,o):void 0,_=new this.tileClass(h,g!==void 0?ft.IDLE:ft.EMPTY,g!==void 0?g:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return _.key=c,_.addEventListener(vt.CHANGE,this.handleTileChange.bind(this)),_}getTile(t,n,s,a,o){const c=this.getProjection();if(!c||!o||kf(c,o))return this.getTileInternal(t,n,s,a,c||o);const h=[t,n,s],d=this.getKey(),g=this.getTileGridForProjection(c),_=this.getTileGridForProjection(o),y=this.getTileCoordForTileUrlFunction(h,o),p=new V1(c,g,o,_,h,y,this.getTilePixelRatio(a),this.getGutter(),(E,x,C,R)=>this.getTileInternal(E,x,C,R,c),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return p.key=d,p}getTileInternal(t,n,s,a,o){const c=this.getKey();return this.createTile_(t,n,s,a,o,c)}setRenderReprojectionEdges(t){this.renderReprojectionEdges_!=t&&(this.renderReprojectionEdges_=t,this.changed())}setTileGridForProjection(t,n){const s=Qe(t);if(s){const a=kt(s);a in this.tileGridForProjection||(this.tileGridForProjection[a]=n)}}}function Yw(r,t){r.getImage().src=t}class Q1 extends Fw{constructor(t){t=t||{};const n=t.projection!==void 0?t.projection:"EPSG:3857",s=t.tileGrid!==void 0?t.tileGrid:ww({extent:hg(n),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:n,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0}getGutter(){return this.gutter_}}const Xw='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class $1 extends Q1{constructor(t){t=t||{};let n;t.attributions!==void 0?n=t.attributions:n=[Xw];const s=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",a=t.url!==void 0?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:s,interpolate:t.interpolate,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:a,wrapX:t.wrapX,zDirection:t.zDirection})}}const Bw="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='-51.2%20-51.2%20614.40%20614.40'%20xmlns='http://www.w3.org/2000/svg'%20fill='%23415a77'%20stroke='%23415a77'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke='%23bababa'%20stroke-width='4.096'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3eionicons-v5-o%3c/title%3e%3cline%20x1='256'%20y1='96'%20x2='256'%20y2='56'%20style='fill:none;stroke:%23080808;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px'/%3e%3cline%20x1='256'%20y1='456'%20x2='256'%20y2='416'%20style='fill:none;stroke:%23080808;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px'/%3e%3cpath%20d='M256,112A144,144,0,1,0,400,256,144,144,0,0,0,256,112Z'%20style='fill:none;stroke:%23080808;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px'/%3e%3cline%20x1='416'%20y1='256'%20x2='456'%20y2='256'%20style='fill:none;stroke:%23080808;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px'/%3e%3cline%20x1='56'%20y1='256'%20x2='96'%20y2='256'%20style='fill:none;stroke:%23080808;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px'/%3e%3c/g%3e%3c/svg%3e";function Hw({setView:r,userLocation:t}){function n(){r(new Un({center:t,zoom:20,maxZoom:18.5}))}return gt.jsx("button",{onClick:()=>n(),id:"pinpoint",children:gt.jsx("img",{src:Bw,alt:"",style:{width:"40px"}})})}const Pw="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M4.97883%209.68508C2.99294%208.89073%202%208.49355%202%208C2%207.50645%202.99294%207.10927%204.97883%206.31492L7.7873%205.19153C9.77318%204.39718%2010.7661%204%2012%204C13.2339%204%2014.2268%204.39718%2016.2127%205.19153L19.0212%206.31492C21.0071%207.10927%2022%207.50645%2022%208C22%208.49355%2021.0071%208.89073%2019.0212%209.68508L16.2127%2010.8085C14.2268%2011.6028%2013.2339%2012%2012%2012C10.7661%2012%209.77318%2011.6028%207.7873%2010.8085L4.97883%209.68508Z'%20fill='%231C274C'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2%208C2%208.49355%202.99294%208.89073%204.97883%209.68508L7.7873%2010.8085C9.77318%2011.6028%2010.7661%2012%2012%2012C13.2339%2012%2014.2268%2011.6028%2016.2127%2010.8085L19.0212%209.68508C21.0071%208.89073%2022%208.49355%2022%208C22%207.50645%2021.0071%207.10927%2019.0212%206.31492L16.2127%205.19153C14.2268%204.39718%2013.2339%204%2012%204C10.7661%204%209.77318%204.39718%207.7873%205.19153L4.97883%206.31492C2.99294%207.10927%202%207.50645%202%208Z'%20fill='%231C274C'/%3e%3cpath%20opacity='0.7'%20d='M5.76613%2010L4.97883%2010.3149C2.99294%2011.1093%202%2011.5065%202%2012C2%2012.4935%202.99294%2012.8907%204.97883%2013.6851L7.7873%2014.8085C9.77318%2015.6028%2010.7661%2016%2012%2016C13.2339%2016%2014.2268%2015.6028%2016.2127%2014.8085L19.0212%2013.6851C21.0071%2012.8907%2022%2012.4935%2022%2012C22%2011.5065%2021.0071%2011.1093%2019.0212%2010.3149L18.2339%2010L16.2127%2010.8085C14.2268%2011.6028%2013.2339%2012%2012%2012C10.7661%2012%209.77318%2011.6028%207.7873%2010.8085L5.76613%2010Z'%20fill='%231C274C'/%3e%3cpath%20opacity='0.4'%20d='M5.76613%2014L4.97883%2014.3149C2.99294%2015.1093%202%2015.5065%202%2016C2%2016.4935%202.99294%2016.8907%204.97883%2017.6851L7.7873%2018.8085C9.77318%2019.6028%2010.7661%2020%2012%2020C13.2339%2020%2014.2268%2019.6028%2016.2127%2018.8085L19.0212%2017.6851C21.0071%2016.8907%2022%2016.4935%2022%2016C22%2015.5065%2021.0071%2015.1093%2019.0212%2014.3149L18.2339%2014L16.2127%2014.8085C14.2268%2015.6028%2013.2339%2016%2012%2016C10.7661%2016%209.77318%2015.6028%207.7873%2014.8085L5.76613%2014Z'%20fill='%231C274C'/%3e%3c/g%3e%3c/svg%3e";function jw({setTileLayer:r}){const[t,n]=Y.useState(!1),s=new Ed({source:new $1}),a=new Ed({source:new Q1({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"})}),o={transform:`translateY(${t?"60px":"0px"})`},c={transform:`translateY(${t?"120px":"0px"})`};return gt.jsxs("div",{id:"layerchanger",children:[gt.jsx("button",{style:c,className:"layers",id:"osm",onClick:()=>{r(s),n(!t)},children:"OSM"}),gt.jsx("button",{style:o,className:"layers",id:"satellite",onClick:()=>{r(a),n(!t)},children:"SAT"}),gt.jsx("button",{className:"layers",onClick:()=>n(!t),children:gt.jsx("img",{style:{width:"35px"},src:Pw,alt:""})})]})}const Zw="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23005661'%20width='256px'%20height='256px'%20viewBox='-14%20-14%2084.00%2084.00'%20xmlns='http://www.w3.org/2000/svg'%20stroke='%23005661'%20stroke-width='0.00056'%20transform='rotate(0)'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke='%23e0e0e0'%20stroke-width='10.304'%3e%3cpath%20d='M%2027.9999%2051.9062%20C%2041.0546%2051.9062%2051.9063%2041.0547%2051.9063%2028.0000%20C%2051.9063%2014.9219%2041.0312%204.0938%2027.9765%204.0938%20C%2014.8983%204.0938%204.0937%2014.9219%204.0937%2028.0000%20C%204.0937%2041.0547%2014.9218%2051.9062%2027.9999%2051.9062%20Z%20M%2018.6952%2040.0000%20C%2017.9687%2040.0000%2017.4765%2039.4844%2017.4765%2038.7344%20C%2017.4765%2038.4297%2017.5468%2038.125%2017.6640%2037.8438%20L%2026.3358%2015.6953%20C%2026.7109%2014.7813%2027.2499%2014.3360%2028.0234%2014.3360%20C%2028.7499%2014.3360%2029.3124%2014.7813%2029.6405%2015.6953%20L%2038.3358%2037.8438%20C%2038.4530%2038.125%2038.5468%2038.4297%2038.5468%2038.7344%20C%2038.5468%2039.4844%2038.0546%2040.0000%2037.3046%2040.0000%20C%2036.9530%2040.0000%2036.5780%2039.8594%2036.3436%2039.625%20L%2028.5624%2031.8203%20C%2028.3514%2031.6094%2028.1874%2031.4922%2028.0234%2031.4922%20C%2027.8358%2031.4922%2027.6483%2031.6094%2027.4374%2031.8203%20L%2019.6327%2039.625%20C%2019.3983%2039.8594%2019.0468%2040.0000%2018.6952%2040.0000%20Z'/%3e%3c/g%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M%2027.9999%2051.9062%20C%2041.0546%2051.9062%2051.9063%2041.0547%2051.9063%2028.0000%20C%2051.9063%2014.9219%2041.0312%204.0938%2027.9765%204.0938%20C%2014.8983%204.0938%204.0937%2014.9219%204.0937%2028.0000%20C%204.0937%2041.0547%2014.9218%2051.9062%2027.9999%2051.9062%20Z%20M%2018.6952%2040.0000%20C%2017.9687%2040.0000%2017.4765%2039.4844%2017.4765%2038.7344%20C%2017.4765%2038.4297%2017.5468%2038.125%2017.6640%2037.8438%20L%2026.3358%2015.6953%20C%2026.7109%2014.7813%2027.2499%2014.3360%2028.0234%2014.3360%20C%2028.7499%2014.3360%2029.3124%2014.7813%2029.6405%2015.6953%20L%2038.3358%2037.8438%20C%2038.4530%2038.125%2038.5468%2038.4297%2038.5468%2038.7344%20C%2038.5468%2039.4844%2038.0546%2040.0000%2037.3046%2040.0000%20C%2036.9530%2040.0000%2036.5780%2039.8594%2036.3436%2039.625%20L%2028.5624%2031.8203%20C%2028.3514%2031.6094%2028.1874%2031.4922%2028.0234%2031.4922%20C%2027.8358%2031.4922%2027.6483%2031.6094%2027.4374%2031.8203%20L%2019.6327%2039.625%20C%2019.3983%2039.8594%2019.0468%2040.0000%2018.6952%2040.0000%20Z'/%3e%3c/g%3e%3c/svg%3e";function Vw(){const r=Y.useRef(),t=Y.useRef(),n=Y.useRef(),[s,a]=Y.useState(new Ed({source:new $1})),[o,c]=Y.useState(new Un({center:[8452796245751543e-9,1268422763649639e-9],zoom:20,maxZoom:18.5})),h=new Md({geometry:new lc([0,0])}),d=new bT({source:new lR({features:[h]}),style:new ps({image:new io({anchor:[0,0],src:Zw,scale:.2})})});return Y.useEffect(()=>{navigator.geolocation.watchPosition(g=>{n.current=jS([g.coords.longitude,g.coords.latitude]),h.getGeometry().setCoordinates(n.current)},g=>{console.log("error getting location "+g)})},[]),Y.useEffect(()=>{const g=new aw({target:r.current,layers:[s,d],view:o});return t.current=g,()=>g.setTarget(null)},[]),Y.useEffect(()=>{const g=t.current.getLayers().getArray();t.current.setLayers([s,...g.slice(1)]),t.current.setView(o)},[o,s]),gt.jsxs("div",{id:"basemap",children:[gt.jsx("div",{ref:r,id:"map"}),gt.jsx(jw,{setTileLayer:a}),gt.jsx(Hw,{setView:c,userLocation:n.current})]})}function qw(r){const[t,n,s]=Ql("user"),a=Kl();Y.useEffect(()=>{t.user?r.setUser(t.user):(r.setUser(null),a("/"))},[]);function o(){s("user",{path:"/"}),r.setUser(null),a("/")}return gt.jsxs(gt.Fragment,{children:[gt.jsx(Vw,{}),gt.jsx("button",{onClick:()=>o(),style:{position:"absolute",bottom:"100px"},children:"Logout"})]})}function Kw(r){const[t,n,s]=Ql("user"),a=Kl();Y.useEffect(()=>{},[]);function o(){n("user",JSON.stringify({username:"anonymous",role:"anonymous"}),{path:"/",expires:new Date(Date.now()+60*60*1e3)}),a("/home")}return gt.jsxs(gt.Fragment,{children:[gt.jsx("h1",{children:"Login Page"}),gt.jsx("button",{onClick:()=>o(),children:"Sign in"})]})}function Ww(r){const[t,n,s]=Ql("user"),a=Kl();return Y.useEffect(()=>{t.user||a("/")},[]),gt.jsxs(gt.Fragment,{children:[gt.jsx("h1",{children:"Events page"}),gt.jsx("button",{onClick:()=>{a("/home")},children:"home"})]})}function Qw(r){const[t,n,s]=Ql("user"),a=Kl();Y.useEffect(()=>{t.user&&a("/home")},[]);function o(){n("user",JSON.stringify({username:"guest",role:"guest"}),{path:"/",expires:new Date(Date.now()+60*60*1e3)}),a("/home")}return gt.jsxs("div",{className:"title",children:[gt.jsx("div",{className:"logo",children:gt.jsx("div",{className:"c1 circle",children:gt.jsx("div",{className:"c2 circle",children:gt.jsx("div",{className:"c3 circle",children:gt.jsx("div",{className:"c4 circle",children:gt.jsx("h1",{children:"*ptr"})})})})})}),gt.jsxs("div",{className:"wlin",children:[gt.jsx("h1",{id:"welcome",children:"Welcom to POINTER"}),gt.jsx("p",{children:"The only wayfinder at NITC you'll ever need"}),gt.jsx("br",{}),gt.jsx("button",{onClick:()=>a("/login"),children:"Login/Signup"}),gt.jsx("button",{onClick:()=>o(),id:"guestlogin",children:"login as guest"})]})]})}function $w(){const[r,t]=Y.useState(null);return Ql("user"),Y.useEffect(()=>{},[]),gt.jsx(Ix,{basename:"NITC-MAP",children:gt.jsxs(cx,{children:[gt.jsx(Wr,{path:"/",element:gt.jsx(Qw,{user:r})}),gt.jsx(Wr,{path:"/home",element:gt.jsx(qw,{user:r,setUser:t})}),gt.jsx(Wr,{path:"/login",element:gt.jsx(Kw,{setUser:t})}),gt.jsx(Wr,{path:"/events",element:gt.jsx(Ww,{user:r})}),gt.jsx(Wr,{path:"/*",element:gt.jsx("h1",{children:"404 Not found"})})]})})}EE.createRoot(document.getElementById("root")).render(gt.jsx(Y.StrictMode,{children:gt.jsx($w,{})}));
